/*! 04-10-2022 */
!function(w){"use strict";var u={objectMaxDepth:5};function t(e){if(!$e(e))return u;T(e.objectMaxDepth)&&(u.objectMaxDepth=h(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function h(e){return b(e)&&0<e}function k(a,s){s=s||Error;var l="https://errors.angularjs.org/1.7.0/",e=l.replace(".","\\.")+"[\\s\\S]*",c=new RegExp(e,"g");return function(){for(var e=arguments[0],t=arguments[1],n="["+(a?a+":":"")+e+"] ",i=Be(arguments,2).map(function(e){return it(e,u.objectMaxDepth)}),n=(n+=t.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<i.length?i[t].replace(c,""):e}))+("\n"+l+(a?a+"/":"")+e),r=0,o="?";r<i.length;r++,o="&")n+=o+"p"+r+"="+encodeURIComponent(i[r]);return new s(n)}}var pe,m,p=/^\/(.+)\/([a-z]*)$/,f="validity",N=Object.prototype.hasOwnProperty,A=function(e){return ye(e)?e.toLowerCase():e},x=function(e){return ye(e)?e.toUpperCase():e},g=[].slice,i=[].splice,r=[].push,v=Object.prototype.toString,S=Object.getPrototypeOf,P=k("ng"),y=w.angular||(w.angular={}),O=0;function V(e){var t;return null!=e&&!I(e)&&(be(e)||ye(e)||pe&&e instanceof pe||b(t="length"in Object(e)&&e.length)&&(0<=t&&t-1 in e||"function"==typeof e.item))}function fe(e,t,n){if(e)if(Ce(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(be(e)||V(e))for(var i="object"!=typeof e,r=0,o=e.length;r<o;r++)(i||r in e)&&t.call(n,e[r],r,e);else if(e.forEach&&e.forEach!==fe)e.forEach(t,n,e);else if(U(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)N.call(e,r)&&t.call(n,e[r],r,e);return e}function L(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r])}function q(n){return function(e,t){n(t,e)}}function B(){return++O}function F(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function R(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if($e(a)||Ce(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],h=a[u];n&&$e(h)?C(h)?e[u]=new Date(h.valueOf()):z(h)?e[u]=new RegExp(h):h.nodeName?e[u]=h.cloneNode(!0):G(h)?e[u]=h.clone():($e(e[u])||(e[u]=be(h)?[]:{}),R(e[u],[h],!0)):e[u]=h}}return F(e,i),e}function ge(e){return R(e,g.call(arguments,1),!1)}function H(e){return R(e,g.call(arguments,1),!0)}function $(e){return parseInt(e,10)}var Me=w.document.documentMode,M=Number.isNaN||function(e){return e!=e};function Te(e,t){return ge(Object.create(e),t)}function me(){}function De(e){return e}function E(e){return function(){return e}}function _(e){return Ce(e.toString)&&e.toString!==v}function ve(e){return void 0===e}function T(e){return void 0!==e}function $e(e){return null!==e&&"object"==typeof e}function U(e){return null!==e&&"object"==typeof e&&!S(e)}function ye(e){return"string"==typeof e}function b(e){return"number"==typeof e}function C(e){return"[object Date]"===v.call(e)}function be(e){return Array.isArray(e)||e instanceof Array}function Pe(e){switch(v.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return e instanceof Error}}function Ce(e){return"function"==typeof e}function z(e){return"[object RegExp]"===v.call(e)}function I(e){return e&&e.window===e}function Oe(e){return e&&e.$evalAsync&&e.$watch}function Le(e){return"boolean"==typeof e}function j(e){return e&&Ce(e.then)}me.$inject=[],De.$inject=[];var W=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var we=function(e){return ye(e)?e.trim():e},Y=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function G(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ke(e){return A(e.nodeName||e[0]&&e[0].nodeName)}function X(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function Ve(e,t){t=e.indexOf(t);return 0<=t&&e.splice(t,1),t}function K(e,n,t){var i,r=[],o=[];if(t=h(t)?t:NaN,n){if((i=n)&&b(i.length)&&W.test(v.call(i))||"[object ArrayBuffer]"===v.call(n))throw P("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw P("cpi","Can't copy! Source and destination are identical.");return be(n)?n.length=0:fe(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),r.push(e),o.push(n),a(e,n,t)}return s(e,t);function a(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(be(e))for(var o=0,a=e.length;o<a;o++)t.push(s(e[o],n));else if(U(e))for(i in e)t[i]=s(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=s(e[i],n));else for(i in e)N.call(e,i)&&(t[i]=s(e[i],n));return F(t,r),t}function s(e,t){if(!$e(e))return e;var n=r.indexOf(e);if(-1!==n)return o[n];if(I(e)||Oe(e))throw P("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(e){switch(v.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":return e.slice?e.slice(0):(t=new ArrayBuffer(e.byteLength),new Uint8Array(t).set(new Uint8Array(e)),t);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(Ce(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=be(e)?[]:Object.create(S(e)),n=!0),r.push(e),o.push(i),n?a(e,i,t):i}}function qe(e,t){return e===t||e!=e&&t!=t}function xe(e,t){if(e===t)return!0;if(null!==e&&null!==t){if(e!=e&&t!=t)return!0;var n,i,r,o=typeof e;if(o==typeof t&&"object"==o){if(!be(e)){if(C(e))return!!C(t)&&qe(e.getTime(),t.getTime());if(z(e))return!!z(t)&&e.toString()===t.toString();if(Oe(e)||Oe(t)||I(e)||I(t)||be(t)||C(t)||z(t))return!1;for(i in r=Ee(),e)if("$"!==i.charAt(0)&&!Ce(e[i])){if(!xe(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&T(t[i])&&!Ce(t[i]))return!1;return!0}if(!be(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!xe(e[i],t[i]))return!1;return!0}}}return!1}var Q=function(){var e;return T(Q.rules)||((e=w.document.querySelector("[ng-csp]")||w.document.querySelector("[data-ng-csp]"))?(e=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp"),Q.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}):Q.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}),Q.rules},Z=function(){if(T(Z.name_))return Z.name_;for(var e,t,n,i=he.length,r=0;r<i;++r)if(t=he[r],e=w.document.querySelector("["+t.replace(":","\\:")+"jq]")){n=e.getAttribute(t+"jq");break}return Z.name_=n};function J(e,t,n){return e.concat(g.call(t,n))}function Be(e,t){return g.call(e,t||0)}function Fe(e,t){var n=2<arguments.length?Be(arguments,2):[];return!Ce(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,J(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ee(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:I(t)?n="$WINDOW":t&&w.document===t?n="$DOCUMENT":Oe(t)&&(n="$SCOPE"),n}function te(e,t){if(!ve(e))return b(t)||(t=t?2:null),JSON.stringify(e,ee,t)}function ne(e){return ye(e)?JSON.parse(e):e}var ie=/:/g;function re(e,t){e=e.replace(ie,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return M(e)?t:e}function oe(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function ae(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return oe(e,n*(re(t,i)-i))}function Se(e){e=pe(e).clone().empty();var t=pe("<div></div>").append(e).html();try{return e[0].nodeType===Ze?A(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+A(t)})}catch(e){return A(t)}}function se(e){try{return decodeURIComponent(e)}catch(e){}}function le(e){var r={};return fe((e||"").split("&"),function(e){var t,n,i;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),i=e.substring(t+1)),T(n=se(n))&&(i=!T(i)||se(i),N.call(r,n)?be(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i))}),r}function ce(e){var n=[];return fe(e,function(e,t){be(e)?fe(e,function(e){n.push(o(t,!0)+(!0===e?"":"="+o(e,!0)))}):n.push(o(t,!0)+(!0===e?"":"="+o(e,!0)))}),n.length?n.join("&"):""}function ue(e){return o(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var he=["ng-","data-ng-","ng:","x-ng-"];de=w.document;var de,Re=!(je=de.currentScript)||(je instanceof w.HTMLScriptElement||je instanceof w.SVGScriptElement)&&[(je=je.attributes).getNamedItem("src"),je.getNamedItem("href"),je.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=de.createElement("a");if(t.href=e.value,de.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}});function He(n,e){var i,r,t={};fe(he,function(e){e+="app";!i&&n.hasAttribute&&n.hasAttribute(e)&&(r=(i=n).getAttribute(e))}),fe(he,function(e){var t,e=e+"app";!i&&(t=n.querySelector("["+e.replace(":","\\:")+"]"))&&(r=(i=t).getAttribute(e))}),i&&(Re?(t.strictDi=null!==function(e,t){for(var n,i=he.length,r=0;r<i;++r)if(n=he[r]+t,ye(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),e(i,r?[r]:[],t)):w.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function _e(t,n,i){function r(){if((t=pe(t)).injector())throw e=t[0]===w.document?"document":Se(t),P("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"));(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var e=ln(n,i.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e}i=ge({strictDi:!1},i=$e(i)?i:{});var e=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(w&&e.test(w.name)&&(i.debugInfoEnabled=!0,w.name=w.name.replace(e,"")),w&&!o.test(w.name))return r();w.name=w.name.replace(o,""),y.resumeBootstrap=function(e){return fe(e,function(e){n.push(e)}),r()},Ce(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function Ue(){w.name="NG_ENABLE_DEBUG_INFO!"+w.name,w.location.reload()}function ze(e){e=y.element(e).injector();if(e)return e.get("$$testability");throw P("test","no injector found for element argument to getTestability")}var Ne=/[A-Z]/g;function Ie(e,n){return n=n||"_",e.replace(Ne,function(e,t){return(t?n:"")+e.toLowerCase()})}var je=!1;function We(e,t,n){if(!e)throw P("areq","Argument '{0}' is {1}",t||"?",n||"required")}function Ye(e,t,n){We(Ce(e=n&&be(e)?e[e.length-1]:e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e))}function Ge(e,t){if("hasOwnProperty"===e)throw P("badname","hasOwnProperty is not a valid {0} name",t)}function Xe(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)!t&&e[r]===n||(t=t||pe(g.call(e,0,r))).push(n);return t||e}function Ee(){return Object.create(null)}function Ke(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!_(e)||be(e)||C(e)?te(e):e.toString()}return e}var Qe=1,Ze=3,Je=8,et=9;function tt(e){var h=k("$injector"),d=k("ng");function n(e,t,n){return e[t]||(e[t]=n())}e=n(e,"angular",Object);return e.$$minErr=e.$$minErr||k,n(e,"module",function(){var t={};return function(s,l,c){var u={},e="module";if("hasOwnProperty"===s)throw d("badname","hasOwnProperty is not a valid {0} name",e);return l&&t.hasOwnProperty(s)&&(t[s]=null),n(t,s,function(){var o,e,t,n,a;if(l)return o=[],n=i("$injector","invoke","push",e=[]),a={_invokeQueue:o,_configBlocks:e,_runBlocks:t=[],info:function(e){if(T(e)){if($e(e))return u=e,this;throw d("aobj","Argument '{0}' must be an object","value")}return u},requires:l,name:s,provider:r("$provide","provider"),factory:r("$provide","factory"),service:r("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),decorator:r("$provide","decorator",e),animation:r("$animateProvider","register"),filter:r("$filterProvider","register"),controller:r("$controllerProvider","register"),directive:r("$compileProvider","directive"),component:r("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}},c&&n(c),a;throw h("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);function i(e,t,n,i){return i=i||o,function(){return i[n||"push"]([e,t,arguments]),a}}function r(n,i,r){return r=r||o,function(e,t){return t&&Ce(t)&&(t.$$moduleName=s),r.push([n,i,arguments]),a}}})}})}function nt(e,t){if(be(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if($e(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}function it(e,t){var n,i;return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):ve(e)?"undefined":"string"!=typeof e?(n=e,i=[],h(t=t)&&(n=y.copy(n,null,t)),JSON.stringify(n,function(e,t){if($e(t=ee(e,t))){if(0<=i.indexOf(t))return"...";i.push(t)}return t})):e}var rt={full:"1.7.0",major:1,minor:7,dot:0,codeName:"nonexistent-physiology"};s.expando="ng339";var ot=s.cache={},at=1;s._data=function(e){return this.cache[e[this.expando]]||{}};var st=/-([a-z])/g,lt=/^-ms-/,ct={mouseleave:"mouseout",mouseenter:"mouseover"},ut=k("jqLite");function ht(e,t){return t.toUpperCase()}function dt(e){return e.replace(st,ht)}var pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ft=/<|&#?\w+;/,gt=/<([\w:-]+)/,mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,a={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(e){return!ft.test(e)}function $t(e){e=e.nodeType;return e===Qe||!e||e===et}function yt(e,t){var n,i,r=t.createDocumentFragment(),o=[];if(vt(e))o.push(t.createTextNode(e));else{for(n=r.appendChild(t.createElement("div")),t=(gt.exec(e)||["",""])[1].toLowerCase(),t=a[t]||a._default,n.innerHTML=t[1]+e.replace(mt,"<$1></$2>")+t[2],i=t[0];i--;)n=n.lastChild;o=J(o,n.childNodes),(n=r.firstChild).textContent=""}return r.textContent="",r.innerHTML="",fe(o,function(e){r.appendChild(e)}),r}a.optgroup=a.option,a.tbody=a.tfoot=a.colgroup=a.caption=a.thead,a.th=a.td;var bt=w.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function s(e){if(e instanceof s)return e;var t,n,i;if(ye(e)&&(e=we(e),t=!0),!(this instanceof s)){if(t&&"<"!==e.charAt(0))throw ut("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new s(e)}t?Ot(this,(t=e,n=n||w.document,(i=pt.exec(t))?[n.createElement(i[1])]:(i=yt(t,n))?i.childNodes:[])):Ce(e)?Ft(e):Ot(this,e)}function Ct(e){return e.cloneNode(!0)}function wt(e,t){!t&&$t(e)&&pe.cleanData([e]),e.querySelectorAll&&pe.cleanData(e.querySelectorAll("*"))}function kt(e){for(var t in e)return;return 1}function xt(e){var t=e.ng339,n=t&&ot[t],i=n&&n.events,n=n&&n.data;n&&!kt(n)||i&&!kt(i)||(delete ot[t],e.ng339=void 0)}function St(n,e,i,t){if(T(t))throw ut("offargs","jqLite#off() does not support the `selector` argument");var t=At(n),r=t&&t.events,o=t&&t.handle;if(o){if(e){var a=function(e){var t=r[e];T(i)&&Ve(t||[],i),T(i)&&t&&0<t.length||(n.removeEventListener(e,o),delete r[e])};fe(e.split(" "),function(e){a(e),ct[e]&&a(ct[e])})}else for(e in r)"$destroy"!==e&&n.removeEventListener(e,o),delete r[e];xt(n)}}function Et(e,t){var n=e.ng339,n=n&&ot[n];n&&(t?delete n.data[t]:n.data={},xt(e))}function At(e,t){var n=e.ng339,i=n&&ot[n];return t&&!i&&(e.ng339=n=++at,i=ot[n]={events:{},data:{},handle:void 0}),i}function Mt(e,t,n){if($t(e)){var i,r=T(n),o=!r&&t&&!$e(t),a=!t,e=At(e,!o),s=e&&e.data;if(r)s[dt(t)]=n;else{if(a)return s;if(o)return s&&s[dt(t)];for(i in t)s[dt(i)]=t[i]}}}function Tt(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Dt(e,t){var n,i;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n,fe(t.split(" "),function(e){e=we(e),i=i.replace(" "+e+" "," ")}),i!==n&&e.setAttribute("class",we(i)))}function Pt(e,t){var n,i;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n,fe(t.split(" "),function(e){e=we(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),i!==n&&e.setAttribute("class",we(i)))}function Ot(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Lt(e,t){return Vt(e,"$"+(t||"ngController")+"Controller")}function Vt(e,t,n){e.nodeType===et&&(e=e.documentElement);for(var i=be(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(T(n=pe.data(e,i[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function qt(e){for(wt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Bt(e,t){t||wt(e);t=e.parentNode;t&&t.removeChild(e)}function Ft(e){function t(){w.document.removeEventListener("DOMContentLoaded",t),w.removeEventListener("load",t),e()}"complete"===w.document.readyState?w.setTimeout(e):(w.document.addEventListener("DOMContentLoaded",t),w.addEventListener("load",t))}var Rt=s.prototype={ready:Ft,toString:function(){var t=[];return fe(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return pe(0<=e?this[e]:this[this.length+e])},length:0,push:r,sort:[].sort,splice:[].splice},Ht={},_t=(fe("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ht[A(e)]=e}),{}),Ut=(fe("input,select,option,textarea,button,form,details".split(","),function(e){_t[e]=!0}),{ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"});function zt(e,t){t=Ht[t.toLowerCase()];return t&&_t[ke(e)]&&t}function Nt(e,t){var n;if(ve(t))return(n=e.nodeType)===Qe||n===Ze?e.textContent:"";e.textContent=t}function It(s,l){function e(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],i=n?n.length:0;if(i){ve(e.immediatePropagationStopped)&&(r=e.stopImmediatePropagation,e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),r&&r.call(e)}),e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var r,o=n.specialHandlerWrapper||jt;1<i&&(n=nt(n));for(var a=0;a<i;a++)e.isImmediatePropagationStopped()||o(s,e,n[a])}}return e.elem=s,e}function jt(e,t,n){n.call(e,t)}function Wt(e,t,n){var i=t.relatedTarget;i&&(i===e||bt.call(e,i))||n.call(e,t)}function Yt(){this.$get=function(){return ge(s,{hasClass:function(e,t){return Tt(e=e.attr?e[0]:e,t)},addClass:function(e,t){return Pt(e=e.attr?e[0]:e,t)},removeClass:function(e,t){return Dt(e=e.attr?e[0]:e,t)}})}}function Gt(e,t){var n=e&&e.$$hashKey;return n?"function"==typeof n?e.$$hashKey():n:"function"==(n=typeof e)||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||B)():n+":"+e}fe({data:Mt,removeData:Et,hasData:function(e){for(var t in ot[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Et(e[t]),St(e[t])}},function(e,t){s[t]=e}),fe({data:Mt,inheritedData:Vt,scope:function(e){return pe.data(e,"$scope")||Vt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return pe.data(e,"$isolateScope")||pe.data(e,"$isolateScopeNoTemplate")},controller:Lt,injector:function(e){return Vt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Tt,css:function(e,t,n){if(t=dt(t.replace(lt,"ms-")),!T(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==Ze&&2!==r&&r!==Je&&e.getAttribute)return r=A(t),i=Ht[r],T(n)?void(null===n||!1===n&&i?e.removeAttribute(t):e.setAttribute(t,i?r:n)):(n=e.getAttribute(t),null===(n=i&&null!==n?r:n)?void 0:n)},prop:function(e,t,n){if(!T(n))return e[t];e[t]=n},text:(Nt.$dv="",Nt),val:function(e,t){var n;if(ve(t))return e.multiple&&"select"===ke(e)?(n=[],fe(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n):e.value;e.value=t},html:function(e,t){if(ve(t))return e.innerHTML;wt(e,!0),e.innerHTML=t},empty:qt},function(c,e){s.prototype[e]=function(e,t){var n,i,r=this.length;if(c!==qt&&ve(2===c.length&&c!==Tt&&c!==Lt?e:t)){if($e(e)){for(n=0;n<r;n++)if(c===Mt)c(this[n],e);else for(i in e)c(this[n],i,e[i]);return this}for(var o=ve(l=c.$dv)?Math.min(r,1):r,a=0;a<o;a++)var s=c(this[a],e,t),l=l?l+s:s;return l}for(n=0;n<r;n++)c(this[n],e,t);return this}}),fe({removeData:Et,on:function(r,e,o,t){if(T(t))throw ut("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if($t(r))for(var t=At(r,!0),a=t.events,s=(s=t.handle)||(t.handle=It(r,a)),n=0<=e.indexOf(" ")?e.split(" "):[e],i=n.length,l=function(e,t,n){var i=a[e];i||((i=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||r.addEventListener(e,s)),i.push(o)};i--;)e=n[i],ct[e]?(l(ct[e],Wt),l(e,void 0,!0)):l(e)},off:St,one:function(t,n,i){(t=pe(t)).on(n,function e(){t.off(n,i),t.off(n,e)}),t.on(n,i)},replaceWith:function(t,e){var n,i=t.parentNode;wt(t),fe(new s(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(e){var t=[];return fe(e.childNodes,function(e){e.nodeType===Qe&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Qe||11===n)for(var i=0,r=(t=new s(t)).length;i<r;i++){var o=t[i];e.appendChild(o)}},prepend:function(t,e){var n;t.nodeType===Qe&&(n=t.firstChild,fe(new s(e),function(e){t.insertBefore(e,n)}))},wrap:function(e,t){var n;e=e,t=pe(t).eq(0).clone()[0],(n=e.parentNode)&&n.replaceChild(t,e),t.appendChild(e)},remove:Bt,detach:function(e){Bt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,o=(t=new s(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Pt,removeClass:Dt,toggleClass:function(n,e,i){e&&fe(e.split(" "),function(e){var t=i;((t=ve(i)?!Tt(n,e):t)?Pt:Dt)(n,e)})},parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ct,triggerHandler:function(t,e,n){var i,r,o=e.type||e,a=At(t),a=a&&a.events,a=a&&a[o];a&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:me,type:o,target:t},e.type&&(i=ge(i,e)),o=nt(a),r=n?[i].concat(n):[i],fe(o,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(a,e){s.prototype[e]=function(e,t,n){for(var i,r=0,o=this.length;r<o;r++)ve(i)?T(i=a(this[r],e,t,n))&&(i=pe(i)):Ot(i,a(this[r],e,t,n));return T(i)?i:this}}),s.prototype.bind=s.prototype.on,s.prototype.unbind=s.prototype.off;var Xt=Object.create(null);function Kt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Kt.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return M(e)?Xt:e},get:function(e){e=this._transformKey(e);e=this._idx(e);if(-1!==e)return this._values[e]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);e=this._idx(e);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Qt=Kt,Zt=[function(){this.$get=[function(){return Qt}]}],Jt=/^([^(]+?)=>/,en=/^[^(]*\(\s*([^)]*)\)/m,tn=/,/,nn=/^\s*(_?)(\S+?)\1\s*$/,rn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,on=k("$injector");function an(e){return Function.prototype.toString.call(e)}function sn(e){e=an(e).replace(rn,"");return e.match(Jt)||e.match(en)}function ln(e,c){c=!0===c;var o={},a="Provider",s=[],r=new Qt,u={$provide:{provider:i(d),factory:i(p),service:i(function(e,t){return p(e,["$injector",function(e){return e.instantiate(t)}])}),value:i(function(e,t){return p(e,E(t),!1)}),constant:i(function(e,t){Ge(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=l.get(e+a),i=n.$get;n.$get=function(){var e=h.invoke(i,n);return h.invoke(t,null,{$delegate:e})}}}},l=u.$injector=g(u,function(e,t){throw y.isString(t)&&s.push(t),on("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=g(n,function(e,t){t=l.get(e+a,t);return h.invoke(t.$get,t,void 0,e)}),h=t,e=(u["$injector"+a]={$get:E(t)},h.modules=l.modules=Ee(),f(e));return(h=t.get("$injector")).strictDi=c,fe(e,function(e){e&&h.invoke(e)}),h.loadNewModules=function(e){fe(f(e),function(e){e&&h.invoke(e)})},h;function i(n){return function(e,t){if(!$e(e))return n(e,t);fe(e,q(n))}}function d(e,t){if(Ge(e,"service"),(t=Ce(t)||be(t)?l.instantiate(t):t).$get)return u[e+a]=t;throw on("pget","Provider '{0}' must define $get factory method.",e)}function p(e,t,n){return d(e,{$get:!1!==n?(i=e,r=t,function(){var e=h.invoke(r,this);if(ve(e))throw on("undef","Provider '{0}' must return a value from $get factory method.",i);return e}):t});var i,r}function f(e){We(ve(e)||be(e),"modulesToLoad","not an array");var n,i=[];return fe(e,function(t){if(!r.get(t)){r.set(t,!0);try{ye(t)?(n=m(t),h.modules[t]=n,i=i.concat(f(n.requires)).concat(n._runBlocks),e(n._invokeQueue),e(n._configBlocks)):Ce(t)||be(t)?i.push(l.invoke(t)):Ye(t,"module")}catch(e){throw be(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),on("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){for(var t=0,n=e.length;t<n;t++){var i=e[t],r=l.get(i[0]);r[i[1]].apply(r,i[2])}}}),i}function g(n,i){function l(t,e){if(n.hasOwnProperty(t)){if(n[t]===o)throw on("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=o,n[t]=i(t,e),n[t]}catch(e){throw n[t]===o&&delete n[t],e}finally{s.shift()}}function r(e,t,n){for(var i=[],r=ln.$$annotate(e,c,n),o=0,a=r.length;o<a;o++){var s=r[o];if("string"!=typeof s)throw on("itkn","Incorrect injection token! Expected service name as string, got {0}",s);i.push(t&&t.hasOwnProperty(s)?t[s]:l(s,n))}return i}return{invoke:function(e,t,n,i){return"string"==typeof n&&(i=n,n=null),n=r(e,n,i),function(e){var t;if(!Me&&"function"==typeof e)return Le(t=e.$$ngIsClass)?t:e.$$ngIsClass=/^class\b/.test(an(e))}(e=be(e)?e[e.length-1]:e)?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=be(e)?e[e.length-1]:e;return(e=r(e,t,n)).unshift(null),new(Function.prototype.bind.apply(i,e))},get:l,annotate:ln.$$annotate,has:function(e){return u.hasOwnProperty(e+a)||n.hasOwnProperty(e)}}}}function cn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(i,r,o){var a=i.document;function s(e){var t,n;e?(e.scrollIntoView(),Ce(n=l.yOffset)?n=n():G(n)?(t=n[0],n="fixed"!==i.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):b(n)||(n=0),(t=n)&&(n=e.getBoundingClientRect().top,i.scrollBy(0,n-t))):i.scrollTo(0,0)}function l(e){var t,n,i;(e=ye(e)?e:b(e)?e.toString():r.hash())?(t=a.getElementById(e))||(n=a.getElementsByName(e),i=null,Array.prototype.some.call(n,function(e){if("a"===ke(e))return i=e,!0}),t=i)?s(t):"top"===e&&s(null):s(null)}return e&&o.$watch(function(){return r.hash()},function(e,t){var n;e===t&&""===e||(t=function(){o.$evalAsync(l)},"complete"===(n=n||w).document.readyState?n.setTimeout(t):pe(n).on("load",t))}),l}]}ln.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw ye(n)&&n||(n=e.name||((t=sn(t=e))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),on("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);fe(sn(e)[1].split(tn),function(e){e.replace(nn,function(e,t,n){i.push(n)})})}e.$inject=i}}else be(e)?(t=e.length-1,Ye(e[t],"fn"),i=e.slice(0,t)):Ye(e,"fn",!0);return i};var un=k("$animate"),hn=1,dn="ng-animate";function pn(e,t){return e||t?e?t?(e=be(e)?e.join(" "):e)+" "+(t=be(t)?t.join(" "):t):e:t:""}function fn(e){return $e(e)?e:{}}function gn(){this.$get=me}function mn(){var c=new Qt,u=[];this.$get=["$$AnimateRunner","$rootScope",function(o,a){return{enabled:me,on:me,off:me,pin:me,push:function(e,t,n,i){i&&i(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(i=e,e=n.addClass,n=n.removeClass,r=c.get(i)||{},e=s(r,e,!0),n=s(r,n,!1),(e||n)&&(c.set(i,r),u.push(i),1===u.length&&a.$$postDigest(l)));var r,e=new o;return e.complete(),e}};function s(t,e,n){var i=!1;return e&&fe(e=ye(e)?e.split(" "):be(e)?e:[],function(e){e&&(i=!0,t[e]=n)}),i}function l(){fe(u,function(e){var n,i,r,t,o,a=c.get(e);a&&(ye(t=e.attr("class"))&&(t=t.split(" ")),o=Ee(),fe(t,function(e){e.length&&(o[e]=!0)}),n=o,r=i="",fe(a,function(e,t){e!==!!n[t]&&(e?i+=(i.length?" ":"")+t:r+=(r.length?" ":"")+t)}),fe(e,function(e){i&&Pt(e,i),r&&Dt(e,r)}),c.delete(e))}),u.length=0}}]}function vn(){this.$get=["$$rAF",function(t){var n=[];function i(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return i(function(){t=!0}),function(e){t?e():i(e)}}}]}function $n(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?r(e,0,!1):t(e)},this._state=0}return o.chain=function(e,n){var i=0;!function t(){if(i===e.length)return void n(!0);e[i](function(e){!1===e?n(!1):(i++,t())})}()},o.all=function(t,n){var i=0,r=!0;function o(e){r=r&&e,++i===t.length&&n(r)}fe(t,function(e){e.done(o)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:me,getPromise:function(){var e;return this.promise||((e=this).promise=t(function(t,n){e.done(function(e){(!1===e?n:t)()})})),this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(fe(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]}function yn(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){var n=t||{};(n=n.$$prepared?n:K(n)).cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var i,r=new s;return{start:o,end:o};function o(){return a(function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null),n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null),n.to&&(e.css(n.to),n.to=null),i||r.complete(),i=!0}),r}}}]}var bn=["$provide",function(i){var r=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw un("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";r.$$registeredAnimations[e.substr(1)]=n,i.factory(n,t)},this.customFilter=function(e){return n=1===arguments.length?Ce(e)?e:null:n},this.classNameFilter=function(e){if(1===arguments.length&&((t=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+dn+"[(\\s|\\/)]").test(t.toString())))throw t=null,un("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',dn);return t},this.$get=["$$animateQueue",function(o){function r(e,t,n){var i;(n=!n||!(i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===hn)return n}}(n))||i.parentNode||i.previousElementSibling?n:null)?n.after(e):t.prepend(e)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(e,t,n,i){return t=t&&pe(t),n=n&&pe(n),r(e,t=t||n.parent(),n),o.push(e,"enter",fn(i))},move:function(e,t,n,i){return t=t&&pe(t),n=n&&pe(n),r(e,t=t||n.parent(),n),o.push(e,"move",fn(i))},leave:function(e,t){return o.push(e,"leave",fn(t),function(){e.remove()})},addClass:function(e,t,n){return(n=fn(n)).addClass=pn(n.addclass,t),o.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=fn(n)).removeClass=pn(n.removeClass,t),o.push(e,"removeClass",n)},setClass:function(e,t,n,i){return(i=fn(i)).addClass=pn(i.addClass,t),i.removeClass=pn(i.removeClass,n),o.push(e,"setClass",i)},animate:function(e,t,n,i,r){return(r=fn(r)).from=r.from?ge(r.from,t):t,r.to=r.to?ge(r.to,n):n,r.tempClasses=pn(r.tempClasses,i=i||"ng-inline-animate"),o.push(e,"animate",r)}}}]}];function Cn(o,e,t,a){var s=this,l=o.location,c=o.history,i=o.setTimeout,n=o.clearTimeout,r={},u=(s.isMock=!1,0),h=[];function d(e){try{e.apply(null,Be(arguments,1))}finally{if(0===--u)for(;h.length;)try{h.pop()()}catch(e){t.error(e)}}}s.$$completeOutstandingRequest=d,s.$$incOutstandingRequestCount=function(){u++},s.notifyWhenNoOutstandingRequests=function(e){0===u?e():h.push(e)};var p,f,g=l.href,m=e.find("base"),v=null,$=a.history?function(){try{return c.state}catch(e){}}:me,y=(k(),s.url=function(e,t,n){var i,r;return ve(n)&&(n=null),l!==o.location&&(l=o.location),c!==o.history&&(c=o.history),e?(i=f===n,(g!==e||a.history&&!i)&&(r=g&&vi(g)===vi(e),g=e,f=n,!a.history||r&&i?(r||(v=e),t?l.replace(e):r?l.hash=-1===(r=(i=e).indexOf("#"))?"":i.substr(r):l.href=e,l.href!==e&&(v=e)):(c[t?"replaceState":"pushState"](n,"",e),k()),v=v&&e),s):v||l.href},s.state=function(){return p},[]),b=!1;function C(){v=null,x()}var w=null;function k(){xe(p=ve(p=$())?null:p,w)&&(p=w),f=w=p}function x(){var e=f;k(),g===s.url()&&e===p||(g=s.url(),f=p,fe(y,function(e){e(s.url(),p)}))}s.onUrlChange=function(e){return b||(a.history&&pe(o).on("popstate",C),pe(o).on("hashchange",C),b=!0),y.push(e),e},s.$$applicationDestroyed=function(){pe(o).off("hashchange popstate",C)},s.$$checkUrlChange=x,s.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(e,t){var n;return u++,n=i(function(){delete r[n],d(e)},t||0),r[n]=!0,n},s.defer.cancel=function(e){return!!r[e]&&(delete r[e],n(e),d(me),!0)}}function wn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Cn(e,i,t,n)}]}function kn(){this.$get=function(){var h={};function e(e,t){if(e in h)throw k("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,i=ge({},t,{id:e}),r=Ee(),o=t&&t.capacity||Number.MAX_VALUE,a=Ee(),s=null,l=null;return h[e]={put:function(e,t){if(!ve(t))return o<Number.MAX_VALUE&&c(a[e]||(a[e]={key:e})),e in r||n++,r[e]=t,o<n&&this.remove(l.key),t},get:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return r[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;t===s&&(s=t.p),t===l&&(l=t.n),u(t.n,t.p),delete a[e]}e in r&&(delete r[e],n--)},removeAll:function(){r=Ee(),n=0,a=Ee(),s=l=null},destroy:function(){a=i=r=null,delete h[e]},info:function(){return ge({},i,{size:n})}};function c(e){e!==s&&(l?l===e&&(l=e.n):l=e,u(e.n,e.p),u(e,s),(s=e).n=null)}function u(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return fe(h,function(e,t){n[t]=e.info()}),n},e.get=function(e){return h[e]},e}}function xn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var Ae=k("$compile");var Sn=new function(){};function En(r,t){var F={},R="Directive",H=/^\s*directive:\s*([\w-]+)\s+(.*)$/,_=/(([\w-]+)(?::([^;]+))?;?)/,U=function(e){for(var t={},n=e.split(","),i=0;i<n.length;i++)t[n[i]]=!0;return t}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,z=/^(on[a-z]+|formaction)$/,s=Ee();function f(e,i,r){var o=/^([@&<]|=(\*?))(\??)\s*([\w$]*)$/,a=Ee();return fe(e,function(e,t){if((e=e.trim())in s)a[t]=s[e];else{var n=e.match(o);if(!n)throw Ae("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,t,e,r?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}this.directive=function e(l,t){if(We(l,"name"),Ge(l,"directive"),ye(l)){var n=l,i=n.charAt(0);if(!i||i!==A(i))throw Ae("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",n);if(n!==n.trim())throw Ae("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",n);We(t,"directiveFactory"),F.hasOwnProperty(l)||(F[l]=[],r.factory(l+R,["$injector","$exceptionHandler",function(o,a){var s=[];return fe(F[l],function(e,t){try{var n=o.invoke(e);Ce(n)?n={compile:E(n)}:!n.compile&&n.link&&(n.compile=E(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=(!be(r=(i=n).require||i.controller&&i.name)&&$e(r)&&fe(r,function(e,t){var n=e.match(h);e.substring(n[0].length)||(r[t]=n[0]+t)}),r),n.restrict=function(e,t){if(!e||ye(e)&&/[EACM]/.test(e))return e||"EA";throw Ae("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t)}(n.restrict,l),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}var i,r}),s}])),F[l].push(t)}else fe(l,q(e));return this},this.component=function e(t,r){var o;return ye(t)?(o=r.controller||function(){},fe(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e,Ce(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(t,n)):(fe(t,q(Fe(this,e))),this);function n(i){function e(n){return Ce(n)||be(n)?function(e,t){return i.invoke(n,this,{$element:e,$attrs:t})}:n}var t=r.template||r.templateUrl?r.template:"",n={controller:o,controllerAs:function(e,t){if(t&&ye(t))return t;if(ye(e)){t=Vn.exec(e);if(t)return t[3]}}(r.controller)||r.controllerAs||"$ctrl",template:e(t),templateUrl:e(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return fe(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}},this.aHrefSanitizationWhitelist=function(e){return T(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return T(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()};var l=!0,c=!(this.debugInfoEnabled=function(e){return T(e)?(l=e,this):l}),u=(this.strictComponentBindingsEnabled=function(e){return T(e)?(c=e,this):c},10),g=(this.onChangesTtl=function(e){return arguments.length?(u=e,this):u},!0),m=(this.commentDirectivesEnabled=function(e){return arguments.length?(g=e,this):g},!0);this.cssClassDirectivesEnabled=function(e){return arguments.length?(m=e,this):m},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(M,T,I,j,y,W,o,D,i){var a,p=/^\w/,d=w.document.createElement("div"),O=g,L=m,e=u;function s(){try{if(!--e)throw a=void 0,Ae("infchng","{0} $onChanges() iterations reached. Aborting!\n",u);o.$apply(function(){for(var e=0,t=a.length;e<t;++e)try{a[e]()}catch(e){I(e)}a=void 0})}finally{e++}}function Y(e,t){if(t)for(var n,i=Object.keys(t),r=0,o=i.length;r<o;r++)this[n=i[r]]=t[n];else this.$attr={};this.$$element=e}function G(e,t){try{e.addClass(t)}catch(e){}}Y.prototype={$normalize:Dn,$addClass:function(e){e&&0<e.length&&i.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&i.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Pn(e,t),n=(n&&n.length&&i.addClass(this.$$element,n),Pn(t,e));n&&n.length&&i.removeClass(this.$$element,n)},$set:function(e,t,n,i){var r=zt(this.$$element[0],e),o=Ut[e],a=e;if(r?(this.$$element.prop(e,t),i=r):o&&(this[o]=t,a=o),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Ie(e,"-")),"img"===ke(this.$$element)&&"srcset"===e&&t){if(!ye(t))throw Ae("srcset","Can't pass trusted values to `$set('srcset', value)`: \"{0}\"",t.toString());for(var s="",r=we(t),o=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,l=r.split(o),c=Math.floor(l.length/2),u=0;u<c;u++)var h=2*u,s=(s+=D.getTrustedMediaUrl(we(l[h])))+(" "+we(l[1+h]));r=we(l[2*u]).split(/\s/);s+=D.getTrustedMediaUrl(we(r[0])),2===r.length&&(s+=" "+we(r[1])),this[e]=t=s}!1!==n&&(null===t||ve(t)?this.$$element.removeAttr(i):p.test(i)?this.$$element.attr(i,t):(o=this.$$element[0],r=i,e=t,d.innerHTML="<span "+r+">",r=d.firstChild.attributes,n=r[0],r.removeNamedItem(n.name),n.value=e,o.attributes.setNamedItem(n)));i=this.$$observers;i&&fe(i[a],function(e){try{e(t)}catch(e){I(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Ee()),r=i[e]||(i[e]=[]);return r.push(t),o.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||ve(n[e])||t(n[e])}),function(){Ve(r,t)}}};var t=T.startSymbol(),n=T.endSymbol(),X="{{"===t&&"}}"===n?De:function(e){return e.replace(/\{\{/g,t).replace(/}}/g,n)},V=/^ngAttr[A-Z]/,q=/^(.+)Start$/;return K.$$addBindingInfo=l?function(e,t){var n=e.data("$binding")||[];be(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:me,K.$$addBindingClass=l?function(e){G(e,"ng-binding")}:me,K.$$addScopeInfo=l?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:me,K.$$addScopeClass=l?function(e,t){G(e,t?"ng-isolate-scope":"ng-scope")}:me,K.$$createComment=function(e,t){var n="";return l&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),w.document.createComment(n)},K;function K(s,e,t,n,l){var c=Q(s=s instanceof pe?s:pe(s),e,s,t,n,l),u=(K.$$addScopeClass(s),null);return function(e,t,n){if(!s)throw Ae("multilink","This element has already been linked.");We(e,"scope"),l&&l.needsNewScope&&(e=e.$parent.$new());var i,r=(n=n||{}).parentBoundTranscludeFn,o=n.transcludeControllers,n=n.futureParentElement;if(r&&r.$$boundTransclude&&(r=r.$$boundTransclude),i="html"!==(u=u||function(e){e=e&&e[0];return e&&"foreignobject"!==ke(e)&&v.call(e).match(/SVG/)?"svg":"html"}(n))?pe(le(u,pe("<div></div>").append(s).html())):t?Rt.clone.call(s):s,o)for(var a in o)i.data("$"+a+"Controller",o[a].instance);return K.$$addScopeInfo(i,e),t&&t(i,e),c&&c(e,i,i,r),t||(s=c=null),i}}function Q(e,f,t,n,i,r){for(var o,a,s,g,m=[],l=be(e)||e instanceof pe,c=0;c<e.length;c++){if(a=new Y,11===Me){u=$=v=p=d=h=void 0;var u,h=e,d=c,p=l,v=h[d],$=v.parentNode;if(v.nodeType===Ze)for(;;){if(!(u=$?v.nextSibling:h[d+1])||u.nodeType!==Ze)break;v.nodeValue=v.nodeValue+u.nodeValue,u.parentNode&&u.parentNode.removeChild(u),p&&u===h[d+1]&&h.splice(d+1,1)}}(o=(o=J(e[c],[],a,0===c?n:void 0,i)).length?ie(o,e[c],a,f,t,null,[],[],r):null)&&o.scope&&K.$$addScopeClass(a.$$element),a=o&&o.terminal||!(a=e[c].childNodes)||!a.length?null:Q(a,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:f),(o||a)&&(m.push(c,o,a),s=!0,g=g||o),r=null}return s?function(e,t,n,i){var r,o,a,s,l,c,u,h,d;if(g){var p=t.length;for(d=new Array(p),l=0;l<m.length;l+=3)u=m[l],d[u]=t[u]}else d=t;for(l=0,c=m.length;l<c;)a=d[m[l++]],r=m[l++],o=m[l++],r?(r.scope?(s=e.$new(),K.$$addScopeInfo(pe(a),s)):s=e,h=r.transcludeOnThisElement?Z(e,r.transclude,i):!r.templateOnThisElement&&i?i:!i&&f?Z(e,f):null,r(o,s,a,n,h)):o&&o(e,a.childNodes,void 0,i)}:null}function Z(o,a,s){function e(e,t,n,i,r){return e||((e=o.$new(!1,r)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:i})}var t,n=e.$$slots=Ee();for(t in a.$$slots)a.$$slots[t]?n[t]=Z(o,a.$$slots[t],s):n[t]=null;return e}function J(e,t,n,i,r){var o,a,s,l,c=e.nodeType,u=n.$attr;switch(c){case Qe:P(t,Dn(s=ke(e)),"E",i,r);for(var h,d=e.attributes,p=0,f=d&&d.length;p<f;p++){var g,m=!1,v=!1,$=(y=d[p]).name,y=y.value,b=Dn($),b=((g=V.test(b))&&($=$.replace(Mn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),b.match(q));b&&function(e){if(F.hasOwnProperty(e))for(var t=M.get(e+R),n=0,i=t.length;n<i;n++)if(t[n].multiElement)return 1;return}(b[1])&&(v=(m=$).substr(0,$.length-5)+"end",$=$.substr(0,$.length-6)),u[h=Dn($.toLowerCase())]=$,!g&&n.hasOwnProperty(h)||(n[h]=y,zt(e,h)&&(n[h]=!0)),!function(e,t,o,a,n){var s=function(e,t){if("srcdoc"===t)return D.HTML;e=ke(e);return"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?D.RESOURCE_URL:D.MEDIA_URL:"xlinkHref"===t?"image"===e?D.MEDIA_URL:"a"===e?D.URL:D.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?D.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:D.URL}(e,a),i=!n,l=U[a]||n,c=T(o,i,s,l);if(c){if("multiple"===a&&"select"===ke(e))throw Ae("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Se(e));if(z.test(a))throw Ae("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,n){var i=n.$$observers||(n.$$observers=Ee()),r=n[a];r!==o&&(c=r&&T(r,!0,s,l),o=r),c&&(n[a]=c(e),(i[a]||(i[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||e).$watch(c,function(e,t){"class"===a&&e!==t?n.$updateClass(e,t):n.$set(a,e)}))}}}})}}(e,t,y,h,g),P(t,h,"A",i,r,m,v)}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),L&&(ye(a=$e(a=e.className)?a.animVal:a)&&""!==a))for(;o=_.exec(a);)P(t,h=Dn(o[2]),"C",i,r)&&(n[h]=we(o[3])),a=a.substr(o.index+o[0].length);break;case Ze:s=t,C=e.nodeValue,(l=T(C,!0))&&s.push({priority:0,compile:function(e){var e=e.parent(),i=!!e.length;return i&&K.$$addBindingClass(e),function(e,t){var n=t.parent();i||K.$$addBindingClass(n),K.$$addBindingInfo(n,l.expressions),e.$watch(l,function(e){t[0].nodeValue=e})}}});break;case Je:if(O){var C=e,w=t,k=n,x=i,S=r;try{var E,A=H.exec(C.nodeValue);A&&(E=Dn(A[1]),P(w,E,"M",x,S)&&(k[E]=we(A[2])))}catch(e){}}}return t.sort(B),t}function ee(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ae("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}while(e.nodeType===Qe&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling,0<r)}else i.push(e);return pe(i)}function te(o,a,s){return function(e,t,n,i,r){return t=ee(t[0],a,s),o(e,t,n,i,r)}}function ne(e,t,n,i,r,o){var a;return e?K(t,n,i,r,o):function(){return a||(a=K(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ie(e,b,C,t,n,B,w,k,i){i=i||{};for(var r,o,a=-Number.MAX_VALUE,x=i.newScopeDirective,S=i.controllerDirectives,E=i.newIsolateScopeDirective,A=i.templateDirective,s=i.nonTlbTranscludeDirective,l=!1,c=!1,M=i.hasElementTranscludeDirective,u=C.$$element=pe(b),h=B,d=t,F=!1,p=!1,f=0,g=e.length;f<g;f++){var m,v=(m=e[f]).$$start,$=m.$$end;if(v&&(u=ee(b,v,$)),P=void 0,a>m.priority)break;if((o=m.scope)&&(m.templateUrl||($e(o)?(se("new/isolated scope",E||x,m,u),E=m):se("new/isolated scope",E,m,u)),x=x||m),r=m.name,!F&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(var y,R=f+1;y=e[R++];)if(y.transclude&&!y.$$tlb||y.replace&&(y.templateUrl||y.template)){p=!0;break}F=!0}if(!m.templateUrl&&m.controller&&(S=S||Ee(),se("'"+r+"' controller",S[r],m,u),S[r]=m),o=m.transclude)if(l=!0,m.$$tlb||(se("transclusion",s,m,u),s=m),"element"===o)M=!0,a=m.priority,P=u,u=C.$$element=pe(K.$$createComment(r,C[r])),b=u[0],ce(n,Be(P),b),d=ne(p,P,t,a,h&&h.name,{nonTlbTranscludeDirective:s});else{var T=Ee();if($e(o)){var D,P=[],H=Ee(),O=Ee();for(D in fe(o,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,H[e]=t,T[t]=null,O[t]=n}),fe(u.contents(),function(e){var t=H[Dn(ke(e))];(t?(O[t]=!0,T[t]=T[t]||[],T[t]):P).push(e)}),fe(O,function(e,t){if(!e)throw Ae("reqslot","Required transclusion slot `{0}` was not filled.",t)}),T)T[D]&&(T[D]=ne(p,T[D],t))}else P=pe(Ct(b)).contents();u.empty(),(d=ne(p,P,t,void 0,void 0,{needsNewScope:m.$$isolateScope||m.$$newScope})).$$slots=T}if(m.template)if(c=!0,se("template",A,m,u),o=Ce((A=m).template)?m.template(u,C):m.template,o=X(o),m.replace){if(h=m,P=vt(o)?[]:On(le(m.templateNamespace,we(o))),b=P[0],1!==P.length||b.nodeType!==Qe)throw Ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",r,"");ce(n,u,b);var _={$attr:{}},U=J(b,[],_),z=e.splice(f+1,e.length-(f+1));(E||x)&&oe(U,E,x),e=e.concat(U).concat(z),ae(C,_),g=e.length}else u.html(o);if(m.templateUrl)c=!0,se("template",A,m,u),(A=m).replace&&(h=m),q=function(u,h,d,p,f,g,m,v){var $,y,b=[],C=h[0],w=u.shift(),k=Te(w,{templateUrl:null,transclude:null,replace:null,$$originalDirective:w}),x=Ce(w.templateUrl)?w.templateUrl(h,d):w.templateUrl,S=w.templateNamespace;return h.empty(),j(x).then(function(e){var n,t;if(e=X(e),w.replace){if(t=vt(e)?[]:On(le(S,we(e))),n=t[0],1!==t.length||n.nodeType!==Qe)throw Ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",w.name,x);t={$attr:{}},ce(p,h,n);var i=J(n,[],t);$e(w.scope)&&oe(i,!0),u=i.concat(u),ae(d,t)}else n=C,h.html(e);for(u.unshift(k),$=ie(u,n,d,f,h,w,g,m,v),fe(p,function(e,t){e===n&&(p[t]=h[0])}),y=Q(h[0].childNodes,f);b.length;){var r,o=b.shift(),a=b.shift(),s=b.shift(),l=b.shift(),c=h[0];o.$$destroyed||(a!==C&&(r=a.className,v.hasElementTranscludeDirective&&w.replace||(c=Ct(n)),ce(s,pe(a),c),G(pe(c),r)),s=$.transcludeOnThisElement?Z(o,$.transclude,l):l,$(y,o,c,p,s))}b=null}).catch(function(e){Pe(e)&&I(e)}),function(e,t,n,i,r){var o=r;t.$$destroyed||(b?b.push(t,n,i,o):($.transcludeOnThisElement&&(o=Z(t,$.transclude,r)),$(y,t,n,i,o)))}}(e.splice(f,e.length-f),u,C,n,l&&d,w,k,{controllerDirectives:S,newScopeDirective:x!==m&&x,newIsolateScopeDirective:E,templateDirective:A,nonTlbTranscludeDirective:s}),g=e.length;else if(m.compile)try{var L=m.compile(u,C,d),V=m.$$originalDirective||m;Ce(L)?N(null,Fe(V,L),v,$):L&&N(Fe(V,L.pre),Fe(V,L.post),v,$)}catch(e){I(e,Se(u))}m.terminal&&(q.terminal=!0,a=Math.max(a,m.priority))}return q.scope=x&&!0===x.scope,q.transcludeOnThisElement=l,q.templateOnThisElement=c,q.transclude=d,i.hasElementTranscludeDirective=M,q;function N(e,t,n,i){e&&((e=n?te(e,n,i):e).require=m.require,e.directiveName=r,E!==m&&!m.$$isolateScope||(e=ue(e,{isolateScope:!0})),w.push(e)),t&&((t=n?te(t,n,i):t).require=m.require,t.directiveName=r,E!==m&&!m.$$isolateScope||(t=ue(t,{isolateScope:!0})),k.push(t))}function q(e,t,n,i,a){var r,o,s,l,c,u,h,d,p,f,g;for(g in b===n?d=(p=C).$$element:p=new Y(d=pe(n),C),c=t,E?l=t.$new(!0):x&&(c=t.$parent),a&&((h=function(e,t,n,i){var r;Oe(e)||(i=n,n=t,t=e,e=void 0);M&&(r=u);n=n||(M?d.parent():d);{if(!i)return a(e,t,r,n,y);var o=a.$$slots[i];if(o)return o(e,t,r,n,y);if(ve(o))throw Ae("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Se(d))}}).$$boundTransclude=a,h.isSlotFilled=function(e){return!!a.$$slots[e]}),S&&(u=function(e,t,n,i,r,o,a){var s,l=Ee();for(s in i){var c=i[s],u={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},h=c.controller,h=("@"===h&&(h=t[c.name]),W(h,u,!0,c.controllerAs));l[c.name]=h,e.data("$"+c.name+"Controller",h.instance)}return l}(d,p,h,S,l,t,E)),E&&(K.$$addScopeInfo(d,l,!0,!(A&&(A===E||A===E.$$originalDirective))),K.$$addScopeClass(d,!0),l.$$isolateBindings=E.$$isolateBindings,(f=de(t,p,l,l.$$isolateBindings,E)).removeWatches&&l.$on("$destroy",f.removeWatches)),u){var m=S[g],v=u[g],$=m.$$bindings.bindToController;v.instance=v(),d.data("$"+m.name+"Controller",v.instance),v.bindingInfo=de(c,p,v.instance,$,m)}for(fe(S,function(e,t){var n=e.require;e.bindToController&&!be(n)&&$e(n)&&ge(u[t].instance,re(t,n,d,u))}),fe(u,function(e){var t=e.instance;if(Ce(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){I(e)}if(Ce(t.$onInit))try{t.$onInit()}catch(e){I(e)}Ce(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),Ce(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),r=0,o=w.length;r<o;r++)he(s=w[r],s.isolateScope?l:t,d,p,s.require&&re(s.directiveName,s.require,d,u),h);var y=t;for(E&&(E.template||null===E.templateUrl)&&(y=l),e&&e(y,n.childNodes,void 0,a),r=k.length-1;0<=r;r--)he(s=k[r],s.isolateScope?l:t,d,p,s.require&&re(s.directiveName,s.require,d,u),h);fe(u,function(e){e=e.instance;Ce(e.$postLink)&&e.$postLink()})}}function re(n,e,i,r){if(ye(e)){var t,o,a=e.match(h),s=e.substring(a[0].length),l=a[1]||a[3],a="?"===a[2];if("^^"===l?i=i.parent():o=(o=r&&r[s])&&o.instance,o||(t="$"+s+"Controller",o=l?i.inheritedData(t):i.data(t)),!o&&!a)throw Ae("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,n)}else if(be(e)){o=[];for(var c=0,u=e.length;c<u;c++)o[c]=re(n,e[c],i,r)}else $e(e)&&(o={},fe(e,function(e,t){o[t]=re(n,e,i,r)}));return o||null}function oe(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=Te(e[i],{$$isolateScope:t,$$newScope:n})}function P(e,t,n,i,r,o,a){if(t!==r){var s=null;if(F.hasOwnProperty(t))for(var l=M.get(t+R),c=0,u=l.length;c<u;c++){var h,d=l[c];(ve(i)||i>d.priority)&&-1!==d.restrict.indexOf(n)&&((d=o?Te(d,{$$start:o,$$end:a}):d).$$bindings||(h=d.$$bindings=function(e,t){var n={isolateScope:null,bindToController:null};if($e(e.scope)&&(!0===e.bindToController?(n.bindToController=f(e.scope,t,!0),n.isolateScope={}):n.isolateScope=f(e.scope,t,!1)),$e(e.bindToController)&&(n.bindToController=f(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw Ae("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}(d,d.name),$e(h.isolateScope)&&(d.$$isolateBindings=h.isolateScope)),e.push(d),s=d)}return s}}function ae(n,i){var r=i.$attr,o=n.$attr;fe(n,function(e,t){"$"!==t.charAt(0)&&(i[t]&&i[t]!==e&&(e.length?e+=("style"===t?";":" ")+i[t]:e=i[t]),n.$set(t,e,!0,r[t]))}),fe(i,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(o[t]=r[t]))})}function B(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Ae("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,Se(i))}function le(e,t){switch(e=A(e||"html")){case"svg":case"math":var n=w.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function ce(e,t,n){var i,r=t[0],o=t.length,a=r.parentNode;if(e)for(h=0,i=e.length;h<i;h++)if(e[h]===r){e[h++]=n;for(var s=h,l=s+o-1,c=e.length;s<c;s++,l++)l<c?e[s]=e[l]:delete e[s];e.length-=o-1,e.context===r&&(e.context=n);break}a&&a.replaceChild(n,r);for(var u=w.document.createDocumentFragment(),h=0;h<o;h++)u.appendChild(t[h]);for(pe.hasData(r)&&(pe.data(n,pe.data(r)),pe(r).off("$destroy")),pe.cleanData(u.querySelectorAll("*")),h=1;h<o;h++)delete t[h];t[0]=n,t.length=1}function ue(e,t){return ge(function(){return e.apply(null,arguments)},e,t)}function he(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){I(e,Se(n))}}function b(e,t){if(c)throw Ae("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function de(d,p,f,e,g){var i,m=[],v={};function $(e,t,n){Ce(f.$onChanges)&&!qe(t,n)&&(a||(d.$$postDigest(s),a=[]),i||(i={},a.push(r)),i[e]&&(n=i[e].previousValue),i[e]=new An(n,t))}function r(){f.$onChanges(i),i=void 0}return fe(e,function(e,n){var t,i,r,o,a,s,l,c,u=e.attrName,h=e.optional;switch(e.mode){case"@":h||N.call(p,u)||(b(u,g.name),f[n]=p[u]=void 0),t=p.$observe(u,function(e){var t;(ye(e)||Le(e))&&(t=f[n],$(n,e,t),f[n]=e)}),p.$$observers[u].$$scope=d,ye(a=p[u])?f[n]=T(a)(d):Le(a)&&(f[n]=a),v[n]=new An(Sn,f[n]),m.push(t);break;case"=":if(!N.call(p,u)){if(h)break;b(u,g.name),p[u]=void 0}h&&!p[u]||(r=(i=y(p[u])).literal?xe:qe,o=i.assign||function(){throw a=f[n]=i(d),Ae("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",p[u],u,g.name)},a=f[n]=i(d),(s=function(e){return r(e,f[n])||(r(e,a)?o(d,e=f[n]):f[n]=e),a=e}).$stateful=!0,t=e.collection?d.$watchCollection(p[u],s):d.$watch(y(p[u],s),null,i.literal),m.push(t));break;case"<":if(!N.call(p,u)){if(h)break;b(u,g.name),p[u]=void 0}h&&!p[u]||(l=(i=y(p[u])).literal,c=f[n]=i(d),v[n]=new An(Sn,f[n]),t=d.$watch(i,function(e,t){if(t===e){if(t===c||l&&xe(t,c))return;t=c}$(n,e,t),f[n]=e}),m.push(t));break;case"&":h||N.call(p,u)||b(u,g.name),(i=p.hasOwnProperty(u)?y(p[u]):me)===me&&h||(f[n]=function(e){return i(d,e)})}}),{initialChanges:v,removeWatches:m.length&&function(){for(var e=0,t=m.length;e<t;++e)m[e]()}}}}]}function An(e,t){this.previousValue=e,this.currentValue=t}En.$inject=["$provide","$$sanitizeUriProvider"],An.prototype.isFirstChange=function(){return this.previousValue===Sn};var Mn=/^((?:x|data)[:\-_])/i,Tn=/[:\-_]+(.)/g;function Dn(e){return e.replace(Mn,"").replace(Tn,function(e,t,n){return n?t.toUpperCase():t})}function Pn(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(0<n.length?" ":"")+a}return n}function On(e){var t=(e=pe(e)).length;if(!(t<=1))for(;t--;){var n=e[t];(n.nodeType===Je||n.nodeType===Ze&&""===n.nodeValue.trim())&&i.call(e,t,1)}return e}var Ln=k("$controller"),Vn=/^(\S+)(\s+as\s+([\w$]+))?$/;function qn(){var c={};this.has=function(e){return c.hasOwnProperty(e)},this.register=function(e,t){Ge(e,"controller"),$e(e)?ge(c,e):c[e]=t},this.$get=["$injector",function(s){return function(t,n,e,i){var r,o,a;if(e=!0===e,i&&ye(i)&&(o=i),ye(t)){if(!(i=t.match(Vn)))throw Ln("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(r=i[1],o=o||i[3],!(t=c.hasOwnProperty(r)?c[r]:function(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e=e&&(o=e)[i];return!n&&Ce(e)?Fe(o,e):e}(n.$scope,r,!0)))throw Ln("ctrlreg","The controller with the name '{0}' is not registered.",r);Ye(t,r,!0)}return e?(i=(be(t)?t[t.length-1]:t).prototype,a=Object.create(i||null),o&&l(n,o,a,r||t.name),ge(function(){var e=s.invoke(t,a,n,r);return e!==a&&($e(e)||Ce(e))&&(a=e,o&&l(n,o,a,r||t.name)),a},{instance:a,identifier:o})):(a=s.instantiate(t,n,r),o&&l(n,o,a,r||t.name),a)};function l(e,t,n,i){if(!e||!$e(e.$scope))throw k("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function Bn(){this.$get=["$window",function(e){return pe(e.document)}]}function Fn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],i=n&&n.hidden;function r(){i=n.hidden}return e.on("visibilitychange",r),t.$on("$destroy",function(){e.off("visibilitychange",r)}),function(){return i}}]}function Rn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function Hn(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof pe&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]}var _n="application/json",Un={"Content-Type":_n+";charset=utf-8"},zn=/^\[|^\{(?!\{)/,Nn={"[":/]$/,"{":/}$/},In=/^\)]\}',?\n/,jn=k("$http");function Wn(e){return $e(e)?C(e)?e.toISOString():te(e):e}function Yn(){this.$get=function(){return function(e){var n;return e?(n=[],L(e,function(e,t){null===e||ve(e)||Ce(e)||(be(e)?fe(e,function(e){n.push(o(t)+"="+o(Wn(e)))}):n.push(o(t)+"="+o(Wn(e))))}),n.join("&")):""}}}function Gn(){this.$get=function(){return function(e){var t;return e?(t=[],function n(e,i,r){be(e)?fe(e,function(e,t){n(e,i+"["+($e(e)?t:"")+"]")}):$e(e)&&!C(e)?L(e,function(e,t){n(e,i+(r?"":"[")+t+(r?"":"]"))}):(Ce(e)&&(e=e()),t.push(o(i)+"="+(null==e?"":o(Wn(e)))))}(e,"",!0),t.join("&")):""}}}function Xn(t,n){if(ye(t)){var e=t.replace(In,"").trim();if(e){n=n("Content-Type"),n=n&&0===n.indexOf(_n);if(n||(r=(i=e).match(zn))&&Nn[r[0]].test(i))try{t=ne(e)}catch(e){if(n)throw jn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var i,r;return t}function Kn(e){var t,n=Ee();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return ye(e)?fe(e.split("\n"),function(e){t=e.indexOf(":"),i(A(we(e.substr(0,t))),we(e.substr(t+1)))}):$e(e)&&fe(e,function(e,t){i(A(t),we(e))}),n}function Qn(t){var n;return function(e){return n=n||Kn(t),e?void 0===(e=n[A(e)])?null:e:n}}function Zn(t,n,i,e){return Ce(e)?e(t,n,i):(fe(e,function(e){t=e(t,n,i)}),t)}function Jn(e){return 200<=e&&e<300}function ei(){var C=this.defaults={transformResponse:[Xn],transformRequest:[function(e){return $e(e)&&"[object File]"!==v.call(e)&&"[object Blob]"!==v.call(e)&&"[object FormData]"!==v.call(e)?te(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:nt(Un),put:nt(Un),patch:nt(Un)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},w=!1,n=(this.useApplyAsync=function(e){return T(e)?(w=!!e,this):w},this.interceptors=[]),i=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,p,f,e,g,m,l,v){var t,$=e("$http"),c=(C.paramSerializer=ye(C.paramSerializer)?l.get(C.paramSerializer):C.paramSerializer,[]),y=(fe(n,function(e){c.unshift(ye(e)?l.get(e):l.invoke(e))}),t=[dr].concat(i.map(D)),function(e){e=D(e);return t.some(pr.bind(null,e))});function b(e){if(!$e(e))throw k("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var n,t,i,r;if(ye(v.valueOf(e.url)))return(n=ge({method:"get",transformRequest:C.transformRequest,transformResponse:C.transformResponse,paramSerializer:C.paramSerializer,jsonpCallbackParam:C.jsonpCallbackParam},e)).headers=function(e){var t,n,i,r=C.headers,o=ge({},e.headers);e:for(t in r=ge({},r.common,r[A(e.method)])){for(i in n=A(t),o)if(A(i)===n)continue e;o[t]=r[t]}return function(e,n){var i,r={};return fe(e,function(e,t){Ce(e)?null!=(i=e(n))&&(r[t]=i):r[t]=e}),r}(o,nt(e))}(e),n.method=x(n.method),n.paramSerializer=ye(n.paramSerializer)?l.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount(),t=[],i=[],r=m.resolve(n),fe(c,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&i.push(e.response,e.responseError)}),r=o(r,t),(r=o(r=r.then(function(e){var n=e.headers,t=Zn(e.data,Qn(n),void 0,e.transformRequest);ve(t)&&fe(n,function(e,t){"content-type"===A(t)&&delete n[t]});ve(e.withCredentials)&&!ve(C.withCredentials)&&(e.withCredentials=C.withCredentials);return function(o,e){var a,t,s=m.defer(),n=s.promise,i=o.headers,r="jsonp"===A(o.method),l=o.url;r?l=v.getTrustedResourceUrl(l):ye(l)||(l=v.valueOf(l));l=function(e,t){0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(l,o.paramSerializer(o.params)),r&&(l=function(n,i){var e=n.split("?");if(2<e.length)throw jn("badjsonp",'Illegal use more than one "?", in url, "{1}"',n);return fe(le(e[1]),function(e,t){if("JSON_CALLBACK"===e)throw jn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n);if(t===i)throw jn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',i,n)}),n+=(-1===n.indexOf("?")?"?":"&")+i+"=JSON_CALLBACK"}(l,o.jsonpCallbackParam));b.pendingRequests.push(o),n.then(d,d),!o.cache&&!C.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method||(a=$e(o.cache)?o.cache:$e(C.cache)?C.cache:$);a&&(T(t=a.get(l))?j(t)?t.then(h,h):be(t)?u(t[1],t[0],nt(t[2]),t[3],t[4]):u(t,200,{},"OK","complete"):a.put(l,n));ve(t)&&((r=y(o.url)?f()[o.xsrfCookieName||C.xsrfCookieName]:void 0)&&(i[o.xsrfHeaderName||C.xsrfHeaderName]=r),p(o.method,l,e,function(e,t,n,i,r){a&&(Jn(e)?a.put(l,[e,t,Kn(n),i,r]):a.remove(l));function o(){u(t,e,n,i,r)}w?g.$applyAsync(o):(o(),g.$$phase||g.$apply())},i,o.timeout,o.withCredentials,o.responseType,c(o.eventHandlers),c(o.uploadEventHandlers)));return n;function c(e){var t;if(e)return t={},fe(e,function(n,e){t[e]=function(e){function t(){n(e)}w?g.$applyAsync(t):g.$$phase?t():g.$apply(t)}}),t}function u(e,t,n,i,r){(Jn(t=-1<=t?t:0)?s.resolve:s.reject)({data:e,status:t,headers:Qn(n),config:o,statusText:i,xhrStatus:r})}function h(e){u(e.data,e.status,nt(e.headers()),e.statusText,e.xhrStatus)}function d(){var e=b.pendingRequests.indexOf(o);-1!==e&&b.pendingRequests.splice(e,1)}}(e,t).then(a,a)}),i)).finally(function(){s.$$completeOutstandingRequest(me)});throw k("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);function o(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function a(e){var t=ge({},e);return t.data=Zn(e.data,e.headers,e.status,n.transformResponse),Jn(e.status)?t:m.reject(t)}}return b.pendingRequests=[],function(){fe(arguments,function(n){b[n]=function(e,t){return b(ge({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(){fe(arguments,function(i){b[i]=function(e,t,n){return b(ge({},n||{},{method:i,url:e,data:t}))}})}("post","put","patch"),b.defaults=C,b}]}function ti(){this.$get=function(){return function(){return new w.XMLHttpRequest}}}function ni(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return k=i,x=(w=e).defer,S=t,E=n[0],function(e,i,t,r,n,o,a,s,l,c){if(i=i||w.url(),"jsonp"===A(e))var u=S.createCallback(i),h=(g=u,m=function(e,t){var n=200===e&&S.getResponse(u);C(r,e,n,"",t,"complete"),S.removeCallback(u)},f=(f=i).replace("JSON_CALLBACK",g),v=E.createElement("script"),$=null,v.type="text/javascript",v.src=f,v.async=!0,$=function(e){v.removeEventListener("load",$),v.removeEventListener("error",$),E.body.removeChild(v),v=null;var t=-1,n="unknown";e&&(n=(e="load"!==e.type||S.wasCalled(g)?e:{type:"error"}).type,t="error"===e.type?404:200),m&&m(t,n)},v.addEventListener("load",$),v.addEventListener("error",$),E.body.appendChild(v),$);else{var d=k(e,i),p=!1;d.open(e,i,!0),fe(n,function(e,t){T(e)&&d.setRequestHeader(t,e)}),d.onload=function(){var e=d.statusText||"",t="response"in d?d.response:d.responseText,n=1223===d.status?204:d.status;0===n&&(n=t?200:"file"===D(i).protocol?404:0),C(r,n,t,d.getAllResponseHeaders(),e,"complete")};if(d.onerror=function(){C(r,-1,null,null,"","error")},d.ontimeout=function(){C(r,-1,null,null,"","timeout")},d.onabort=function(){C(r,-1,null,null,"",p?"timeout":"abort")},fe(l,function(e,t){d.addEventListener(t,e)}),fe(c,function(e,t){d.upload.addEventListener(t,e)}),a&&(d.withCredentials=!0),s)try{d.responseType=s}catch(e){if("json"!==s)throw e}d.send(ve(t)?null:t)}var f,g,m,v,$,y;function b(e){p="timeout"===e,h&&h(),d&&d.abort()}function C(e,t,n,i,r,o){T(y)&&x.cancel(y),h=d=null,e(t,n,i,r,o)}0<o?y=x(function(){b("timeout")},o):j(o)&&o.then(function(){b(T(o.$$timeoutId)?"timeout":"abort")})};var w,k,x,S,E}]}var ii=y.$interpolateMinErr=k("$interpolate");function ri(){var x="{{",S="}}";this.startSymbol=function(e){return e?(x=e,this):x},this.endSymbol=function(e){return e?(S=e,this):S},this.$get=["$parse","$exceptionHandler","$sce",function(v,$,y){var b=x.length,C=S.length,t=new RegExp(x.replace(/./g,e),"g"),n=new RegExp(S.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function w(e){return e.replace(t,x).replace(n,S)}function k(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function i(r,e,i,o){var t,a=i===y.URL||i===y.MEDIA_URL;if(!r.length||-1===r.indexOf(x))return e&&!a?void 0:(t=w(r),(t=E(t=a?y.getTrusted(i,t):t)).exp=r,t.expressions=[],t.$$watchDelegate=k,t);o=!!o;for(var n,s,l=0,c=[],u=r.length,h=[],d=[];l<u;){if(-1===(s=r.indexOf(x,l))||-1===(n=r.indexOf(S,s+b))){l!==u&&h.push(w(r.substring(l)));break}l!==s&&h.push(w(r.substring(l,s))),s=r.substring(s+b,n),c.push(s),l=n+C,d.push(h.length),h.push("")}var p,f=1===h.length&&1===d.length,g=a&&f?void 0:function(e){try{return e=i&&!a?y.getTrusted(i,e):y.valueOf(e),o&&!T(e)?e:Ke(e)}catch(e){$(ii.interr(r,e))}},m=c.map(function(e){return v(e,g)});return!e||c.length?(p=function(e){for(var t=0,n=c.length;t<n;t++){if(o&&ve(e[t]))return;h[d[t]]=e[t]}return a?y.getTrusted(i,f?h[0]:h.join("")):(i&&1<h.length&&ii.throwNoconcat(r),h.join(""))},ge(function(e){var t=0,n=c.length,i=new Array(n);try{for(;t<n;t++)i[t]=m[t](e);return p(i)}catch(e){$(ii.interr(r,e))}},{exp:r,expressions:c,$$watchDelegate:function(i,r){var o;return i.$watchGroup(m,function(e,t){var n=p(e);r.call(this,n,e!==t?o:n,i),o=n})}})):void 0}return i.startSymbol=function(){return x},i.endSymbol=function(){return S},i}]}ii.throwNoconcat=function(e){throw ii("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},ii.interr=function(e,t){return ii("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var oi=k("$interval");function ai(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(p,f,g,m,v){var $={};function e(e,t,n,i){var r=4<arguments.length,o=r?Be(arguments,4):[],a=f.setInterval,s=f.clearInterval,l=0,c=T(i)&&!i,u=(c?m:g).defer(),h=u.promise;return n=T(n)?n:0,h.$$intervalId=a(function(){c?v.defer(d):p.$evalAsync(d),u.notify(l++),0<n&&n<=l&&(u.resolve(l),s(h.$$intervalId),delete $[h.$$intervalId]),c||p.$apply()},t),$[h.$$intervalId]=u,h;function d(){r?e.apply(null,o):e(l)}}return e.cancel=function(e){if(!e)return!1;var t;if(e.hasOwnProperty("$$intervalId"))return!!$.hasOwnProperty(e.$$intervalId)&&(e=e.$$intervalId,Xi((t=$[e]).promise),t.reject("canceled"),f.clearInterval(e),delete $[e],!0);throw oi("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")},e}]}function si(){this.$get=function(){var r=y.callbacks,o={};function a(e){function t(e){t.data=e,t.called=!0}return t.id=e,t}return{createCallback:function(e){var t="_"+(r.$$counter++).toString(36),n="angular.callbacks."+t,i=a(t);return o[n]=r[t]=i,n},wasCalled:function(e){return o[e].called},getResponse:function(e){return o[e].data},removeCallback:function(e){var t=o[e];delete r[t.id],delete o[e]}}}}var li=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ci={http:80,https:443,ftp:21},ui=k("$location");function hi(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ue(t[n].replace(/%2F/g,"/"));return t.join("/")}function di(e,t){e=D(e);t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=$(e.port)||ci[e.protocol]||null}var pi=/^\s*[\\/]{2,}/;function fi(e,t,n){if(pi.test(e))throw ui("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0),e=D(e=i?"/"+e:e),i=i&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname;t.$$path=function(e,t){for(var n=e.split("/"),i=n.length;i--;)n[i]=decodeURIComponent(n[i]),t&&(n[i]=n[i].replace(/\//g,"%2F"));return n.join("/")}(i,n),t.$$search=le(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function gi(e,t){return e.slice(0,t.length)===t}function mi(e,t){if(gi(t,e))return t.substr(e.length)}function vi(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function $i(e){return e.replace(/(#.+)|#$/,"$1")}function yi(i,r,o){this.$$html5=!0,o=o||"",di(i,this),this.$$parse=function(e){var t=mi(r,e);if(!ye(t))throw ui("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);fi(t,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ce(this.$$search),t=this.$$hash?"#"+ue(this.$$hash):"";this.$$url=hi(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,t){var n;return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(T(t=mi(i,e))?(n=t,n=o&&T(t=mi(o,t))?r+(mi("/",t)||t):i+n):T(t=mi(r,e))?n=r+t:r===e+"/"&&(n=r),n&&this.$$parse(n),!!n)}}function bi(i,r,o){di(i,this),this.$$parse=function(e){var t,n=mi(i,e)||mi(r,e);ve(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",ve(n)&&(i=e,this.replace())):ve(t=mi(o,n))&&(t=n),fi(t,this,!1),this.$$path=function(e,t,n){var i=/^\/[A-Z]:(\/.*)/;gi(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(n=i.exec(e))?n[1]:e}(this.$$path,t,i),this.$$compose()},this.$$compose=function(){var e=ce(this.$$search),t=this.$$hash?"#"+ue(this.$$hash):"";this.$$url=hi(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+(this.$$url?o+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,t){return vi(i)===vi(e)&&(this.$$parse(e),!0)}}function Ci(i,r,o){this.$$html5=!0,bi.apply(this,arguments),this.$$parseLinkUrl=function(e,t){var n;return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(i===vi(e)?n=e:(t=mi(r,e))?n=i+o+t:r===e+"/"&&(n=r),n&&this.$$parse(n),!!n)},this.$$compose=function(){var e=ce(this.$$search),t=this.$$hash?"#"+ue(this.$$hash):"";this.$$url=hi(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+o+this.$$url,this.$$urlUpdatedByLocation=!0}}var wi={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ki("$$absUrl"),url:function(e){var t;return ve(e)?this.$$url:(!(t=li.exec(e))[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this)},protocol:ki("$$protocol"),host:ki("$$host"),port:ki("$$port"),path:xi("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(ye(n)||b(n))n=n.toString(),this.$$search=le(n);else{if(!$e(n))throw ui("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");fe(n=K(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:ve(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:xi("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function ki(e){return function(){return this[e]}}function xi(t,n){return function(e){return ve(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function Si(){var g="!",m={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return T(e)?(g=e,this):g},this.html5Mode=function(e){return Le(e)?(m.enabled=e,this):$e(e)?(Le(e.enabled)&&(m.enabled=e.enabled),Le(e.requireBase)&&(m.requireBase=e.requireBase),(Le(e.rewriteLinks)||ye(e.rewriteLinks))&&(m.rewriteLinks=e.rewriteLinks),this):m},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,t,r,e){var n,i,o=s.baseHref(),l=s.url();if(m.enabled){if(!o&&m.requireBase)throw ui("nobase","$location in HTML5 mode requires a <base> tag to be present!");i=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(o||"/"),n=t.history?yi:Ci}else i=vi(l),n=bi;var c,u=(o=i).substr(0,vi(o).lastIndexOf("/")+1),h=((c=new n(i,u,"#"+g)).$$parseLinkUrl(l,l),c.$$state=s.state(),/^\s*(javascript|mailto):/i);function d(e,t,n){var i=c.url(),r=c.$$state;try{s.url(e,t,n),c.$$state=s.state()}catch(e){throw c.url(i),c.$$state=r,e}}r.on("click",function(e){var t=m.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n,i=pe(e.target);"a"!==ke(i[0]);)if(i[0]===r[0]||!(i=i.parent())[0])return;ye(t)&&ve(i.attr(t))||(t=i.prop("href"),n=i.attr("href")||i.attr("xlink:href"),$e(t)&&"[object SVGAnimatedString]"===t.toString()&&(t=D(t.animVal).href),h.test(t)||!t||i.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(t,n)&&(e.preventDefault(),c.absUrl()!==s.url()&&a.$apply()))}}),$i(c.absUrl())!==$i(l)&&s.url(c.absUrl(),!0);var p=!0;return s.onUrlChange(function(i,r){gi(i,u)?(a.$evalAsync(function(){var e,t=c.absUrl(),n=c.$$state;i=$i(i),c.$$parse(i),c.$$state=r,e=a.$broadcast("$locationChangeStart",i,t,r,n).defaultPrevented,c.absUrl()===i&&(e?(c.$$parse(t),c.$$state=n,d(t,!1,n)):(p=!1,f(t,n)))}),a.$$phase||a.$digest()):e.location.href=i}),a.$watch(function(){var n,e,i,r,o;(p||c.$$urlUpdatedByLocation)&&(c.$$urlUpdatedByLocation=!1,n=$i(s.url()),e=$i(c.absUrl()),i=s.state(),r=c.$$replace,o=n!==e||c.$$html5&&t.history&&i!==c.$$state,(p||o)&&(p=!1,a.$evalAsync(function(){var e=c.absUrl(),t=a.$broadcast("$locationChangeStart",e,n,c.$$state,i).defaultPrevented;c.absUrl()===e&&(t?(c.$$parse(n),c.$$state=i):(o&&d(e,r,i===c.$$state?null:c.$$state),f(n,i)))}))),c.$$replace=!1}),c;function f(e,t){a.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}}]}function Ei(){var i=!0,o=this;this.debugEnabled=function(e){return T(e)?(i=e,this):i},this.$get=["$window",function(t){var e,r=Me||/\bEdge\//.test(t.navigator&&t.navigator.userAgent);return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:(e=n("debug"),function(){i&&e.apply(o,arguments)})};function n(e){var n=t.console||{},i=n[e]||n.log||me;return function(){var t=[];return fe(arguments,function(e){t.push((Pe(e=e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),Function.prototype.apply.call(i,n,t)}}}]}fe([Ci,bi,yi],function(t){t.prototype=Object.create(wi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t===yi&&this.$$html5)return this.$$state=ve(e)?null:e,this.$$urlUpdatedByLocation=!0,this;throw ui("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API")}});var Ai=k("$parse"),Mi={}.constructor.prototype.valueOf;function Ti(e){return e+""}var Di=Ee(),Pi=(fe("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Di[e]=!0}),{n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'}),Oi=function(e){this.options=e},d=(Oi.prototype={constructor:Oi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,i,r,o,a=this.text.charAt(this.index);'"'===a||"'"===a?this.readString(a):this.isNumber(a)||"."===a&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(n=(t=a+this.peek())+this.peek(2),o=Di[a],i=Di[t],r=Di[n],o||i||r?(this.tokens.push({index:this.index,text:o=r?n:i?t:a,operator:!0}),this.index+=o.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){e=e||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e,t,n=this.text.charAt(this.index),i=this.peek();return i&&(e=n.charCodeAt(0),t=i.charCodeAt(0),55296<=e&&e<=56319&&56320<=t&&t<=57343)?n+i:n},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;t=T(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ai("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=A(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){for(var t=this.index,n=(this.index++,""),i=e,r=!1;this.index<this.text.length;){var o,a=this.text.charAt(this.index);if(i+=a,r)"u"===a?((o=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=Pi[a]||a,r=!1;else if("\\"===a)r=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}},function(e,t){this.lexer=e,this.options=t});function Li(e,t){return void 0!==e?e:t}function Vi(e,t){return void 0===e?t:void 0===t?e:e+t}d.Program="Program",d.ExpressionStatement="ExpressionStatement",d.AssignmentExpression="AssignmentExpression",d.ConditionalExpression="ConditionalExpression",d.LogicalExpression="LogicalExpression",d.BinaryExpression="BinaryExpression",d.UnaryExpression="UnaryExpression",d.CallExpression="CallExpression",d.MemberExpression="MemberExpression",d.Identifier="Identifier",d.Literal="Literal",d.ArrayExpression="ArrayExpression",d.Property="Property",d.ObjectExpression="ObjectExpression",d.ThisExpression="ThisExpression",d.LocalsExpression="LocalsExpression",d.NGValueParameter="NGValueParameter",d.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:d.Program,body:e}},expressionStatement:function(){return{type:d.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Ri(e))throw Ai("lval","Trying to assign a value to a non l-value");e={type:d.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:d.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:d.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:d.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:d.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:d.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:d.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:d.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:d.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=K(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:d.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:d.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:d.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:d.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],e={type:d.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:d.Identifier,name:e.text}},constant:function(){return{type:d.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&&(e.push(this.expression()),this.expect(",")););return this.consume("]"),{type:d.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&&(e={type:d.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e),this.expect(",")););return this.consume("}"),{type:d.ObjectExpression,properties:t}},throwError:function(e,t){throw Ai("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ai("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ai("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var e=this.tokens[e],o=e.text;if(o===t||o===n||o===i||o===r||!t&&!n&&!i&&!r)return e}return!1},expect:function(e,t,n,i){e=this.peek(e,t,n,i);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:d.ThisExpression},$locals:{type:d.LocalsExpression}}};var qi=1,Bi=2;function l(e,t,n){var i,r,o,a=e.isPure=function(e,t){switch(e.type){case d.MemberExpression:if(e.computed)return!1;break;case d.UnaryExpression:return qi;case d.BinaryExpression:return"+"!==e.operator&&qi;case d.CallExpression:return!1}return void 0===t?Bi:t}(e,n);switch(e.type){case d.Program:i=!0,fe(e.body,function(e){l(e.expression,t,a),i=i&&e.expression.constant}),e.constant=i;break;case d.Literal:e.constant=!0,e.toWatch=[];break;case d.UnaryExpression:l(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case d.BinaryExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case d.LogicalExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case d.ConditionalExpression:l(e.test,t,a),l(e.alternate,t,a),l(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case d.Identifier:e.constant=!1,e.toWatch=[e];break;case d.MemberExpression:l(e.object,t,a),e.computed&&l(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case d.CallExpression:o=!!e.filter&&(o=e.callee.name,!t(o).$stateful),i=o,r=[],fe(e.arguments,function(e){l(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=o?r:[e];break;case d.AssignmentExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case d.ArrayExpression:i=!0,r=[],fe(e.elements,function(e){l(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case d.ObjectExpression:i=!0,r=[],fe(e.properties,function(e){l(e.value,t,a),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(l(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case d.ThisExpression:case d.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Fi(e){var t;return 1===e.length&&(1!==(t=(e=e[0].expression).toWatch).length||t[0]!==e)?t:void 0}function Ri(e){return e.type===d.Identifier||e.type===d.MemberExpression}function Hi(e){if(1===e.body.length&&Ri(e.body[0].expression))return{type:d.AssignmentExpression,left:e.body[0].expression,right:{type:d.NGValueParameter},operator:"="}}function _i(e){this.$filter=e}function Ui(e){this.$filter=e}function zi(e,t,n){this.ast=new d(e,n),this.astCompiler=new(n.csp?Ui:_i)(t)}function Ni(e){return Ce(e.valueOf)?e.valueOf():Mi.call(e)}function Ii(){var s,l,c=Ee(),u={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){u[e]=t},this.setIdentifierFns=function(e,t){return s=e,l=t,this},this.$get=["$filter",function(r){var o={csp:Q().noUnsafeEval,literals:K(u),isIdentifierStart:Ce(s)&&s,isIdentifierContinue:Ce(l)&&l};return e.$$getAst=function(e){return new zi(new Oi(o),r,o).getAst(e).ast},e;function e(e,t){var n,i;switch(typeof e){case"string":return e=e.trim(),(i=c[n=e])||(i=new zi(new Oi(o),r,o).parse(e),c[n]=f(i)),a(i,t);case"function":return a(e,t);default:return a(me,t)}}function d(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Ni(e))&&!n)&&(e===t||e!=e&&t!=t)}function t(e,t,n,o,i){var a,r,s=o.inputs;if(1===s.length)return r=d,s=s[0],e.$watch(function(e){var t=s(e);return d(t,r,s.isPure)||(a=o(e,void 0,void 0,[t]),r=t&&Ni(t)),a},t,n,i);for(var l=[],c=[],u=0,h=s.length;u<h;u++)l[u]=d,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var r=s[n](e);(t=t||!d(r,l[n],s[n].isPure))&&(c[n]=r,l[n]=r&&Ni(r))}return a=t?o(e,void 0,void 0,c):a},t,n,i)}function n(e,t,n,i,r){var o,a,s=i.literal?p:T,l=i.$$intercepted||i,c=i.$$interceptor||De,u=i.inputs&&!l.inputs;return d.literal=i.literal,d.constant=i.constant,d.inputs=i.inputs,f(d),o=e.$watch(d,t,n,r);function h(){s(a)&&o()}function d(e,t,n,i){return a=u&&i?i[0]:l(e,t,n,i),s(a)&&e.$$postDigest(h),c(a)}}function p(e){var t=!0;return fe(e,function(e){T(e)||(t=!1)}),t}function i(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function f(e){return e.constant?e.$$watchDelegate=i:e.oneTime?e.$$watchDelegate=n:e.inputs&&(e.$$watchDelegate=t),e}function a(r,o){var t,n,a,e;return o?(r.$$interceptor&&(t=r.$$interceptor,n=o,i.$stateful=t.$stateful||n.$stateful,i.$$pure=t.$$pure&&n.$$pure,o=i,r=r.$$intercepted),a=!1,(e=function(e,t,n,i){e=a&&i?i[0]:r(e,t,n,i);return o(e)}).$$intercepted=r,e.$$interceptor=o,e.literal=r.literal,e.oneTime=r.oneTime,e.constant=r.constant,o.$stateful||(a=!r.inputs,e.inputs=r.inputs||[r],o.$$pure||(e.inputs=e.inputs.map(function(t){return t.isPure===Bi?function(e){return t(e)}:t}))),f(e)):r;function i(e){return n(t(e))}}}]}function ji(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return Yi(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return T(e)?(n=e,this):n}}function Wi(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return Yi(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return T(e)?(n=e,this):n}}function Yi(s,l,c){var n=k("$q",TypeError),u=0,i=[];function r(){return new e}function e(){var t=this.promise=new o;this.resolve=function(e){p(t,e)},this.reject=function(e){f(t,e)},this.notify=function(e){m(t,e)}}function o(){this.$$state={status:0}}function h(){for(;!u&&i.length;){var e,t=i.shift();t.pur||(Gi(t),e="Possibly unhandled rejection: "+it(t.value),Pe(t.value)?l(t.value,e):l(e))}}function d(a){!c||a.pending||2!==a.status||a.pur||(0===u&&0===i.length&&s(h),i.push(a)),!a.processScheduled&&a.pending&&(a.processScheduled=!0,++u,s(function(){var e,t,n=a,i=n.pending;n.processScheduled=!1,n.pending=void 0;try{for(var r=0,o=i.length;r<o;++r){Gi(n),t=i[r][0],e=i[r][n.status];try{Ce(e)?p(t,e(n.value)):(1===n.status?p:f)(t,n.value)}catch(e){f(t,e),e&&!0===e.$$passToExceptionHandler&&l(e)}}}finally{--u,c&&0===u&&s(h)}}))}function p(e,t){e.$$state.status||(t===e?g(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function t(n,e){var i;var r=!1;try{($e(e)||Ce(e))&&(i=e.then),Ce(i)?(n.$$state.status=-1,i.call(e,o,a,s)):(n.$$state.value=e,n.$$state.status=1,d(n.$$state))}catch(e){a(e)}function o(e){r||(r=!0,t(n,e))}function a(e){r||(r=!0,g(n,e))}function s(e){m(n,e)}}(e,t))}function f(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,d(e.$$state)}function m(e,r){var o=e.$$state.pending;e.$$state.status<=0&&o&&o.length&&s(function(){for(var e,t,n=0,i=o.length;n<i;n++){t=o[n][0],e=o[n][3];try{m(t,Ce(e)?e(r):r)}catch(e){l(e)}}})}function a(e){var t=new o;return f(t,e),t}function v(e,t,n){var i=null;try{Ce(n)&&(i=n())}catch(e){return a(e)}return j(i)?i.then(function(){return t(e)},a):t(e)}function $(e,t,n,i){var r=new o;return p(r,e),r.then(t,n,i)}ge(o.prototype,{then:function(e,t,n){var i;return ve(e)&&ve(t)&&ve(n)?this:(i=new o,this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&d(this.$$state),i)},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return v(e,y,t)},function(e){return v(e,a,t)},e)}});var y=$;function t(e){var t;if(Ce(e))return t=new o,e(function(e){p(t,e)},function(e){f(t,e)}),t;throw n("norslvr","Expected resolverFn, got '{0}'",e)}return t.prototype=o.prototype,t.defer=r,t.reject=a,t.when=$,t.resolve=y,t.all=function(e){var n=new o,i=0,r=be(e)?[]:{};return fe(e,function(e,t){i++,$(e).then(function(e){r[t]=e,--i||p(n,r)},function(e){f(n,e)})}),0===i&&p(n,r),n},t.race=function(e){var t=r();return fe(e,function(e){$(e).then(t.resolve,t.reject)}),t.promise},t}function Gi(e){e.pur=!0}function Xi(e){Gi(e.$$state)}function Ki(){this.$get=["$window","$timeout",function(e,n){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,e=!!i,t=e?function(e){var t=i(e);return function(){r(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return t.supported=e,t}]}function Qi(){var x=10,S=k("$rootScope"),E=null,A=null;this.digestTtl=function(e){return x=arguments.length?e:x},this.$get=["$exceptionHandler","$parse","$browser",function(p,f,g){function r(e){e.currentScope.$$destroyed=!0}function o(){this.$id=B(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}o.prototype={constructor:o,$new:function(e,t){var n;function i(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=B(),this.$$ChildScope=null,this.$$suspended=!1}return t=t||this,e?(n=new o).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(i.prototype=this,i)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t===this||n.$on("$destroy",r),n},$watch:function(e,t,n,i){var r,o,a,s=f(e),t=Ce(t)?t:me;return s.$$watchDelegate?s.$$watchDelegate(this,t,n,s,e):(o=(r=this).$$watchers,a={fn:t,last:w,get:s,exp:i||e,eq:!!n},E=null,o||((o=r.$$watchers=[]).$$digestWatchIndex=-1),o.unshift(a),o.$$digestWatchIndex++,l(this,1),function(){var e=Ve(o,a);0<=e&&(l(r,-1),e<o.$$digestWatchIndex&&o.$$digestWatchIndex--),E=null})},$watchGroup:function(t,i){var e,r=new Array(t.length),o=new Array(t.length),n=[],a=this,s=!1,l=!0;return t.length?1===t.length?this.$watch(t[0],function(e,t,n){o[0]=e,r[0]=t,i(o,e===t?o:r,n)}):(fe(t,function(e,t){e=a.$watch(e,function(e){o[t]=e,s||(s=!0,a.$evalAsync(c))});n.push(e)}),function(){for(;n.length;)n.shift()()}):(e=!0,a.$evalAsync(function(){e&&i(o,o,a)}),function(){e=!1});function c(){s=!1;try{l?(l=!1,i(o,o,a)):i(o,r,a)}finally{for(var e=0;e<t.length;e++)r[e]=o[e]}}},$watchCollection:function(e,n){t.$$pure=f(e).literal,t.$stateful=!t.$$pure;var a,s,i,r=this,o=1<n.length,l=0,e=f(e,t),c=[],u={},h=!0,d=0;function t(e){var t,n,i,r;if(!ve(a=e)){if($e(a))if(V(a)){s!==c&&(d=(s=c).length=0,l++),t=a.length,d!==t&&(l++,s.length=d=t);for(var o=0;o<t;o++)r=s[o],i=a[o],r!=r&&i!=i||r===i||(l++,s[o]=i)}else{for(n in s!==u&&(s=u={},d=0,l++),t=0,a)N.call(a,n)&&(t++,i=a[n],r=s[n],n in s?r!=r&&i!=i||r===i||(l++,s[n]=i):(d++,s[n]=i,l++));if(t<d)for(n in l++,s)N.call(a,n)||(d--,delete s[n])}else s!==a&&(s=a,l++);return l}}return this.$watch(e,function(){if(h?(h=!1,n(a,a,r)):n(a,i,r),o)if($e(a))if(V(a)){i=new Array(a.length);for(var e=0;e<a.length;e++)i[e]=a[e]}else for(var t in i={},a)N.call(a,t)&&(i[t]=a[t]);else i=a})},$digest:function(){var e,t,n,i,r,o,a,s=x,l=v.length?m:this,c=[];b("$digest"),g.$$checkUrlChange(),this===m&&null!==A&&(g.defer.cancel(A),k()),E=null;do{for(var u=!1,h=l,d=0;d<v.length;d++){try{(0,(a=v[d]).fn)(a.scope,a.locals)}catch(e){p(e)}E=null}v.length=0;e:do{if(i=!h.$$suspended&&h.$$watchers)for(i.$$digestWatchIndex=i.length;i.$$digestWatchIndex--;)try{if(e=i[i.$$digestWatchIndex])if((t=(0,e.get)(h))===(n=e.last)||(e.eq?xe(t,n):M(t)&&M(n))){if(e===E){u=!1;break e}}else u=!0,(E=e).last=e.eq?K(t,null):t,(0,e.fn)(t,n===w?t:n,h),s<5&&(c[o=4-s]||(c[o]=[]),c[o].push({msg:Ce(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){p(e)}if(!(r=!h.$$suspended&&h.$$watchersCount&&h.$$childHead||h!==l&&h.$$nextSibling))for(;h!==l&&!(r=h.$$nextSibling);)h=h.$parent}while(h=r);if((u||v.length)&&!s--)throw C(),S("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",x,c)}while(u||v.length);for(C();y<$.length;)try{$[y++]()}catch(e){p(e)}$.length=y=0,g.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e,t=this.$parent;for(e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===m&&g.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)a(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=me,this.$on=this.$watch=this.$watchGroup=function(){return me},this.$$listeners={},this.$$nextSibling=null,!function e(t){9===Me&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return f(e)(this,t)},$evalAsync:function(e,t){m.$$phase||v.length||g.defer(function(){v.length&&m.$digest()}),v.push({scope:this,fn:f(e),locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{b("$apply");try{return this.$eval(e)}finally{C()}}catch(e){p(e)}finally{try{m.$digest()}catch(e){throw p(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=f(e),null===A&&(A=g.defer(function(){m.$apply(k)}))},$on:function(t,n){for(var i=this.$$listeners[t],e=(i||(this.$$listeners[t]=i=[]),i.push(n),this);e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var r=this;return function(){var e=i.indexOf(n);-1!==e&&(delete i[e],a(r,1,t))}},$emit:function(e,t){var n,i,r,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=J([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(e){p(e)}else n.splice(i,1),i--,r--}while(!s&&(a=a.$parent));return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=n,r=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(n.$$listenerCount[e]){for(var a,s,l,c=J([o],arguments,1);i=r;){for(s=0,l=(a=(o.currentScope=i).$$listeners[e]||[]).length;s<l;s++)if(a[s])try{a[s].apply(null,c)}catch(e){p(e)}else a.splice(s,1),s--,l--;if(!(r=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}o.currentScope=null}return o}};var m=new o,v=m.$$asyncQueue=[],$=m.$$postDigestQueue=[],n=m.$$applyAsyncQueue=[],y=0;return m;function b(e){if(m.$$phase)throw S("inprog","{0} already in progress",m.$$phase);m.$$phase=e}function C(){m.$$phase=null}function l(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function a(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function w(){}function k(){for(;n.length;)try{n.shift()()}catch(e){p(e)}A=null}}]}function Zi(){var i=/^\s*(https?|s?ftp|mailto|tel|file):/,r=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return T(e)?(i=e,this):i},this.imgSrcSanitizationWhitelist=function(e){return T(e)?(r=e,this):r},this.$get=function(){return function(e,t){var t=t?r:i,n=D(e&&e.trim()).href;return""===n||n.match(t)?e:"unsafe:"+n}}}_i.prototype={compile:function(e){var r=this,t=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},l(e,r.$filter),""),n=(this.stage="assign",(n=Hi(e))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),t="fn.assign="+this.generateFunction("assign","s,v,l")),Fi(e.body)),i=(r.stage="inputs",fe(n,function(e,t){var n="fn"+t,i=(r.state[n]={vars:[],body:[],own:{}},r.state.computing=n,r.nextId());r.recurse(e,i),r.return_(i),r.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e),'"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+t+this.watchFns()+"return fn;"),n=new Function("$filter","getStringValue","ifDefined","plus",i)(this.$filter,Ti,Li,Vi);return this.state=this.stage=void 0,n},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return fe(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],i=this;return fe(this.state.filters,function(e,t){n.push(e+"=$filter("+i.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,i,r,o){var a,s,l,c,u,h=this;if(i=i||me,!o&&T(n.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,i,r,!0));else switch(n.type){case d.Program:fe(n.body,function(e,t){h.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?h.current().body.push(s,";"):h.return_(s)});break;case d.Literal:c=this.escape(n.value),this.assign(t,c),i(t||c);break;case d.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),i(c);break;case d.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),i(c);break;case d.LogicalExpression:t=t||this.nextId(),h.recurse(n.left,t),h.if_("&&"===n.operator?t:h.not(t),h.lazyRecurse(n.right,t)),i(t);break;case d.ConditionalExpression:t=t||this.nextId(),h.recurse(n.test,t),h.if_(t,h.lazyRecurse(n.alternate,t),h.lazyRecurse(n.consequent,t)),i(t);break;case d.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",n.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",n.name)),h.lazyAssign(h.nonComputedMember("s",n.name),"{}")),h.assign(t,h.nonComputedMember("s",n.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",n.name))),i(t);break;case d.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(n.object,a,void 0,function(){h.if_(h.notNull(a),function(){n.computed?(s=h.nextId(),h.recurse(n.property,s),h.getStringValue(s),r&&1!==r&&h.if_(h.not(h.computedMember(a,s)),h.lazyAssign(h.computedMember(a,s),"{}")),c=h.computedMember(a,s),h.assign(t,c),e&&(e.computed=!0,e.name=s)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(a,n.property.name)),h.lazyAssign(h.nonComputedMember(a,n.property.name),"{}")),c=h.nonComputedMember(a,n.property.name),h.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!r);break;case d.CallExpression:t=t||this.nextId(),n.filter?(s=h.filter(n.callee.name),l=[],fe(n.arguments,function(e){var t=h.nextId();h.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",h.assign(t,c),i(t)):(s=h.nextId(),a={},l=[],h.recurse(n.callee,s,a,function(){h.if_(h.notNull(s),function(){fe(n.arguments,function(e){h.recurse(e,n.constant?void 0:h.nextId(),void 0,function(e){l.push(e)})}),c=a.name?h.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",h.assign(t,c)},function(){h.assign(t,"undefined")}),i(t)}));break;case d.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){h.if_(h.notNull(a.context),function(){h.recurse(n.right,s),c=h.member(a.context,a.name,a.computed)+n.operator+s,h.assign(t,c),i(t||c)})},1);break;case d.ArrayExpression:l=[],fe(n.elements,function(e){h.recurse(e,n.constant?void 0:h.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),i(t||c);break;case d.ObjectExpression:u=!(l=[]),fe(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),fe(n.properties,function(e){e.computed?(a=h.nextId(),h.recurse(e.key,a)):a=e.key.type===d.Identifier?e.key.name:""+e.key.value,s=h.nextId(),h.recurse(e.value,s),h.assign(h.member(t,a,e.computed),s)})):(fe(n.properties,function(t){h.recurse(t.value,n.constant?void 0:h.nextId(),void 0,function(e){l.push(h.escape(t.key.type===d.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case d.ThisExpression:this.assign(t,"s"),i(t||"s");break;case d.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case d.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){var i;!0===e?t():((i=this.current().body).push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}")))},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(ye(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(b(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Ai("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ui.prototype={compile:function(e){var i,r,o=this,t=(l(e,o.$filter),(t=Hi(e))&&(i=this.recurse(t)),Fi(e.body)),a=(t&&(r=[],fe(t,function(e,t){var n=o.recurse(e);n.isPure=e.isPure,e.input=n,r.push(n),e.watchId=t})),[]),t=(fe(e.body,function(e){a.push(o.recurse(e.expression))}),0===e.body.length?me:1===e.body.length?a[0]:function(t,n){var i;return fe(a,function(e){i=e(t,n)}),i});return i&&(t.assign=function(e,t,n){return i(e,n,t)}),r&&(t.inputs=r),t},recurse:function(e,l,t){var o,c,u,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case d.Literal:return this.value(e.value,l);case d.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,l);case d.BinaryExpression:case d.LogicalExpression:return o=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](o,c,l);case d.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case d.Identifier:return n.identifier(e.name,l,t);case d.MemberExpression:return o=this.recurse(e.object,!1,!!t),e.computed||(c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(o,c,l,t):this.nonComputedMember(o,c,l,t);case d.CallExpression:return u=[],fe(e.arguments,function(e){u.push(n.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,i){for(var r=[],o=0;o<u.length;++o)r.push(u[o](e,t,n,i));var a=c.apply(void 0,r,i);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,i){var r,o=c(e,t,n,i);if(null!=o.value){for(var a=[],s=0;s<u.length;++s)a.push(u[s](e,t,n,i));r=o.value.apply(o.context,a)}return l?{value:r}:r};case d.AssignmentExpression:return o=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,i){var r=o(e,t,n,i),e=c(e,t,n,i);return r.context[r.name]=e,l?{value:e}:e};case d.ArrayExpression:return u=[],fe(e.elements,function(e){u.push(n.recurse(e))}),function(e,t,n,i){for(var r=[],o=0;o<u.length;++o)r.push(u[o](e,t,n,i));return l?{value:r}:r};case d.ObjectExpression:return u=[],fe(e.properties,function(e){e.computed?u.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):u.push({key:e.key.type===d.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,i){for(var r={},o=0;o<u.length;++o)u[o].computed?r[u[o].key(e,t,n,i)]=u[o].value(e,t,n,i):r[u[o].key]=u[o].value(e,t,n,i);return l?{value:r}:r};case d.ThisExpression:return function(e){return l?{value:e}:e};case d.LocalsExpression:return function(e,t){return l?{value:t}:t};case d.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},"unary+":function(r,o){return function(e,t,n,i){e=T(e=r(e,t,n,i))?+e:0;return o?{value:e}:e}},"unary-":function(r,o){return function(e,t,n,i){e=T(e=r(e,t,n,i))?-e:-0;return o?{value:e}:e}},"unary!":function(r,o){return function(e,t,n,i){e=!r(e,t,n,i);return o?{value:e}:e}},"binary+":function(r,o,a){return function(e,t,n,i){e=Vi(r(e,t,n,i),o(e,t,n,i));return a?{value:e}:e}},"binary-":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i),e=a(e,t,n,i),t=(T(r)?r:0)-(T(e)?e:0);return s?{value:t}:t}},"binary*":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)*o(e,t,n,i);return a?{value:e}:e}},"binary/":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)/o(e,t,n,i);return a?{value:e}:e}},"binary%":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)%o(e,t,n,i);return a?{value:e}:e}},"binary===":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)===o(e,t,n,i);return a?{value:e}:e}},"binary!==":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)!==o(e,t,n,i);return a?{value:e}:e}},"binary==":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)==o(e,t,n,i);return a?{value:e}:e}},"binary!=":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)!=o(e,t,n,i);return a?{value:e}:e}},"binary<":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)<o(e,t,n,i);return a?{value:e}:e}},"binary>":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)>o(e,t,n,i);return a?{value:e}:e}},"binary<=":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)<=o(e,t,n,i);return a?{value:e}:e}},"binary>=":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)>=o(e,t,n,i);return a?{value:e}:e}},"binary&&":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)&&o(e,t,n,i);return a?{value:e}:e}},"binary||":function(r,o,a){return function(e,t,n,i){e=r(e,t,n,i)||o(e,t,n,i);return a?{value:e}:e}},"ternary?:":function(r,o,a,s){return function(e,t,n,i){e=(r(e,t,n,i)?o:a)(e,t,n,i);return s?{value:e}:e}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(r,o,a){return function(e,t,n,i){t=t&&r in t?t:e,a&&1!==a&&t&&null==t[r]&&(t[r]={}),e=t?t[r]:void 0;return o?{context:t,name:r,value:e}:e}},computedMember:function(s,l,c,u){return function(e,t,n,i){var r,o,a=s(e,t,n,i);return null!=a&&(r=l(e,t,n,i),r+="",u&&1!==u&&a&&!a[r]&&(a[r]={}),o=a[r]),c?{context:a,name:r,value:o}:o}},nonComputedMember:function(r,o,a,s){return function(e,t,n,i){e=r(e,t,n,i),s&&1!==s&&e&&null==e[o]&&(e[o]={}),t=null!=e?e[o]:void 0;return a?{context:e,name:o,value:t}:t}},inputs:function(r,o){return function(e,t,n,i){return i?i[o]:r(e,t,n)}}},zi.prototype={constructor:zi,parse:function(e){var t,e=this.getAst(e),n=this.astCompiler.compile(e.ast);return n.literal=0===(t=e.ast).body.length||1===t.body.length&&(t.body[0].expression.type===d.Literal||t.body[0].expression.type===d.ArrayExpression||t.body[0].expression.type===d.ObjectExpression),n.constant=e.ast.constant,n.oneTime=e.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Ji=k("$sce"),c={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},er=/_([a-z])/g;function tr(e){return e.replace(er,ht)}function nr(e){var t=[];return T(e)&&fe(e,function(e){t.push(function(e){if("self"===e)return e;if(ye(e)){if(-1<e.indexOf("***"))throw Ji("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Y(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(z(e))return new RegExp("^"+e.source+"$");throw Ji("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function ir(){this.SCE_CONTEXTS=c;var s=["self"],l=[];this.resourceUrlWhitelist=function(e){return s=arguments.length?nr(e):s},this.resourceUrlBlacklist=function(e){return l=arguments.length?nr(e):l},this.$get=["$injector","$$sanitizeUri",function(e,i){var r=function(e){throw Ji("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?pr(t,dr)||pr(t,function(){if(w.document.baseURI)return w.document.baseURI;hr||((hr=w.document.createElement("a")).href=".",hr=hr.cloneNode(!1));return hr.href}()):e.exec(t.href)}function t(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return(t.prototype=e?new e:t.prototype).valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(r=e.get("$sanitize"));var n=t(),a={};return a[c.HTML]=t(n),a[c.CSS]=t(n),a[c.MEDIA_URL]=t(n),a[c.URL]=t(a[c.MEDIA_URL]),a[c.JS]=t(n),a[c.RESOURCE_URL]=t(a[c.URL]),{trustAs:function(e,t){var n=a.hasOwnProperty(e)?a[e]:null;if(!n)throw Ji("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||ve(t)||""===t)return t;if("string"!=typeof t)throw Ji("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||ve(t)||""===t)return t;var n=a.hasOwnProperty(e)?a[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(Ce(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===c.MEDIA_URL||e===c.URL)return i(t,e===c.MEDIA_URL);if(e===c.RESOURCE_URL){if(function(e){for(var t=D(e.toString()),n=!1,i=0,r=s.length;i<r;i++)if(o(s[i],t)){n=!0;break}if(n)for(i=0,r=l.length;i<r;i++)if(o(l[i],t)){n=!1;break}return n}(t))return t;throw Ji("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===c.HTML)return r(t);throw Ji("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function rr(){var t=!0;this.enabled=function(e){return t=arguments.length?!!e:t},this.$get=["$parse","$sceDelegate",function(i,e){if(t&&Me<8)throw Ji("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=nt(c),n=(r.isEnabled=function(){return t},r.trustAs=e.trustAs,r.getTrusted=e.getTrusted,r.valueOf=e.valueOf,t||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=De),r.parseAs=function(t,e){var n=i(e);return n.literal&&n.constant?n:i(e,function(e){return r.getTrusted(t,e)})},r.parseAs),o=r.getTrusted,a=r.trustAs;return fe(c,function(t,e){e=A(e);r[tr("parse_as_"+e)]=function(e){return n(t,e)},r[tr("get_trusted_"+e)]=function(e){return o(t,e)},r[tr("trust_as_"+e)]=function(e){return a(t,e)}}),r}]}function or(){this.$get=["$window","$document",function(e,t){var n={},i=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=$((/android (\d+)/.exec(A((e.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},t=o.body&&o.body.style,a=!1,s=!1;return t&&(a=!!("transition"in t||"webkitTransition"in t),s=!!("animation"in t||"webkitAnimation"in t)),{history:!(!i||r<4||e),hasEvent:function(e){var t;return("input"!==e||!Me)&&(ve(n[e])&&(t=o.createElement("div"),n[e]="on"+e in t),n[e])},csp:Q(),transitions:a,animations:s,android:r}}]}var ar=k("$templateRequest");function sr(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(i,r,o,a,s){function l(t,n){l.totalPendingRequests++,ye(t)&&!ve(r.get(t))||(t=s.getTrustedResourceUrl(t));var e=o.defaults&&o.defaults.transformResponse;return be(e)?e=e.filter(function(e){return e!==Xn}):e===Xn&&(e=null),o.get(t,ge({cache:r,transformResponse:e},c)).finally(function(){l.totalPendingRequests--}).then(function(e){return r.put(t,e.data)},function(e){n||(e=ar("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText),i(e));return a.reject(e)})}return l.totalPendingRequests=0,l}]}function lr(){this.$get=["$rootScope","$browser","$location",function(t,n,i){var e={findBindings:function(e,n,i){var e=e.getElementsByClassName("ng-binding"),r=[];return fe(e,function(t){var e=y.element(t).data("$binding");e&&fe(e,function(e){i?new RegExp("(^|\\s)"+Y(n)+"(\\s|\\||$)").test(e)&&r.push(t):-1!==e.indexOf(n)&&r.push(t)})}),r},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return i.url()},setLocation:function(e){e!==i.url()&&(i.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}var cr=k("$timeout");function ur(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,l,c,u,h){var d={};function e(e,t,n){Ce(e)||(n=t,t=e,e=me);var i=Be(arguments,3),r=T(n)&&!n,o=(r?u:c).defer(),a=o.promise,n=l.defer(function(){try{o.resolve(e.apply(null,i))}catch(e){o.reject(e),h(e)}finally{delete d[a.$$timeoutId]}r||s.$apply()},t);return a.$$timeoutId=n,d[n]=o,a}return e.cancel=function(e){if(!e)return!1;var t;if(e.hasOwnProperty("$$timeoutId"))return!!d.hasOwnProperty(e.$$timeoutId)&&(e=e.$$timeoutId,Xi((t=d[e]).promise),t.reject("canceled"),delete d[e],l.defer.cancel(e));throw cr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")},e}]}var hr,n=w.document.createElement("a"),dr=D(w.location.href);function D(e){var t;return ye(e)?(t=e,Me&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}):e}function pr(e,t){return e=D(e),t=D(t),e.protocol===t.protocol&&e.host===t.host}function fr(){this.$get=E(w)}function gr(e){var a=e[0]||{},s={},l="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,i,r,o=function(e){try{return e.cookie||""}catch(e){return""}}(a);if(o!==l)for(e=(l=o).split("; "),s={},n=0;n<e.length;n++)0<(i=(t=e[n]).indexOf("="))&&(r=c(t.substring(0,i)),ve(s[r])&&(s[r]=c(t.substring(i+1))));return s}}function mr(){this.$get=gr}function vr(i){function r(e,t){var n;return $e(e)?(n={},fe(e,function(e,t){n[t]=r(t,e)}),n):i.factory(e+"Filter",t)}this.register=r,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],r("currency",wr),r("date",Lr),r("filter",$r),r("json",Vr),r("limitTo",Fr),r("lowercase",qr),r("number",kr),r("orderBy",Hr),r("uppercase",Br)}function $r(){return function(e,t,n,i){if(!V(e)){if(null==e)return e;throw k("filter")("notarray","Expected array but received: {0}",e)}var r,o;switch(i=i||"$",br(t)){case"function":r=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=function(t,n,i,r){var o=$e(t)&&i in t;!0===n?n=xe:Ce(n)||(n=function(e,t){return!ve(e)&&(null===e||null===t?e===t:!($e(t)||$e(e)&&!_(e))&&(e=A(""+e),t=A(""+t),-1!==e.indexOf(t)))});return function(e){return o&&!$e(e)?yr(e,t[i],n,i,!1):yr(e,t,n,i,r)}}(t,n,i,o);break;default:return e}return Array.prototype.filter.call(e,r)}}function yr(e,t,n,i,r,o){var a,s=br(e),l=br(t);if("string"===l&&"!"===t.charAt(0))return!yr(e,t.substring(1),n,i,r);if(be(e))return e.some(function(e){return yr(e,t,n,i,r)});switch(s){case"object":if(r){for(a in e)if(a.charAt&&"$"!==a.charAt(0)&&yr(e[a],t,n,i,!0))return!0;return!o&&yr(e,t,n,i,!1)}if("object"!==l)return n(e,t);for(a in t){var c=t[a];if(!Ce(c)&&!ve(c)){var u=a===i;if(!yr(u?e:e[a],c,n,i,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function br(e){return null===e?"null":typeof e}gr.$inject=["$document"],vr.$inject=["$provide"];var Cr="0";function wr(e){var r=e.NUMBER_FORMATS;return function(e,t,n){ve(t)&&(t=r.CURRENCY_SYM),ve(n)&&(n=r.PATTERNS[1].maxFrac);var i=t?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:xr(e,r.PATTERNS[1],r.GROUP_SEP,r.DECIMAL_SEP,n).replace(i,t)}}function kr(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:xr(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function xr(e,t,n,i,r){if(!ye(e)&&!b(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="∞";else{var c=o=function(e){var t,n,i,r,o,a=0;for(0<(i=(e=-1<(n=e.indexOf("."))?e.replace(".",""):e).search(/e/i))?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Cr;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Cr;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return 22<n&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(s),u=r,s=t.minFrac,r=t.maxFrac,h=c.d,d=h.length-c.i,p=(u=ve(u)?Math.min(Math.max(s,d),r):+u)+c.i,s=h[p];if(0<p){h.splice(Math.max(c.i,p));for(var f=p;f<h.length;f++)h[f]=0}else{d=Math.max(0,d),c.i=1,h.length=Math.max(1,p=u+1),h[0]=0;for(var g=1;g<p;g++)h[g]=0}if(5<=s)if(p-1<0){for(var m=0;p<m;m--)h.unshift(0),c.i++;h.unshift(1),c.i++}else h[p-1]++;for(;d<Math.max(0,u);d++)h.push(0);(r=h.reduceRight(function(e,t,n,i){return i[n]=(t+=e)%10,Math.floor(t/10)},0))&&(h.unshift(r),c.i++);for(var v=o.d,$=o.i,s=o.e,r=[],a=v.reduce(function(e,t){return e&&!t},!0);$<0;)v.unshift(0),$++;0<$?r=v.splice($,v.length):(r=v,v=[0]);var y=[];for(v.length>=t.lgSize&&y.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)y.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&y.unshift(v.join("")),l=y.join(n),r.length&&(l+=i+r.join("")),s&&(l+="e+"+s)}return e<0&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Sr(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=Cr+e;return r+(e=n?e.substr(e.length-t):e)}function e(t,n,i,r,o){return i=i||0,function(e){e=e["get"+t]();return(0<i||-i<e)&&(e+=i),Sr(e=0===e&&-12===i?12:e,n,r,o)}}function Er(n,i,r){return function(e,t){e=e["get"+n]();return t[x((r?"STANDALONE":"")+(i?"SHORT":"")+n)][e]}}function Ar(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Mr(n){return function(e){var t=Ar(e.getFullYear()),e=(e=e,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())));return Sr(1+Math.round((+e-+t)/6048e5),n)}}function Tr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}wr.$inject=["$locale"];var Dr={yyyy:e("FullYear",4,0,!(kr.$inject=["$locale"]),!0),yy:e("FullYear",2,0,!0,!0),y:e("FullYear",1,0,!1,!0),MMMM:Er("Month"),MMM:Er("Month",!0),MM:e("Month",2,1),M:e("Month",1,1),LLLL:Er("Month",!1,!0),dd:e("Date",2),d:e("Date",1),HH:e("Hours",2),H:e("Hours",1),hh:e("Hours",2,-12),h:e("Hours",1,-12),mm:e("Minutes",2),m:e("Minutes",1),ss:e("Seconds",2),s:e("Seconds",1),sss:e("Milliseconds",3),EEEE:Er("Day"),EEE:Er("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=0<=(n=-1*n)?"+":"";return i+=Sr(Math[0<n?"floor":"ceil"](n/60),2)+Sr(Math.abs(n%60),2)},ww:Mr(2),w:Mr(1),G:Tr,GG:Tr,GGG:Tr,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Pr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Or=/^-?\d+$/;function Lr(g){var m=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var i,r,o,a,s,l,c,u,h,d="",p=[];if(e=g.DATETIME_FORMATS[e=e||"mediumDate"]||e,!C(t=b(t=ye(t)?Or.test(t)?$(t):(h=(o=t).match(m))?(a=new Date(0),u=c=0,l=h[8]?a.setUTCFullYear:a.setFullYear,s=h[8]?a.setUTCHours:a.setHours,h[9]&&(c=$(h[9]+h[10]),u=$(h[9]+h[11])),l.call(a,$(h[1]),$(h[2])-1,$(h[3])),l=$(h[4]||0)-c,c=$(h[5]||0)-u,u=$(h[6]||0),h=Math.round(1e3*parseFloat("0."+(h[7]||0))),s.call(a,l,c,u,h),a):o:t)?new Date(t):t)||!isFinite(t.getTime()))return t;for(;e;)e=(r=Pr.exec(e))?(p=J(p,r,1)).pop():(p.push(e),null);var f=t.getTimezoneOffset();return n&&(f=re(n,f),t=ae(t,n,!0)),fe(p,function(e){i=Dr[e],d+=i?i(t,g.DATETIME_FORMATS,f):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}}function Vr(){return function(e,t){return te(e,t=ve(t)?2:t)}}Lr.$inject=["$locale"];var qr=E(A),Br=E(x);function Fr(){return function(e,t,n){return t=(Math.abs(Number(t))===1/0?Number:$)(t),!M(t)&&V(e=b(e)?e.toString():e)?(n=(n=!n||isNaN(n)?0:$(n))<0?Math.max(0,e.length+n):n,0<=t?Rr(e,n,n+t):0===n?Rr(e,t,e.length):Rr(e,Math.max(0,n+t),n)):e}}function Rr(e,t,n){return ye(e)?e.slice(t,n):g.call(e,t,n)}function Hr(r){return function(e,t,n,i){if(null!=e){if(!V(e))throw k("orderBy")("notarray","Expected array but received: {0}",e);var o=(t=0===(t=be(t)?t:[t]).length?["+"]:t).map(function(e){var t,n=1,i=De;return Ce(e)?i=e:ye(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=r(e)).constant&&(t=i(),i=function(e){return e[t]})),{get:i,descending:n}}),a=n?-1:1,s=Ce(i)?i:c,t=Array.prototype.map.call(e,function(i,r){return{value:i,tieBreaker:{value:r,type:"number",index:r},predicateValues:o.map(function(e){var e=e.get(i),t=r,n=typeof e;return null===e?n="null":"object"===n&&(e=function(e){if(Ce(e.valueOf)&&l(e=e.valueOf()))return e;_(e)&&l(e=e.toString());return e}(e)),{value:e,type:n,index:t}})}});t.sort(function(e,t){for(var n=0,i=o.length;n<i;n++){var r=s(e.predicateValues[n],t.predicateValues[n]);if(r)return r*o[n].descending*a}return(s(e.tieBreaker,t.tieBreaker)||c(e.tieBreaker,t.tieBreaker))*a}),e=t.map(function(e){return e.value})}return e};function l(e){switch(typeof e){case"number":case"boolean":case"string":return 1;default:return}}function c(e,t){var n,i,r=0,o=e.type,a=t.type;return o===a?(n=e.value,i=t.value,"string"===o?(n=n.toLowerCase(),i=i.toLowerCase()):"object"===o&&($e(n)&&(n=e.index),$e(i)&&(i=t.index)),n!==i&&(r=n<i?-1:1)):r="undefined"!==o&&("undefined"===a||"null"!==o&&("null"===a||o<a))?-1:1,r}}function _r(e){return(e=Ce(e)?{link:e}:e).restrict=e.restrict||"AC",E(e)}Hr.$inject=["$parse"];var Ur=E({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){var n;"a"===t[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href",t.on("click",function(e){t.attr(n)||e.preventDefault()}))}}}),zr={},Nr=(fe(Ht,function(e,i){var r,t;function o(e,t,n){e.$watch(n[r],function(e){n.$set(i,!!e)})}"multiple"!==e&&(r=Dn("ng-"+i),t="checked"===e?function(e,t,n){n.ngModel!==n[r]&&o(e,0,n)}:o,zr[r]=function(){return{restrict:"A",priority:100,link:t}})}),fe(Ut,function(e,r){zr[r]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===r&&"/"===n.ngPattern.charAt(0)){var i=n.ngPattern.match(p);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(n[r],function(e){n.$set(r,e)})}}}}),fe(["src","srcset","href"],function(o){var a=Dn("ng-"+o);zr[a]=function(){return{priority:99,link:function(e,t,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===v.call(t.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(a,function(e){e?(n.$set(r,e),Me&&i&&t.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}}),{$addControl:me,$$renameControl:function(e,t){e.$name=t},$removeControl:me,$setValidity:me,$setDirty:me,$setPristine:me,$setSubmitted:me,$$setSubmitted:me}),Ir="ng-pending",jr="ng-submitted";function Wr(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Nr,this.$$element=e,this.$$animate=i,Kr(this)}Wr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Wr.prototype={$rollbackViewValue:function(){fe(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){fe(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ge(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],fe(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),fe(this.$error,function(e,t){this.$setValidity(t,null,n)},this),fe(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),Ve(this.$$controls,n),n.$$parentForm=Nr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Io),this.$$animate.addClass(this.$$element,jo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Io,jo+" "+jr),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,fe(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){fe(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Nr;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,jr),this.$submitted=!0,fe(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},Qr({clazz:Wr,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(Ve(i,n),0===i.length&&delete e[t])}});function Yr(n){return["$timeout","$parse",function(l,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Wr,compile:function(e,t){e.addClass(Io).addClass(zo);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,i){var r,o=i[0];"action"in n||(e[0].addEventListener("submit",r=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()}),e.on("$destroy",function(){l(function(){e[0].removeEventListener("submit",r)},0,!1)}));(i[1]||o.$$parentForm).$addControl(o);var a=s?c(o.$name):me;s&&(a(t,o),n.$observe(s,function(e){o.$name!==e&&(a(t,void 0),o.$$parentForm.$$renameControl(o,e),(a=c(o.$name))(t,o))})),e.on("$destroy",function(){o.$$parentForm.$removeControl(o),a(t,void 0),ge(o,Nr)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||me}}]}var Gr=Yr(),Xr=Yr(!0);function Kr(e){e.$$classCache={},e.$$classCache[No]=!(e.$$classCache[zo]=e.$$element.hasClass(zo))}function Qr(e){var t=e.clazz,s=e.set,l=e.unset;function c(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function u(e,t,n){t=t?"-"+Ie(t,"-"):"",c(e,zo+t,!0===n),c(e,No+t,!1===n)}t.prototype.$setValidity=function(e,t,n){var i,r,o,a;ve(t)?(i=e,r=n,(o=this)[a="$pending"]||(o[a]={}),s(o[a],i,r)):(o=e,a=n,(i=this)[r="$pending"]&&l(i[r],o,a),Zr(i[r])&&(i[r]=void 0)),(Le(t)?t?(l(this.$error,e,n),s):(s(this.$error,e,n),l):(l(this.$error,e,n),l))(this.$$success,e,n),this.$pending?(c(this,Ir,!0),this.$valid=this.$invalid=void 0,u(this,"",null)):(c(this,Ir,!1),this.$valid=Zr(this.$error),this.$invalid=!this.$valid,u(this,"",this.$valid)),u(this,e,t=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,t,this)}}function Zr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Jr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,eo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,to=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,no=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,r=/^(\d{4,})-(\d{2})-(\d{2})$/,io=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ro=/^(\d{4,})-W(\d\d)$/,oo=/^(\d{4,})-(\d\d)$/,ao=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,so="keydown wheel mousedown",lo=Ee(),co=(fe("date,datetime-local,month,time,week".split(","),function(e){lo[e]=!0}),{text:function(e,t,n,i,r,o){ho(0,t,n,i,r,o),uo(i)},date:fo("date",r,po(r,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fo("datetimelocal",io,po(io,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:fo("time",ao,po(ao,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fo("week",ro,function(e,t){if(C(e))return e;if(ye(e)){ro.lastIndex=0;var n,i,r,o,a,s,e=ro.exec(e);if(e)return n=+e[1],e=+e[2],a=o=r=i=0,s=Ar(n),e=7*(e-1),t&&(i=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),a=t.getMilliseconds()),new Date(n,0,s.getDate()+e,i,r,o,a)}return NaN},"yyyy-Www"),month:fo("month",oo,po(oo,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o){var a,s,l;go(0,t,0,i,"number"),mo(i),ho(0,t,n,i,r,o),(T(n.min)||n.ngMin)&&(i.$validators.min=function(e,t){return i.$isEmpty(t)||ve(a)||a<=t},n.$observe("min",function(e){a=vo(e),i.$validate()}));(T(n.max)||n.ngMax)&&(i.$validators.max=function(e,t){return i.$isEmpty(t)||ve(s)||t<=s},n.$observe("max",function(e){s=vo(e),i.$validate()}));(T(n.step)||n.ngStep)&&(i.$validators.step=function(e,t){return i.$isEmpty(t)||ve(l)||bo(t,a||0,l)},n.$observe("step",function(e){l=vo(e),i.$validate()}))},url:function(e,t,n,i,r,o){ho(0,t,n,i,r,o),uo(i),i.$validators.url=function(e,t){e=e||t;return i.$isEmpty(e)||eo.test(e)}},email:function(e,t,n,i,r,o){ho(0,t,n,i,r,o),uo(i),i.$validators.email=function(e,t){e=e||t;return i.$isEmpty(e)||to.test(e)}},radio:function(e,n,i,r){var o=!i.ngTrim||"false"!==we(i.ngTrim);ve(i.name)&&n.attr("name",B());n.on("change",function(e){var t;n[0].checked&&(t=i.value,o&&(t=we(t)),r.$setViewValue(t,e&&e.type))}),r.$render=function(){var e=i.value;o&&(e=we(e)),n[0].checked=e===r.$viewValue},i.$observe("value",r.$render)},range:function(e,n,i,r,t,o){go(0,n,0,r,"range"),mo(r),ho(0,n,i,r,t,o);var a=r.$$hasNativeValidators&&"range"===n[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=n[0].validity,e=T(i.min),t=T(i.max),o=T(i.step),h=r.$render;r.$render=a&&T(u.rangeUnderflow)&&T(u.rangeOverflow)?function(){h(),r.$setViewValue(n.val())}:h,e&&(r.$validators.min=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||ve(s)||s<=t},d("min",function(e){s=vo(e),M(r.$modelValue)||(a?((e=n.val())<s&&(e=s,n.val(e)),r.$setViewValue(e)):r.$validate())}));t&&(r.$validators.max=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||ve(l)||t<=l},d("max",function(e){l=vo(e),M(r.$modelValue)||(a?(e=n.val(),l<e&&(n.val(l),e=l<s?s:l),r.$setViewValue(e)):r.$validate())}));o&&(r.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return r.$isEmpty(t)||ve(c)||bo(t,s||0,c)},d("step",function(e){c=vo(e),M(r.$modelValue)||(a&&r.$viewValue!==n.val()?r.$setViewValue(n.val()):r.$validate())}));function d(e,t){n.attr(e,i[e]),i.$observe(e,t)}},checkbox:function(e,t,n,i,r,o,a,s){var l=Co(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Co(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return xe(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:me,button:me,submit:me,reset:me,file:me});function uo(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ho(e,n,i,r,t,o){var a,s,l,c=A(n[0].type),u=(t.android||(a=!1,n.on("compositionstart",function(){a=!0}),n.on("compositionupdate",function(e){!ve(e.data)&&""!==e.data||(a=!1)}),n.on("compositionend",function(){a=!1,u()})),function(e){var t;s&&(o.defer.cancel(s),s=null),a||(t=n.val(),e=e&&e.type,"password"===c||i.ngTrim&&"false"===i.ngTrim||(t=we(t)),(r.$viewValue!==t||""===t&&r.$$hasNativeValidators)&&r.$setViewValue(t,e))});t.hasEvent("input")?n.on("input",u):(l=function(e,t,n){s=s||o.defer(function(){s=null,t&&t.value===n||u(e)})},n.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),t.hasEvent("paste")&&n.on("paste cut drop",l)),n.on("change",u),lo[c]&&r.$$hasNativeValidators&&c===i.type&&n.on(so,function(e){var t,n,i;s||(t=this[f],n=t.badInput,i=t.typeMismatch,s=o.defer(function(){s=null,t.badInput===n&&t.typeMismatch===i||u(e)}))}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;n.val()!==e&&n.val(e)}}function po(i,r){return function(e,t){var n;if(C(e))return e;if(ye(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),Jr.test(e))return new Date(e);if(i.lastIndex=0,e=i.exec(e))return e.shift(),n=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},fe(e,function(e,t){t<r.length&&(n[r[t]]=+e)}),t=new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm,n.ss||0,1e3*n.sss||0),n.yyyy<100&&t.setFullYear(n.yyyy),t}return NaN}}function fo(f,g,m,v){return function(e,t,n,i,r,o,a){var s,l,c,u;function h(e){return e&&(!e.getTime||e.getTime()===e.getTime())}function d(e){return T(e)&&!C(e)?p(e)||void 0:e}function p(e,t){var n=i.$options.getOption("timezone"),e=(l&&l!==n&&(t=oe(t,re(l))),m(e,t));return e=!isNaN(e)&&n?ae(e,n):e}go(0,t,0,i,f),ho(0,t,n,i,r,o),i.$parsers.push(function(e){return i.$isEmpty(e)?null:g.test(e)?p(e,s):void(i.$$parserName=f)}),i.$formatters.push(function(e){if(e&&!C(e))throw Ko("datefmt","Expected `{0}` to be a date",e);var t;return h(e)?(s=e,(t=i.$options.getOption("timezone"))&&(s=ae(s,l=t,!0)),a("date")(e,v,t)):(l=s=null,"")}),(T(n.min)||n.ngMin)&&(i.$validators.min=function(e){return!h(e)||ve(c)||m(e)>=c},n.$observe("min",function(e){c=d(e),i.$validate()})),(T(n.max)||n.ngMax)&&(i.$validators.max=function(e){return!h(e)||ve(u)||m(e)<=u},n.$observe("max",function(e){u=d(e),i.$validate()}))}}function go(e,n,t,i,r){var o=n[0];(i.$$hasNativeValidators=$e(o.validity))&&i.$parsers.push(function(e){var t=n.prop(f)||{};if(!t.badInput&&!t.typeMismatch)return e;i.$$parserName=r})}function mo(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:no.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!b(e))throw Ko("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function vo(e){return T(e)&&!b(e)&&(e=parseFloat(e)),M(e)?void 0:e}function $o(e){return(0|e)===e}function yo(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}function bo(e,t,n){var i,r,o,e=Number(e),a=!$o(e),s=!$o(t),l=!$o(n);return(a||s||l)&&(r=a?yo(e):0,o=s?yo(t):0,i=l?yo(n):0,r=Math.max(r,o,i),e*=o=Math.pow(10,r),t*=o,n*=o,a&&(e=Math.round(e)),s&&(t=Math.round(t)),l&&(n=Math.round(n))),(e-t)%n==0}function Co(e,t,n,i,r){if(T(i)){if((e=e(i)).constant)return e(t);throw Ko("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i)}return r}function wo(){function i(e,t,n){var i=T(n)?n:9===Me?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return xo.test(t.ngValue)?function(e,t,n){i(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){i(t,n,e)})}}}}var ko=["$browser","$sniffer","$filter","$parse",function(r,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,i){i[0]&&(co[A(n.type)]||co.text)(e,t,n,i[0],o,r,a,s)}}}}],xo=/^(true|false|\d+)$/,So=["$compile",function(i){return{restrict:"AC",compile:function(e){return i.$$addBindingClass(e),function(e,t,n){i.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=Ke(e)})}}}}],Eo=["$interpolate","$compile",function(r,o){return{compile:function(e){return o.$$addBindingClass(e),function(e,t,n){var i=r(t.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(t,i.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=ve(e)?"":e})}}}}],Ao=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(e,t){var i=n(t.ngBindHtml),r=n(t.ngBindHtml,function(e){return o.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(r,function(){var e=i(t);n.html(o.getTrustedHtml(e)||"")})}}}}],Mo=E({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function To(l,c){var u;return l="ngClass"+l,["$parse",function(s){return{restrict:"AC",link:function(e,t,i){var n,r=t.data("$classCounts"),o=!0;function a(e,t){var n=[];return fe(e,function(e){(0<t||r[e])&&(r[e]=(r[e]||0)+t,r[e]===+(0<t)&&n.push(e))}),n.join(" ")}r||(r=Ee(),t.data("$classCounts",r)),"ngClass"!==l&&(u=u||s("$index",function(e){return 1&e}),e.$watch(u,function(e){(e===c?function(e){e=a(d(e),1),i.$addClass(e)}:function(e){e=a(d(e),-1),i.$removeClass(e)})(n);o=e})),e.$watch(s(i[l],p),function(e){o===c&&!function(e,t){var e=d(e),t=d(t),n=h(e,t),t=h(t,e),e=a(n,-1),n=a(t,1);i.$addClass(n),i.$removeClass(e)}(n,e);n=e})}}}];function h(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function d(e){return e&&e.split(" ")}function p(t){var e=t;return be(t)?e=t.map(p).join(" "):$e(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}}function Do(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?we(r):r;i.$parsers.push(function(e){var t;if(!ve(e))return t=[],e&&fe(e.split(a),function(e){e&&t.push(o?we(e):e)}),t}),i.$formatters.push(function(e){if(be(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}}var Po=To("",!0),Oo=To("Odd",0),Lo=To("Even",1),Vo=_r({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),qo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Bo={},Fo={blur:!0,focus:!0},Ro=(fe("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var a=Dn("ng-"+o);Bo[a]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(e,t){var i=n(t[a]);return function(n,e){e.on(o,function(e){function t(){i(n,{$event:e})}Fo[o]&&r.$$phase?n.$evalAsync(t):n.$apply(t)})}}}}]}),["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,i,t,r){var o,a,s;e.$watch(i.ngIf,function(e){e?a||r(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",i.ngIf),o={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=Xe(o.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),o=null))})}}}]),Ho=["$templateRequest","$anchorScroll","$animate",function(g,m,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(e,t){var n=t.ngInclude||t.src,p=t.onload||"",f=t.autoscroll;return function(o,a,e,s,l){function c(){t&&(t.remove(),t=null),u&&(u.$destroy(),u=null),h&&(v.leave(h).done(function(e){!1!==e&&(t=null)}),t=h,h=null)}var u,t,h,d=0;o.$watch(n,function(n){function i(e){!1===e||!T(f)||f&&!o.$eval(f)||m()}var r=++d;n?(g(n,!0).then(function(e){var t;o.$$destroyed||r===d&&(t=o.$new(),s.template=e,e=l(t,function(e){c(),v.enter(e,null,a).done(i)}),h=e,(u=t).$emit("$includeContentLoaded",n),o.$eval(p))},function(){o.$$destroyed||r===d&&(c(),o.$emit("$includeContentError",n))}),o.$emit("$includeContentRequested",n)):(c(),s.template=null)})}}}}],_o=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,i){v.call(t[0]).match(/SVG/)?(t.empty(),r(yt(i.template,w.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t})):(t.html(i.template),r(t.contents())(e))}}}],Uo=_r({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),zo="ng-valid",No="ng-invalid",Io="ng-pristine",jo="ng-dirty",Wo="ng-untouched",Yo="ng-touched",Go="ng-empty",Xo="ng-not-empty",Ko=k("ngModel");function Qo(e,t,n,i,r,o,a,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Nr,this.$options=na,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,Kr(this),(c=this).$$scope.$watch(function(e){e=c.$$ngModelGet(e);return e===c.$modelValue||c.$modelValue!=c.$modelValue&&e!=e||c.$$setModelValue(e),e})}Qo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Qo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),i=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return t=Ce(t)?n(e):t},this.$$ngModelSet=function(e,t){Ce(this.$$parsedNgModel(e))?i(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw Ko("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Se(this.$$element))},$render:me,$isEmpty:function(e){return ve(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Xo),this.$$animate.addClass(this.$$element,Go)):(this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,Xo))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,jo),this.$$animate.addClass(this.$$element,Io)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Io),this.$$animate.addClass(this.$$element,jo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Wo,Yo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Yo,Wo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){var e,t,n,i,r,o;M(this.$modelValue)||(e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),(o=this).$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())}))},$$runValidators:function(n,i,t){this.$$currentValidationRunId++;var r,o,a,s=this.$$currentValidationRunId,l=this;function c(e,t){s===l.$$currentValidationRunId&&l.$setValidity(e,t)}function e(e){s===l.$$currentValidationRunId&&t(e)}!function(){var e=l.$$parserName;{if(!ve(l.$$parserValid))return l.$$parserValid||(fe(l.$validators,function(e,t){c(t,null)}),fe(l.$asyncValidators,function(e,t){c(t,null)})),c(e,l.$$parserValid),l.$$parserValid;c(e,null)}return 1}()||(r=!0,fe(l.$validators,function(e,t){e=Boolean(e(n,i));r=r&&e,c(t,e)}),!r&&(fe(l.$asyncValidators,function(e,t){c(t,null)}),1))?e(!1):(o=[],a=!0,fe(l.$asyncValidators,function(e,t){e=e(n,i);if(!j(e))throw Ko("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",e);c(t,void 0),o.push(e.then(function(){c(t,!0)},function(){c(t,a=!1)}))}),o.length?l.$$q.all(o).then(function(){e(a)},me):e(!0))},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!ve(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(ve(t=this.$parsers[e](t))){this.$$parserValid=!1;break}M(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");function o(){n.$modelValue!==i&&n.$$writeModelToScope()}this.$$rawModelValue=t,r&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){r||(n.$modelValue=e?t:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),fe(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce"),n=(b(t[e])?t=t[e]:b(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:b(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce),this);0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,me))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Qr({clazz:Qo,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Zo=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Qo,priority:1,compile:function(e){return e.addClass(Io).addClass(Wo).addClass(zo),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,i=i[2];i&&(r.$options=i.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,t,n,i){var r=i[0];function o(){r.$setTouched()}r.$$setUpdateOnEvents(),t.on("blur",function(){r.$touched||(a.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Jo=/(\s+|^)default(\s+|$)/;function ea(e){this.$$options=e}ea.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var i=!1;return fe(n=ge({},n),function(e,t){"$inherit"===e?"*"===t?i=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=we(e.replace(Jo,function(){return n.updateOnDefault=!0," "})))},this),i&&(delete n["*"],ia(n,this.$$options)),ia(n,na.$$options),new ea(n)}};function ta(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:na,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}}var na=new ea({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function ia(n,e){fe(e,function(e,t){T(n[t])||(n[t]=e)})}var ra=_r({terminal:!0,priority:1e3}),oa=k("ngOptions"),aa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,sa=["$compile","$document","$parse",function(g,m,C){var v=w.document.createElement("option"),$=w.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=me},post:function(e,o,t,n){for(var a=n[0],s=n[1],l=t.multiple,i=0,r=o.children(),c=r.length;i<c;i++)if(""===r[i].value){a.hasEmptyOption=!0,a.emptyOption=r.eq(i);break}o.empty();var u,n=!!a.emptyOption,h=(pe(v.cloneNode(!1)).val("?"),function(e,t,c){var n,i,r,u,o,h,a,d,p,f,g,m,v,s,$,l=e.match(aa);if(l)return n=l[5]||l[7],i=l[6],r=/ as /.test(l[0])&&l[1],u=l[9],o=C(l[2]?l[1]:n),h=r&&C(r)||o,a=u&&C(u),d=u?function(e,t){return a(c,t)}:function(e){return Gt(e)},p=function(e,t){return d(e,$(e,t))},f=C(l[2]||l[1]),g=C(l[3]||""),m=C(l[4]||""),v=C(l[8]),s={},$=i?function(e,t){return s[i]=t,s[n]=e,s}:function(e){return s[n]=e,s},{trackBy:u,getTrackByValue:p,getWatchables:C(v,function(e){for(var t=[],n=b(e=e||[]),i=n.length,r=0;r<i;r++){var o=e===n?r:n[r],a=e[o],o=$(a,o),a=d(a,o);t.push(a),(l[2]||l[1])&&(a=f(c,o),t.push(a)),l[4]&&(a=m(c,o),t.push(a))}return t}),getOptions:function(){for(var e=[],t={},n=v(c)||[],i=b(n),r=i.length,o=0;o<r;o++){var a=n===i?o:i[o],s=n[a],s=$(s,a),a=h(c,s),l=d(a,s),a=new y(l,a,f(c,s),g(c,s),m(c,s));e.push(a),t[l]=a}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return u?K(e.viewValue):e.viewValue}}}};throw oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Se(t));function y(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function b(e){var t;if(!i&&V(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}}(t.ngOptions,o,e)),d=m[0].createDocumentFragment();function p(e,t){var n=v.cloneNode(!1),t=(t.appendChild(n),e),e=n;(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function f(e){var e=u.getOptionFromViewValue(e),t=e&&e.element;return t&&!t.selected&&(t.selected=!0),e}a.generateUnknownOptionValue=function(e){return"?"},l?(a.writeValue=function(e){var t;u&&(t=e&&e.map(f)||[],u.items.forEach(function(e){e.element.selected&&!X(t,e)&&(e.element.selected=!1)}))},a.readValue=function(){var e=o.val()||[],t=[];return fe(e,function(e){e=u.selectValueMap[e];e&&!e.disabled&&t.push(u.getViewValueFromOption(e))}),t},h.trackBy&&e.$watchCollection(function(){if(be(s.$viewValue))return s.$viewValue.map(function(e){return h.getTrackByValue(e)})},function(){s.$render()})):(a.writeValue=function(e){var t,n;u&&(t=o[0].options[o[0].selectedIndex],n=u.getOptionFromViewValue(e),t&&t.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(a.removeUnknownOption(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):a.selectUnknownOrEmptyOption(e))},a.readValue=function(){var e=u.selectValueMap[o.val()];return e&&!e.disabled?(a.unselectEmptyOption(),a.removeUnknownOption(),u.getViewValueFromOption(e)):null},h.trackBy&&e.$watch(function(){return h.getTrackByValue(s.$viewValue)},function(){s.$render()})),n&&(g(a.emptyOption)(e),o.prepend(a.emptyOption),a.emptyOption[0].nodeType===Je?(a.hasEmptyOption=!1,a.registerOption=function(e,t){""===t.val()&&(a.hasEmptyOption=!0,a.emptyOption=t,a.emptyOption.removeClass("ng-scope"),s.$render(),t.on("$destroy",function(){var e=a.$isEmptyOptionSelected();a.hasEmptyOption=!1,a.emptyOption=void 0,e&&s.$render()}))}):a.emptyOption.removeClass("ng-scope")),e.$watchCollection(h.getWatchables,function(){var e=u&&a.readValue();if(u)for(var t=u.items.length-1;0<=t;t--){var n=u.items[t];T(n.group)?Bt(n.element.parentNode):Bt(n.element)}u=h.getOptions();var i={};{var r;u.items.forEach(function(e){var t;T(e.group)?((t=i[e.group])||(t=$.cloneNode(!1),d.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),p(e,t)):p(e,d)}),o[0].appendChild(d),s.$render(),s.$isEmpty(e)||(r=a.readValue(),(h.trackBy||l?xe(e,r):e===r)||(s.$setViewValue(r),s.$render()))}})}}}}],la=["$locale","$interpolate","$log",function(f,g,m){var v=/{}/g,$=/^when(Minus)?(.+)$/;return{link:function(i,r,o){var a,e=o.count,s=o.$attr.when&&r.attr(o.$attr.when),l=o.offset||0,c=i.$eval(s)||{},u={},t=g.startSymbol(),n=g.endSymbol(),h=t+e+"-"+l+n,d=y.noop;function p(e){r.text(e||"")}fe(o,function(e,t){var n=$.exec(t);n&&(n=(n[1]?"-":"")+A(n[2]),c[n]=r.attr(o.$attr[t]))}),fe(c,function(e,t){u[t]=g(e.replace(v,h))}),i.$watch(e,function(e){var t=parseFloat(e),n=M(t);(t=n||t in c?t:f.pluralCat(t-l))===a||n&&M(a)||(d(),ve(n=u[t])?(null!=e&&m.debug("ngPluralize: no rule defined for '"+t+"' in "+s),d=me,p()):d=i.$watch(n,p),a=t)})}}}],ca=["$parse","$animate","$compile",function(s,D,l){function P(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}var O="$$NG_REMOVED",L=k("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var w=t.ngRepeat,k=l.$$createComment("end ngRepeat",w),t=w.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw L("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",w);var n=t[1],i=t[2],x=t[3],r=t[4];if(!(t=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw L("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",n);var o,S,E,A,a,M=t[3]||t[1],T=t[2];if(!x||/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(x)&&!/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(x))return a={$id:Gt},r?o=s(r):(E=function(e,t){return Gt(t)},A=function(e){return e}),function($,y,e,t,b){o&&(S=function(e,t,n){return T&&(a[T]=e),a[M]=t,a.$index=n,o($,a)});var C=Ee();$.$watchCollection(i,function(e){var n,t,i,r,o,a,s,l,c,u,h,d,p,f,g=y[0],m=Ee();if(x&&($[x]=e),V(e))c=e,l=S||E;else for(var v in l=S||A,c=[],e)N.call(e,v)&&"$"!==v.charAt(0)&&c.push(v);for(r=c.length,h=new Array(r),n=0;n<r;n++)if(o=e===c?n:c[n],a=e[o],s=l(o,a,n),C[s])u=C[s],delete C[s],m[s]=u,h[n]=u;else{if(m[s])throw fe(h,function(e){e&&e.scope&&(C[e.id]=e)}),L("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",w,s,a);h[n]={id:s,scope:void 0,clone:void 0},m[s]=!0}for(p in C){if(d=Xe((u=C[p]).clone),D.leave(d),d[0].parentNode)for(n=0,t=d.length;n<t;n++)d[n][O]=!0;u.scope.$destroy()}for(n=0;n<r;n++)if(o=e===c?n:c[n],a=e[o],(u=h[n]).scope){for(i=g;(i=i.nextSibling)&&i[O];);u.clone[0]!==i&&D.move(Xe(u.clone),null,g),g=(f=u).clone[f.clone.length-1],P(u.scope,n,M,a,T,o,r)}else b(function(e,t){u.scope=t;t=k.cloneNode(!1);e[e.length++]=t,D.enter(e,null,g),g=t,u.clone=e,m[u.id]=u,P(u.scope,n,M,a,T,o,r)});C=m})};throw L("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",x)}}}],ua="ng-hide",ha="ng-hide-animate",da=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){i[e?"removeClass":"addClass"](t,ua,{tempClasses:ha})})}}}],pa=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){i[e?"addClass":"removeClass"](t,ua,{tempClasses:ha})})}}}],fa=_r(function(e,n,t){e.$watchCollection(t.ngStyle,function(e,t){t&&e!==t&&fe(t,function(e,t){n.css(t,"")}),e&&n.css(e)})}),ga=["$animate","$compile",function(c,u){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,r){var o,n=n.ngSwitch||n.on,a=[],s=[],l=[];e.$watch(n,function(e){for(var t,n;s.length;)c.cancel(s.pop());for(t=0,n=l.length;t<n;++t){var i=Xe(a[t].clone);l[t].$destroy(),(s[t]=c.leave(i)).done(function(t,n){return function(e){!1!==e&&t.splice(n,1)}}(s,t))}a.length=0,l.length=0,(o=r.cases["!"+e]||r.cases["?"])&&fe(o,function(n){n.transclude(function(e,t){l.push(t);t=n.element;e[e.length++]=u.$$createComment("end ngSwitchWhen"),a.push({clone:e}),c.enter(e,t.parent(),t)})})})}}}],ma=_r({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){fe(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),va=_r({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),$a=k("ngTransclude"),ya=["$compile",function(t){return{restrict:"EAC",compile:function(e){var a=t(e.contents());return e.empty(),function(e,n,t,i,r){if(!r)throw $a("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Se(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");t=t.ngTransclude||t.ngTranscludeSlot;function o(){a(e,function(e){n.append(e)})}r(function(e,t){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==Ze||i.nodeValue.trim())return 1}}(e)?n.append(e):(o(),t.$destroy())},null,t),t&&!r.isSlotFilled(t)&&o()}}}}],ba=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(e,t){"text/ng-template"===t.type&&(t=t.id,e=e[0].text,n.put(t,e))}}}],Ca={$setViewValue:me,$render:me};function wa(e,t){e.prop("selected",t),e.attr("selected",t)}function ka(){return{restrict:"E",require:["select","?ngModel"],controller:Ta,priority:1,link:{pre:function(e,i,t,n){var r,o,a=n[0],s=n[1];s?(a.ngModelCtrl=s,i.on("change",function(){a.removeUnknownOption(),e.$apply(function(){s.$setViewValue(a.readValue())})}),t.multiple&&(a.multiple=!0,a.readValue=function(){var t=[];return fe(i.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in a.selectValueMap?a.selectValueMap[e]:e))}),t},a.writeValue=function(n){fe(i.find("option"),function(e){var t=!!n&&(X(n,e.value)||X(n,a.selectValueMap[e.value]));t!==e.selected&&wa(pe(e),t)})},o=NaN,e.$watch(function(){o!==s.$viewValue||xe(r,s.$viewValue)||(r=nt(s.$viewValue),s.$render()),o=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length})):a.registerOption=me},post:function(e,t,n,i){var r,o=i[1];o&&(r=i[0],o.$render=function(){r.writeValue(o.$viewValue)})}}}}function xa(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}}function Sa(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var r,o;i&&(o=n.ngPattern||n.pattern,n.$observe("pattern",function(e){if((e=ye(e)&&0<e.length?new RegExp("^"+e+"$"):e)&&!e.test)throw k("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,Se(t));r=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||ve(r)||r.test(t)})}}}function Ea(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var r;i&&(r=-1,n.$observe("maxlength",function(e){e=$(e);r=M(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r})}}}function Aa(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var r;i&&(r=0,n.$observe("minlength",function(e){r=$(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r})}}}var Ma,Ta=["$element","$scope",function(n,t){var s=this,i=new Qt,e=(s.selectValueMap={},s.ngModelCtrl=Ca,s.multiple=!1,s.unknownOption=pe(w.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),n.prepend(s.unknownOption),wa(s.unknownOption,!0),n.val(e)},s.updateUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),wa(s.unknownOption,!0),n.val(e)},s.generateUnknownOptionValue=function(e){return"? "+Gt(e)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(n.val(""),wa(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&wa(s.emptyOption,!1)},t.$on("$destroy",function(){s.renderUnknownOption=me}),s.readValue=function(){var e=n.val(),e=e in s.selectValueMap?s.selectValueMap[e]:e;return s.hasOption(e)?e:null},s.writeValue=function(e){var t=n[0].options[n[0].selectedIndex];t&&wa(pe(t),!1),s.hasOption(e)?(s.removeUnknownOption(),t=Gt(e),n.val(t in s.selectValueMap?t:e),t=n[0].options[n[0].selectedIndex],wa(pe(t),!0)):s.selectUnknownOrEmptyOption(e)},s.addOption=function(e,t){t[0].nodeType!==Je&&(Ge(e,'"option value"'),""===e&&(s.hasEmptyOption=!0,s.emptyOption=t),t=i.get(e)||0,i.set(e,t+1),l())},s.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):i.set(e,t-1))},s.hasOption=function(e){return!!i.get(e)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return n[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&n[0].options[n[0].selectedIndex]===s.emptyOption[0]},!(s.selectUnknownOrEmptyOption=function(e){null==e&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(e):s.renderUnknownOption(e)}));function l(){e||(e=!0,t.$$postDigest(function(){e=!1,s.ngModelCtrl.$render()}))}var r=!1;function c(e){r||(r=!0,t.$$postDigest(function(){t.$$destroyed||(r=!1,s.ngModelCtrl.$setViewValue(s.readValue()),e&&s.ngModelCtrl.$render())}))}s.registerOption=function(e,i,r,t,n){var o,a;r.$attr.ngValue?(a=NaN,r.$observe("value",function(e){var t,n=i.prop("selected");T(a)&&(s.removeOption(o),delete s.selectValueMap[a],t=!0),a=Gt(e),o=e,s.selectValueMap[a]=e,s.addOption(e,i),i.attr("value",a),t&&n&&c()})):t?r.$observe("value",function(e){s.readValue();var t,n=i.prop("selected");T(o)&&(s.removeOption(o),t=!0),o=e,s.addOption(e,i),t&&n&&c()}):n?e.$watch(n,function(e,t){r.$set("value",e);var n=i.prop("selected");t!==e&&s.removeOption(t),s.addOption(e,i),t&&n&&c()}):s.addOption(r.value,i),r.$observe("disabled",function(e){("true"===e||e&&i.prop("selected"))&&(s.multiple?c(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),i.on("$destroy",function(){var e=s.readValue(),t=r.value;s.removeOption(t),l(),(s.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],Da=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var o,a;return T(t.ngValue)||(T(t.value)?o=n(t.value,!0):(a=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var i="$selectController",r=t.parent(),r=r.data(i)||r.parent().data(i);r&&r.registerOption(e,t,n,o,a)}}}}];w.angular.bootstrap?w.console&&console.log("WARNING: Tried to load AngularJS more than once."):(je||(r=Z(),(io=ve(r)?w.jQuery:r?w[r]:void 0)&&io.fn.on?ge((pe=io).fn,{scope:Rt.scope,isolateScope:Rt.isolateScope,controller:Rt.controller,injector:Rt.injector,inheritedData:Rt.inheritedData}):pe=s,Ma=pe.cleanData,pe.cleanData=function(e){for(var t,n,i=0;null!=(n=e[i]);i++)(t=pe._data(n).events)&&t.$destroy&&pe(n).triggerHandler("$destroy");Ma(e)},y.element=pe,je=!0),ge(y,{errorHandlingConfig:t,bootstrap:_e,copy:K,extend:ge,merge:H,equals:xe,element:pe,forEach:fe,injector:ln,noop:me,bind:Fe,toJson:te,fromJson:ne,identity:De,isUndefined:ve,isDefined:T,isString:ye,isFunction:Ce,isObject:$e,isNumber:b,isElement:G,isArray:be,version:rt,isDate:C,callbacks:{$$counter:0},getTestability:ze,reloadWithDebugInfo:Ue,$$minErr:k,$$csp:Q,$$encodeUriSegment:ue,$$encodeUriQuery:o,$$lowercase:A,$$stringify:Ke,$$uppercase:x}),(m=tt(w))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Zi}),e.provider("$compile",En).directive({a:Ur,input:ko,textarea:ko,form:Gr,script:ba,select:ka,option:Da,ngBind:So,ngBindHtml:Ao,ngBindTemplate:Eo,ngClass:Po,ngClassEven:Lo,ngClassOdd:Oo,ngCloak:Vo,ngController:qo,ngForm:Xr,ngHide:pa,ngIf:Ro,ngInclude:Ho,ngInit:Uo,ngNonBindable:ra,ngPluralize:la,ngRepeat:ca,ngShow:da,ngStyle:fa,ngSwitch:ga,ngSwitchWhen:ma,ngSwitchDefault:va,ngOptions:sa,ngTransclude:ya,ngModel:Zo,ngList:Do,ngChange:Mo,pattern:Sa,ngPattern:Sa,required:xa,ngRequired:xa,minlength:Aa,ngMinlength:Aa,maxlength:Ea,ngMaxlength:Ea,ngValue:wo,ngModelOptions:ta}).directive({ngInclude:_o}).directive(zr).directive(Bo),e.provider({$anchorScroll:cn,$animate:bn,$animateCss:yn,$$animateJs:gn,$$animateQueue:mn,$$AnimateRunner:$n,$$animateAsyncRun:vn,$browser:wn,$cacheFactory:kn,$controller:qn,$document:Bn,$$isDocumentHidden:Fn,$exceptionHandler:Rn,$filter:vr,$$forceReflow:Hn,$interpolate:ri,$interval:ai,$http:ei,$httpParamSerializer:Yn,$httpParamSerializerJQLike:Gn,$httpBackend:ni,$xhrFactory:ti,$jsonpCallbacks:si,$location:Si,$log:Ei,$parse:Ii,$rootScope:Qi,$q:ji,$$q:Wi,$sce:rr,$sceDelegate:ir,$sniffer:or,$templateCache:xn,$templateRequest:sr,$$testability:lr,$timeout:ur,$window:fr,$$rAF:Ki,$$jqLite:Yt,$$Map:Zt,$$cookieReader:mr})}]).info({angularVersion:"1.7.0"}),y.module("ngLocale",[],["$provide",function(e){var o="one",a="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n,i,r=0|e;return e=e,void 0===(t=t)&&(t=Math.min((i=e,-1==(n=(i+="").indexOf("."))?0:i.length-n-1),3)),i=Math.pow(10,t),1==r&&0=={v:t,f:(e*i|0)%i}.v?o:a}})}]),pe(function(){He(w.document,_e)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(h,e){"use strict";var J,ee,R=1,te="-add",ne="-remove",ve="ng-",S="ng-animate",H="$$ngAnimateChildren",$e=void 0===h.ontransitionend&&void 0!==h.onwebkittransitionend?(J="WebkitTransition","webkitTransitionEnd transitionend"):(J="transition","transitionend"),ye=void 0===h.onanimationend&&void 0!==h.onwebkitanimationend?(ee="WebkitAnimation","webkitAnimationEnd animationend"):(ee="animation","animationend"),i="Duration",be="TimingFunction",o="PlayState",n=ee+"Delay",ie=ee+i,r=J+"Delay",t=J+i,a=e.$$minErr("ng");function g(e,t,n){if(!e)throw a("areq","Argument '{0}' is {1}",t||"?",n||"required")}function E(e,t){return e||t?e?t?(e=ge(e)?e.join(" "):e)+" "+(t=ge(t)?t.join(" "):t):e:t:""}function re(e,n,i){var r="";return e=ge(e)?e:e&&N(e)&&e.length?e.split(/\s+/):[],fe(e,function(e,t){e&&0<e.length&&(r=r+(0<t?" ":"")+(i?n+e:e+n))}),r}function Y(e){if(e instanceof j)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===R)return e;break;default:return j(d(e))}if(e.nodeType===R)return j(e)}function d(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===R)return n}}function f(a){return function(e,t){var n,i,r,o;t.addClass&&(n=a,i=t.addClass,fe(e,function(e){n.addClass(e,i)}),t.addClass=null),t.removeClass&&(r=a,o=t.removeClass,fe(e,function(e){r.removeClass(e,o)}),t.removeClass=null)}}function oe(e){var t;return(e=e||{}).$$prepared||(t=e.domOperation||me,e.domOperation=function(){e.$$domOperationFired=!0,t(),t=me},e.$$prepared=!0),e}function ae(e,t){Ce(e,t),we(e,t)}function Ce(e,t){t.from&&(e.css(t.from),t.from=null)}function we(e,t){t.to&&(e.css(t.to),t.to=null)}function _(e,t,n){var r,i,o,a=t.options||{},n=n.options||{},s=(a.addClass||"")+" "+(n.addClass||""),l=(a.removeClass||"")+" "+(n.removeClass||""),l=(r=e.attr("class"),e=s,s=l,i={},r=c(r),e=c(e),fe(e,function(e,t){i[t]=1}),s=c(s),fe(s,function(e,t){i[t]=1===i[t]?null:-1}),o={addClass:"",removeClass:""},fe(i,function(e,t){var n,i;1===e?(n="addClass",i=!r[t]||r[t+ne]):-1===e&&(n="removeClass",i=r[t]||r[t+te]),i&&(o[n].length&&(o[n]+=" "),o[n]+=t)}),o);function c(e){N(e)&&(e=e.split(" "));var t={};return fe(e,function(e){e.length&&(t[e]=!0)}),t}n.preparationClasses&&(a.preparationClasses=U(n.preparationClasses,a.preparationClasses),delete n.preparationClasses);e=a.domOperation!==me?a.domOperation:null;return G(a,n),e&&(a.domOperation=e),l.addClass?a.addClass=l.addClass:a.addClass=null,l.removeClass?a.removeClass=l.removeClass:a.removeClass=null,t.addClass=a.addClass,t.removeClass=a.removeClass,a}function se(e){return e instanceof j?e[0]:e}function le(e,t){t=t?"-"+t+"s":"";ue(e,[r,t])}function ce(e,t){var t=t?"paused":"",n=ee+o;return ue(e,[n,t]),[n,t]}function ue(e,t){var n=t[0],t=t[1];e.style[n]=t}function U(e,t){return e?t?e+" "+t:e:t}var s=["$interpolate",function(o){return{link:function(e,t,n){var i=n.ngAnimateChildren;function r(e){t.data(H,e="on"===e||"true"===e)}N(i)&&0===i.length?t.data(H,!0):(r(o(i)(e)),n.$observe("ngAnimateChildren",r))}}}],he="$$animateCss",l={transitionDuration:t,transitionDelay:r,transitionProperty:J+"Property",animationDuration:ie,animationDelay:n,animationIterationCount:ee+"IterationCount"},ke={transitionDuration:t,transitionDelay:r,animationDuration:ie,animationDelay:n};function de(e,t){return[t?n:r,e+"s"]}function xe(e,t,n){var r=Object.create(null),o=e.getComputedStyle(t)||{};return fe(n,function(e,t){var n,i,e=o[e];e&&(("-"===(n=e.charAt(0))||"+"===n||0<=n)&&(i=0,n=(n=e).split(/\s*,\s*/),fe(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,i=i?Math.max(e,i):e}),e=i),0===e&&(e=null),r[t]=e)}),r}function pe(e){return 0===e||null!=e}function Se(e,t){var n=J,e=e+"s";return t?n+=i:e+=" linear all",[n,e]}function Ee(t,n,e){fe(e,function(e){t[e]=X(t[e])?t[e]:n.style.getPropertyValue(e)})}var Ae,G,fe,ge,X,p,b,z,N,I,j,me,t=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(N,I,j,W,Y,n,G,t,X){var K=f(I);var i=[];function Q(e){i.push(e),t.waitUntilQuiet(function(){Y.flush();for(var e=n(),t=0;t<i.length;t++)i[t](e);i.length=0})}function Z(e,t,n,i){e=e,n=n,i=i,o=l,(r=Y.get(n))||"infinite"===(r=xe(N,e,o)).animationIterationCount&&(r.animationIterationCount=1),e=i||0<r.transitionDuration||0<r.animationDuration,Y.put(n,r,e);var r,o=r,i=o.animationDelay,n=o.transitionDelay;return o.maxDelay=i&&n?Math.max(i,n):i||n,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(a,e){var s=e||{},l=(s.$$prepared||(s=oe(Ae(s))),{}),c=se(a);if(!c||!c.parentNode||!X.enabled())return q();var u,i,r,n,h,d,p,B,f=[],t=(a.attr("class"),e={},(t=s)&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e),g=[];if(0===s.duration||!G.animations&&!G.transitions)return q();var m=s.event&&ge(s.event)?s.event.join(" "):s.event,e=m&&s.structural,o="",v="",$=(e?o=re(m,ve,!0):m&&(o=m),s.addClass&&(v+=re(s.addClass,te)),s.removeClass&&(v.length&&(v+=" "),v+=re(s.removeClass,ne)),s.applyClassesEarly&&v.length&&K(a,s),[o,v].join(" ").trim()),o=t.to&&0<Object.keys(t.to).length;if(!(0<(s.keyframeStyle||"").length)&&!o&&!$)return q();var y,b,F,C,w,k,x=Y.cacheKey(c,m,s.addClass,s.removeClass);if(Y.containsCachedAnimationWithoutDuration(x))return $=null,q();y=0<s.stagger?{transitionDelay:t=parseFloat(s.stagger),animationDelay:t,transitionDuration:0,animationDuration:0}:(t=c,C=$,k=ke,F="stagger-"+(A=x),0<Y.count(A)&&((b=Y.get(F))||(A=re(C,"-stagger"),I.addClass(t,A),(b=xe(N,t,k)).animationDuration=Math.max(b.animationDuration,0),b.transitionDuration=Math.max(b.transitionDuration,0),I.removeClass(t,A),Y.put(F,b,!0))),b||{}),s.$$skipPreparationClasses||I.addClass(a,$),s.transitionStyle&&(C=[J,s.transitionStyle],ue(c,C),f.push(C)),0<=s.duration&&(w=0<c.style[J].length,k=Se(s.duration,w),ue(c,k),f.push(k)),s.keyframeStyle&&(t=[ee,s.keyframeStyle],ue(c,t),f.push(t));var S,E,R=y?0<=s.staggerIndex?s.staggerIndex:Y.count(x):0,A=0===R,M=(A&&!s.skipBlocking&&le(c,9999),Z(c,0,x,!e)),T=M.maxDelay,D=Math.max(T,0),P=M.maxDuration,O={};return O.hasTransitions=0<M.transitionDuration,O.hasAnimations=0<M.animationDuration,O.hasTransitionAll=O.hasTransitions&&"all"===M.transitionProperty,O.applyTransitionDuration=o&&(O.hasTransitions&&!O.hasTransitionAll||O.hasAnimations&&!O.hasTransitions),O.applyAnimationDuration=s.duration&&O.hasAnimations,O.applyTransitionDelay=pe(s.delay)&&(O.applyTransitionDuration||O.hasTransitions),O.applyAnimationDelay=pe(s.delay)&&O.hasAnimations,O.recalculateTimingStyles=0<v.length,(O.applyTransitionDuration||O.applyAnimationDuration)&&(P=s.duration?parseFloat(s.duration):P,O.applyTransitionDuration&&(O.hasTransitions=!0,M.transitionDuration=P,w=0<c.style[J+"Property"].length,f.push(Se(P,w))),O.applyAnimationDuration&&(O.hasAnimations=!0,M.animationDuration=P,f.push([ie,P+"s"]))),0!==P||O.recalculateTimingStyles?(S=re($,"-active"),null!=s.delay&&("boolean"!=typeof s.delay&&(E=parseFloat(s.delay),D=Math.max(E,0)),O.applyTransitionDelay&&f.push(de(E)),O.applyAnimationDelay&&f.push(de(E,!0))),null==s.duration&&0<M.transitionDuration&&(O.recalculateTimingStyles=O.recalculateTimingStyles||A),d=1e3*D,p=1e3*P,s.skipBlocking||(O.blockTransition=0<M.transitionDuration,O.blockKeyframeAnimation=0<M.animationDuration&&0<y.animationDelay&&0===y.animationDuration),s.from&&(s.cleanupStyles&&Ee(l,c,Object.keys(s.from)),Ce(a,s)),O.blockTransition||O.blockKeyframeAnimation?_(P):s.skipBlocking||le(c,!1),{$$willAnimate:!0,end:L,start:function(){if(!u)return n=new j(h={end:L,cancel:H,resume:null,pause:null}),Q(z),n}}):q();function L(){V()}function H(){V(!0)}function V(e){var t;u||r&&i||(i=!(u=!0),$&&!s.$$skipPreparationClasses&&I.removeClass(a,$),S&&I.removeClass(a,S),ce(c,!1),le(c,!1),fe(f,function(e){c.style[e[0]]=""}),K(a,s),ae(a,s),Object.keys(l).length&&fe(l,function(e,t){e?c.style.setProperty(t,e):c.style.removeProperty(t)}),s.onDone&&s.onDone(),g&&g.length&&a.off(g.join(" "),U),(t=a.data(he))&&(W.cancel(t[0].timer),a.removeData(he)),n&&n.complete(!e))}function _(e){O.blockTransition&&le(c,e),O.blockKeyframeAnimation&&ce(c,!!e)}function q(){return n=new j({end:L,cancel:H}),Q(me),V(),{$$willAnimate:!1,start:function(){return n},end:L}}function U(e){e.stopPropagation();var t,e=e.originalEvent||e;e.target===c&&(t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-B,0)>=d&&P<=e&&(r=!0,V()))}function z(){var e,t;function n(){if(!u){if(_(!1),fe(f,function(e){var t=e[0],e=e[1];c.style[t]=e}),K(a,s),I.addClass(a,S),O.recalculateTimingStyles){if(c.getAttribute("class"),x=Y.cacheKey(c,m,s.addClass,s.removeClass),M=Z(c,0,x,!1),T=M.maxDelay,D=Math.max(T,0),0===(P=M.maxDuration))return void V();O.hasTransitions=0<M.transitionDuration,O.hasAnimations=0<M.animationDuration}O.applyAnimationDelay&&(T="boolean"!=typeof s.delay&&pe(s.delay)?parseFloat(s.delay):T,D=Math.max(T,0),M.animationDelay=T,E=de(T,!0),f.push(E),c.style[E[0]]=E[1]),d=1e3*D,p=1e3*P,s.easing&&(n=s.easing,O.hasTransitions&&(t=J+be,f.push([t,n]),c.style[t]=n),O.hasAnimations&&(t=ee+be,f.push([t,n]),c.style[t]=n)),M.transitionDuration&&g.push($e),M.animationDuration&&g.push(ye),B=Date.now();var e,t=d+1.5*p,n=B+t,i=a.data(he)||[],r=!0;i.length&&((r=n>(e=i[0]).expectedEndTime)?W.cancel(e.timer):i.push(V)),r&&(e=W(o,t,!1),i[0]={timer:e,expectedEndTime:n},i.push(V),a.data(he,i)),g.length&&a.on(g.join(" "),U),s.to&&(s.cleanupStyles&&Ee(l,c,Object.keys(s.to)),we(a,s))}}function o(){var e=a.data(he);if(e){for(var t=1;t<e.length;t++)e[t]();a.removeData(he)}}u||(c.parentNode?(e=function(e){var t,n;r?i&&e&&(i=!1,V()):(i=!e,M.animationDuration&&(e=ce(c,i),i?f.push(e):(e=e,n=(t=f).indexOf(e),0<=e&&t.splice(n,1))))},(t=0<R&&(M.transitionDuration&&0===y.transitionDuration||M.animationDuration&&0===y.animationDuration)&&Math.max(y.animationDelay,y.transitionDelay))?W(n,Math.floor(t*R*1e3),!1):n(),h.resume=function(){e(!0)},h.pause=function(){e(!1)}):V())}}}]}],c=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var v="ng-animate-shim",$="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(h,e,d,t,n,i,r){var p,f;return n.animations||n.transitions?(p=r[0].body,n=se(t),f=j((r=n).parentNode&&11===r.parentNode.nodeType||p.contains(n)?n:p),function(e){{var t,n,i,r,o,a;if(e.from&&e.to)return t=e.from,n=e.to,e.classes,i=e.anchors,r=s(t),o=s(n),a=[],fe(i,function(e){e=function(t,n){var i=j(se(t).cloneNode(!0)),r=g(l(i));t.addClass(v),n.addClass(v),i.addClass("ng-anchor"),f.append(i);var o,e=function(){var e=h(i,{addClass:$,delay:!0,from:s(t)});return e.$$willAnimate?e:null}();if(!e&&!(o=c()))return u();var a=e||o;return{start:function(){var e,t=a.start();return t.done(function(){if(t=null,!o&&(o=c()))return(t=o.start()).done(function(){t=null,u(),e.complete()}),t;u(),e.complete()}),e=new d({end:n,cancel:n});function n(){t&&t.end()}}};function s(e){var n={},i=se(e).getBoundingClientRect();return fe(["width","height","top","left"],function(e){var t=i[e];switch(e){case"top":t+=p.scrollTop;break;case"left":t+=p.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function l(e){return e.attr("class")||""}function c(){var e=g(l(n)),t=m(e,r),e=m(r,e),t=h(i,{to:s(n),addClass:"ng-anchor-in "+t,removeClass:$+" "+e,delay:!0});return t.$$willAnimate?t:null}function u(){i.remove(),t.removeClass(v),n.removeClass(v)}}(e.out,e.in);e&&a.push(e)}),r||o||0!==a.length?{start:function(){var t=[],n=(r&&t.push(r.start()),o&&t.push(o.start()),fe(a,function(e){t.push(e.start())}),new d({end:e,cancel:e}));return d.all(t,function(e){n.complete(e)}),n;function e(){fe(t,function(e){e.end()})}}}:void 0}return s(e)}):me;function g(e){return e.replace(/\bng-\S+\b/g,"")}function m(e,t){return N(e)&&(e=e.split(" ")),N(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function s(e){var t=e.element,n=e.options||{},e=(e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=U(n.event,n.preparationClasses)),h(t,n));return e.$$willAnimate?e:null}}]}],u=["$animateProvider",function(y){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(m,v,e){var $=f(e);return function(e,t,n,i){var r,o,a,s,l,c=!1,u=(3===arguments.length&&z(n)&&(i=n,n=null),i=oe(i),n||(n=e.attr("class")||"",i.addClass&&(n+=" "+i.addClass),i.removeClass&&(n+=" "+i.removeClass)),i.addClass),h=i.removeClass,n=function(e){e=ge(e)?e:e.split(" ");for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=y.$$registeredAnimations[r];o&&!n[r]&&(t.push(m.get(o)),n[r]=!0)}return t}(n);if(n.length&&(s="leave"===t?(a="leave","afterLeave"):(a="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(r=g(e,t,i,n,a)),o=g(e,t,i,n,s)),r||o)return{$$willAnimate:!0,end:function(){return l?l.end():(p(),(l=new v).complete(!0)),l},start:function(){var t,e;return l||(l=new v,e=[],r&&e.push(function(e){t=r(e)}),e.length?e.push(function(e){d(),e(!0)}):d(),o&&e.push(function(e){t=o(e)}),l.setHost({end:function(){i()},cancel:function(){i(!0)}}),v.chain(e,n)),l;function n(e){p(),l.complete(e)}function i(e){c||((t||me)(e),n(e))}}};function d(){i.domOperation(),$(e,i)}function p(){c=!0,d(),ae(e,i)}function f(a,s,l,e,t){var n=[];return fe(e,function(e){var o=e[t];o&&n.push(function(){function t(e){n||(n=!0,(r||me)(e),i.complete(!e))}var n=!1,i=new v({end:function(){t()},cancel:function(){t(!0)}}),r=function(e,t,n,i,r){var o;switch(n){case"animate":o=[t,i.from,i.to,r];break;case"setClass":o=[t,u,h,r];break;case"addClass":o=[t,u,r];break;case"removeClass":o=[t,h,r];break;default:o=[t,r]}if(o.push(i),n=e.apply(e,o))if((n=b(n.start)?n.start():n)instanceof v)n.done(r);else if(b(n))return n;return me}(o,a,s,l,function(e){t(!1===e)});return i})}),n}function g(e,t,n,i,r){var o,a,s=f(e,t,n,i,r);if(0===s.length&&("beforeSetClass"===r?(o=f(e,"removeClass",n,i,"beforeRemoveClass"),a=f(e,"addClass",n,i,"beforeAddClass")):"setClass"===r&&(o=f(e,"removeClass",n,i,"removeClass"),a=f(e,"addClass",n,i,"addClass")),o&&(s=s.concat(o)),a&&(s=s.concat(a))),0!==s.length)return function(e){var n=[];return s.length&&fe(s,function(e){n.push(e())}),n.length?v.all(n,e):e(),function(t){fe(n,function(e){t?e.cancel():e.end()})}}}}}]}],m=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(r,o){return function(e){var i,r;return e.from&&e.to?(i=t(e.from),r=t(e.to),i||r?{start:function(){var e=[],t=(i&&e.push(i.start()),r&&e.push(r.start()),o.all(e,function(e){t.complete(e)}),new o({end:n(),cancel:n()}));return t;function n(){return function(){fe(e,function(e){e.end()})}}}}:void 0):t(e)};function t(e){var t=e.element,n=e.event,i=e.options,e=e.classes;return r(t,n,e,i)}}]}],W="data-ng-animate",K="$ngAnimatePin",v=["$animateProvider",function(u){var r=" ",i=this.rules={skip:[],cancel:[],join:[]};function q(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function o(e,t){var n,i;if(e&&t)return n=(t=t)?(t=t.split(r),i=Object.create(null),fe(t,function(e){i[e]=!0}),i):null,e.split(r).some(function(e){return n[e]})}function B(e,t,n){return i[e].some(function(e){return e(t,n)})}function F(e,t){var n=0<(e.addClass||"").length,e=0<(e.removeClass||"").length;return t?n&&e:n||e}i.join.push(function(e,t){return!e.structural&&F(e)}),i.skip.push(function(e,t){return!e.structural&&!F(e)}),i.skip.push(function(e,t){return"leave"===t.event&&e.structural}),i.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),i.cancel.push(function(e,t){return t.structural&&e.structural}),i.cancel.push(function(e,t){return 2===t.state&&e.structural}),i.cancel.push(function(e,t){var n,i;return!t.structural&&(n=e.addClass,e=e.removeClass,i=t.addClass,t=t.removeClass,!(I(n)&&I(e)||I(i)&&I(t))&&(o(n,t)||o(e,i)))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(m,v,$,y,e,b,C,t,n,i,w){var k=new e,x=new e,S=null;function r(e){x.delete(e.target)}function o(){return!0}var a=v.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(a(),v.$$postDigest(function(){v.$$postDigest(function(){null===S&&(S=!0)})}))}),E=Object.create(null),e=u.customFilter(),s=u.classNameFilter(),A=e||o,M=s?function(e,t){e=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return s.test(e)}:o,T=f(n);function D(e,t){_(e,t,{})}var P=h.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function l(e,t,n){var i=d(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function O(e,t){"close"!==e||t.parentNode||c.off(t)}var c={on:function(e,t,n){var i=d(t);E[e]=E[e]||[],E[e].push({node:i,callback:n}),j(t).on("$destroy",function(){k.get(i)||c.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||N(e)){var i=E[e];i&&(E[e]=1===arguments.length?null:l(i,t,n))}else for(var r in t=e,E)E[r]=l(E[r],t)},pin:function(e,t){g(p(e),"element","not an element"),g(p(t),"parentElement","not an element"),e.data(K,t)},push:function(e,t,n,i){(n=n||{}).domOperation=i;var r=e,o=t,a=Ae(i=n),c=Y(r),u=se(c),h=u&&u.parentNode,s=(a=oe(a),new C),d=function(){var t=!1;return function(e){t?e():v.$$postDigest(function(){t=!0,e()})}}();if(ge(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!N(a.addClass)&&(a.addClass=null),ge(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!N(a.removeClass)&&(a.removeClass=null),a.from&&!z(a.from)&&(a.from=null),a.to&&!z(a.to)&&(a.to=null),S&&u&&A(u,o,i)&&M(u,a)){var l=0<=["enter","move","leave"].indexOf(o),i=w(),e=i||x.get(u),t=!e&&k.get(u)||{},n=!!t.state;if(e=e||n&&1===t.state?e:!function(e,t){var n,i=y[0].body,r=se($),o=e===i||"HTML"===e.nodeName,a=e===r,s=!1,l=x.get(e),c=j.data(e,K);c&&(t=se(c));for(;t&&(a=a||t===r,t.nodeType===R);){var u=k.get(t)||{};if(!s){var h=x.get(t);if(!0===h&&!1!==l){l=!0;break}!1===h&&(l=!1),s=u.structural}if(!I(n)&&!0!==n||(h=j.data(t,H),X(h)&&(n=h)),s&&!1===n)break;if((o=o||t===i)&&a)break;t=!a&&(c=j.data(t,K))?se(c):t.parentNode}return(!s||n)&&!0!==l&&a&&o}(u,h))i&&f(s,o,"start",q(a)),g(),i&&f(s,o,"close",q(a));else{l&&!function(e){e=e.querySelectorAll("["+W+"]");fe(e,function(e){var t=parseInt(e.getAttribute(W),10),n=k.get(e);if(n)switch(t){case 2:n.runner.end();case 1:k.delete(e)}})}(u);e={structural:l,element:c,event:o,addClass:a.addClass,removeClass:a.removeClass,close:g,options:a,runner:s};if(n){if(B("skip",e,t))return 2===t.state?(g(),s):(_(c,t,e),t.runner);i=B("cancel",e,t);if(i)if(2===t.state)t.runner.end();else{if(!t.structural)return _(c,t,e),t.runner;t.close()}else if(B("join",e,t)){if(2!==t.state)return function(e,t,n){var i="";t&&(i=re(t,ve,!0)),n.addClass&&(i=U(i,re(n.addClass,te))),(i=n.removeClass?U(i,re(n.removeClass,ne)):i).length&&(n.preparationClasses=i,e.addClass(i))}(c,l?o:null,a),o=e.event=t.event,a=_(c,t,e),t.runner;D(c,e)}}else D(c,e);var p,n=e.structural;(n=n||"animate"===e.event&&0<Object.keys(e.options.to||{}).length||F(e))?(p=(t.counter||0)+1,e.counter=p,V(u,1,e),v.$$postDigest(function(){c=Y(r);var e=!(t=k.get(u)),t=t||{},n=0<(c.parent()||[]).length&&("animate"===t.event||t.structural||F(t));e||t.counter!==p||!n?(e&&(T(c,a),ae(c,a)),(e||l&&t.event!==o)&&(a.domOperation(),s.end()),n||L(u)):(o=!t.structural&&F(t,!0)?"setClass":t.event,V(u,2),e=b(c,o,t.options),s.setHost(e),f(s,o,"start",q(a)),e.done(function(e){g(!e);e=k.get(u);e&&e.counter===p&&L(u),f(s,o,"close",q(a))}))})):(g(),L(u))}}else g();return s;function f(e,a,s,l){d(function(){t=h,n=u,r=[],(e=E[i=a])&&fe(e,function(e){(P.call(e.node,n)||"leave"===i&&P.call(e.node,t))&&r.push(e.callback)});var t,n,i,r,e,o=r;o.length?m(function(){fe(o,function(e){e(c,s,l)}),O(s,u)}):O(s,u)}),e.progress(a,s,l)}function g(e){var t,n;t=c,(n=a).preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),T(c,a),ae(c,a),a.domOperation(),s.complete(!e)}},enabled:function(e,t){var n,i=arguments.length;return 0===i?t=!!S:p(e)?(n=se(e),1===i?t=!x.get(n):(x.has(n)||j(e).on("$destroy",r),x.set(n,!t))):t=S=!!e,t}};return c;function L(e){e.removeAttribute(W),k.delete(e)}function V(e,t,n){(n=n||{}).state=t,e.setAttribute(W,t);t=k.get(e),t=t?G(t,n):n;k.set(e,t)}}]}],$=["$animateProvider",function(e){var C="ng-animate-ref",w=this.drivers=[],h="$$animationRunner",k="$$animatePrepareClasses";function x(e){return e.data(h)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(g,l,m,c,p,v,$){var y=[],u=f(g);function b(e){for(var o={children:[]},a=new p,t=0;t<e.length;t++){var n=e[t];a.set(n.domNode,e[t]={domNode:n.domNode,element:n.element,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)!function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode;var i=n.parentNode;a.set(n,t);var r;for(;i;){if(r=a.get(i)){r.processed||(r=e(r));break}i=i.parentNode}(r||o).children.push(t);return t}(e[t]);var i,r=o,s=[],l=[];for(i=0;i<r.children.length;i++)l.push(r.children[i]);var c=l.length,u=0,h=[];for(i=0;i<l.length;i++){var d=l[i];c<=0&&(c=u,u=0,s.push(h),h=[]),h.push(d),d.children.forEach(function(e){u++,l.push(e)}),c--}return h.length&&s.push(h),s}return function(t,n,f){f=oe(f);var e,i,r=0<=["enter","move","leave"].indexOf(n),o=new c({end:function(){s()},cancel:function(){s(!0)}});return w.length?(e=E(t.attr("class"),E(f.addClass,f.removeClass)),(i=f.tempClasses)&&(e+=" "+i,f.tempClasses=null),r&&t.data(k,"ng-"+n+"-prepare"),t.data(h,o),y.push({element:t,classes:e,event:n,structural:r,options:f,beforeStart:function(){i=(i?i+" ":"")+S,g.addClass(t,i);var e=t.data(k);e&&(g.removeClass(t,e),e=null)},close:s}),t.on("$destroy",a),1<y.length||l.$$postDigest(function(){for(var s,l,a,c,u,t=[],e=(fe(y,function(e){x(e.element)?t.push(e):e.close()}),y.length=0,l=[],a={},fe(s=t,function(e,n){var i,r,t=se(e.element),o=e.event,o=0<=["enter","move"].indexOf(o),t=e.structural?(t=(t=t).hasAttribute(C)?[t]:t.querySelectorAll("[ng-animate-ref]"),i=[],fe(t,function(e){var t=e.getAttribute(C);t&&t.length&&i.push(e)}),i):[];t.length?(r=o?"to":"from",fe(t,function(e){var t=e.getAttribute(C);a[t]=a[t]||{},a[t][r]={animationID:n,element:j(e)}})):l.push(e)}),c={},u={},fe(a,function(e,t){var n,i,r,o,a=e.from,e=e.to;a&&e?(n=s[a.animationID],i=s[e.animationID],r=a.animationID.toString(),u[r]||((o=u[r]={structural:!0,beforeStart:function(){n.beforeStart(),i.beforeStart()},close:function(){n.close(),i.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}(n.classes,i.classes),from:n,to:i,anchors:[]}).classes.length?l.push(o):(l.push(n),l.push(i))),u[r].anchors.push({out:a.element,in:e.element})):(r=(o=(a||e).animationID).toString(),c[r]||(c[r]=!0,l.push(s[o])))}),l),n=[],i=(fe(e,function(o){var e=(o.from||o).element,t=((t=f.addClass)?t+" ":"")+S,a=$.cacheKey(e[0],o.event,t,f.removeClass);n.push({element:e,domNode:se(e),fn:function(){var e,t,n,i=o.close;function r(e){e=x(e);e&&e.setHost(n)}!$.containsCachedAnimationWithoutDuration(a)&&(o.beforeStart(),t=x(o.anchors?o.from.element||o.to.element:o.element)&&(e=function(e){for(var t=w.length-1;0<=t;t--){var n=w[t],n=m.get(n)(e);if(n)return n}}(o))?e.start:t)?((e=t()).done(function(e){i(!e)}),n=e,(t=o).from&&t.to?(r(t.from.element),r(t.to.element)):r(t.element)):i()}})}),b(n)),r=0;r<i.length;r++)for(var o=i[r],h=0;h<o.length;h++){var d=o[h],p=d.element;i[r][h]=d.fn,0===r?p.removeData(k):(d=p.data(k))&&g.addClass(p,d)}v(i)})):s(),o;function a(){var e=x(t);!e||"leave"===n&&f.$$domOperationFired||e.end()}function s(e){t.off("$destroy",a),t.removeData(h),u(t,f),ae(t,f),f.domOperation(),i&&g.removeClass(t,i),o.complete(!e)}}}]}];e.module("ngAnimate",[],function(){me=e.noop,Ae=e.copy,G=e.extend,j=e.element,fe=e.forEach,ge=e.isArray,N=e.isString,z=e.isObject,I=e.isUndefined,X=e.isDefined,b=e.isFunction,p=e.isElement}).info({angularVersion:"1.7.5"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,i,r){var o,a;e.$watchCollection(t.ngAnimateSwap||t.for,function(e){o&&s.leave(o),a&&(a.$destroy(),a=null),!e&&0!==e||r(function(e,t){o=e,a=t,s.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var i,r;function e(e){i=i.concat(e),o()}return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=n(function(){r=null,e(),o()})},e;function o(){if(i.length){for(var e=i.shift(),t=0;t<e.length;t++)e[t]();r||n(function(){r||o()})}}}]).provider("$$animateQueue",v).provider("$$animateCache",function(){var o="$$ngAnimateParentKey",a=0,i=Object.create(null);this.$get=[function(){return{cacheKey:function(e,t,n,i){var r=e.parentNode,r=[r[o]||(r[o]=++a),t,e.getAttribute("class")];return n&&r.push(n),i&&r.push(i),r.join(" ")},containsCachedAnimationWithoutDuration:function(e){e=i[e];return e&&!e.isValid||!1},flush:function(){i=Object.create(null)},count:function(e){e=i[e];return e?e.total:0},get:function(e){e=i[e];return e&&e.value},put:function(e,t,n){i[e]?(i[e].total++,i[e].value=t):i[e]={total:1,value:t,isValid:n}}}}]}).provider("$$animation",$).provider("$animateCss",t).provider("$$animateCssDriver",c).provider("$$animateJs",u).provider("$$animateJsDriver",m)}(window,window.angular),function(l){var c=/^\s+/,u=/\s+$/,i=0,o=l.round,h=l.min,d=l.max,e=l.random;function p(e,t){var n;return t=t||{},(e=e||"")instanceof p?e:this instanceof p?(n=function(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(c,"").replace(u,"").toLowerCase();var t,n=!1;if(w[e])e=w[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=V.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=V.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=V.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=V.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=V.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=V.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=V.hex8.exec(e))return{r:E(t[1]),g:E(t[2]),b:E(t[3]),a:D(t[4]),format:n?"name":"hex8"};if(t=V.hex6.exec(e))return{r:E(t[1]),g:E(t[2]),b:E(t[3]),format:n?"name":"hex"};if(t=V.hex4.exec(e))return{r:E(t[1]+""+t[1]),g:E(t[2]+""+t[2]),b:E(t[3]+""+t[3]),a:D(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=V.hex3.exec(e))return{r:E(t[1]+""+t[1]),g:E(t[2]+""+t[2]),b:E(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(q(e.r)&&q(e.g)&&q(e.b)?(t=function(e,t,n){return{r:255*x(e,255),g:255*x(t,255),b:255*x(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):q(e.h)&&q(e.s)&&q(e.v)?(i=M(e.s),r=M(e.v),t=function(e,t,n){e=6*x(e,360),t=x(t,100),n=x(n,100);var i=l.floor(e),e=e-i,r=n*(1-t),o=n*(1-e*t),e=n*(1-(1-e)*t),t=i%6;return{r:255*[n,o,r,r,e,n][t],g:255*[e,n,n,o,r,r][t],b:255*[r,r,e,n,n,o][t]}}(e.h,i,r),a=!0,s="hsv"):q(e.h)&&q(e.s)&&q(e.l)&&(i=M(e.s),o=M(e.l),t=function(e,t,n){var i,r,o;function a(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}e=x(e,360),t=x(t,100),n=x(n,100),0===t?i=r=o=n:(i=a(t=2*n-(n=n<.5?n*(1+t):n+t-n*t),n,e+1/3),r=a(t,n,e),o=a(t,n,e-1/3));return{r:255*i,g:255*r,b:255*o}}(e.h,i,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=k(n),{ok:a,format:e.format||s,r:h(255,d(t.r,0)),g:h(255,d(t.g,0)),b:h(255,d(t.b,0)),a:n}}(e),this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,void(this._tc_id=i++)):new p(e,t)}function r(e,t,n){e=x(e,255),t=x(t,255),n=x(n,255);var i,r=d(e,t,n),o=h(e,t,n),a=(r+o)/2;if(r==o)i=l=0;else{var s=r-o,l=.5<a?s/(2-r-o):s/(r+o);switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:l,l:a}}function a(e,t,n){e=x(e,255),t=x(t,255),n=x(n,255);var i,r=d(e,t,n),o=h(e,t,n),a=r,s=r-o,l=0===r?0:s/r;if(r==o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:l,v:a}}function t(e,t,n,i){e=[A(o(e).toString(16)),A(o(t).toString(16)),A(o(n).toString(16))];return i&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function s(e,t,n,i){return[A(T(i)),A(o(e).toString(16)),A(o(t).toString(16)),A(o(n).toString(16))].join("")}function n(e,t){t=0===t?0:t||10;e=p(e).toHsl();return e.s-=t/100,e.s=S(e.s),p(e)}function f(e,t){t=0===t?0:t||10;e=p(e).toHsl();return e.s+=t/100,e.s=S(e.s),p(e)}function g(e){return p(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;e=p(e).toHsl();return e.l+=t/100,e.l=S(e.l),p(e)}function v(e,t){t=0===t?0:t||10;e=p(e).toRgb();return e.r=d(0,h(255,e.r-o(-t/100*255))),e.g=d(0,h(255,e.g-o(-t/100*255))),e.b=d(0,h(255,e.b-o(-t/100*255))),p(e)}function $(e,t){t=0===t?0:t||10;e=p(e).toHsl();return e.l-=t/100,e.l=S(e.l),p(e)}function y(e,t){e=p(e).toHsl(),t=(e.h+t)%360;return e.h=t<0?360+t:t,p(e)}function b(e){e=p(e).toHsl();return e.h=(e.h+180)%360,p(e)}function C(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function B(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function F(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function R(e,t,n){t=t||6,n=n||30;var i=p(e).toHsl(),r=360/n,o=[p(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(p(i));return o}function H(e,t){t=t||6;for(var e=p(e).toHsv(),n=e.h,i=e.s,r=e.v,o=[],a=1/t;t--;)o.push(p({h:n,s:i,v:r})),r=(r+a)%1;return o}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,e=e.b/255,t=t<=.03928?t/12.92:l.pow((.055+t)/1.055,2.4),n=n<=.03928?n/12.92:l.pow((.055+n)/1.055,2.4),e=e<=.03928?e/12.92:l.pow((.055+e)/1.055,2.4);return.2126*t+.7152*n+.0722*e},setAlpha:function(e){return this._a=k(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),e=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+e+"%)":"hsva("+t+", "+n+"%, "+e+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),e=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+e+"%)":"hsla("+t+", "+n+"%, "+e+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t=this._r,n=this._g,i=this._b,r=this._a;return t=[A(o(t).toString(16)),A(o(n).toString(16)),A(o(i).toString(16)),A(T(r))],e&&t[0].charAt(0)==t[0].charAt(1)&&t[1].charAt(0)==t[1].charAt(1)&&t[2].charAt(0)==t[2].charAt(1)&&t[3].charAt(0)==t[3].charAt(1)?t[0].charAt(0)+t[1].charAt(0)+t[2].charAt(0)+t[3].charAt(0):t.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*x(this._r,255))+"%",g:o(100*x(this._g,255))+"%",b:o(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*x(this._r,255))+"%, "+o(100*x(this._g,255))+"%, "+o(100*x(this._b,255))+"%)":"rgba("+o(100*x(this._r,255))+"%, "+o(100*x(this._g,255))+"%, "+o(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&_[t(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),n=t;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+t+",endColorstr="+(n=e?"#"+s((t=p(e))._r,t._g,t._b,t._a):n)+")"},toString:function(e){var t=!!e,n=(e=e||this._format,!1),i=this._a<1&&0<=this._a;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),(n="hsv"===e?this.toHsvString():n)||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){e=e.apply(null,[this].concat([].slice.call(t)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification($,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(B,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]="a"===n?e[n]:M(e[n]));e=i}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:e(),g:e(),b:e()})},p.mix=function(e,t,n){n=0===n?0:n||50;e=p(e).toRgb(),t=p(t).toRgb(),n/=100;return p({r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b,a:(t.a-e.a)*n+e.a})},p.readability=function(e,t){e=p(e),t=p(t);return(l.max(e.getLuminance(),t.getLuminance())+.05)/(l.min(e.getLuminance(),t.getLuminance())+.05)},p.isReadable=function(e,t,n){var i=p.readability(e,t),r=!1,e=function(e){var t;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),e=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==e&&"large"!==e&&(e="small");return{level:t,size:e}}(n);switch(e.level+e.size){case"AAsmall":case"AAAlarge":r=4.5<=i;break;case"AAlarge":r=3<=i;break;case"AAAsmall":r=7<=i}return r},p.mostReadable=function(e,t,n){for(var i,r=null,o=0,a=(n=n||{}).includeFallbackColors,s=n.level,l=n.size,c=0;c<t.length;c++)o<(i=p.readability(e,t[c]))&&(o=i,r=p(t[c]));return p.isReadable(e,r,{level:s,size:l})||!a?r:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var w=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=p.hexNames=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}(w);function k(e){return e=parseFloat(e),e=isNaN(e)||e<0||1<e?1:e}function x(e,t){"string"==typeof(n=e)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var n="string"==typeof(n=e)&&-1!=n.indexOf("%");return e=h(t,d(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),l.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function S(e){return h(1,d(0,e))}function E(e){return parseInt(e,16)}function A(e){return 1==e.length?"0"+e:""+e}function M(e){return e=e<=1?100*e+"%":e}function T(e){return l.round(255*parseFloat(e)).toString(16)}function D(e){return E(e)/255}O="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",L="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?";var P,O,L,V={CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+O),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+O),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+O),hsva:new RegExp("hsva"+L),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function q(e){return V.CSS_UNIT.exec(e)}"undefined"!=typeof module&&module.exports?module.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):window.tinycolor=p}(Math),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("tinycolor2")):"function"==typeof define&&define.amd?define(["tinycolor2"],t):e.AngularjsColorPicker=t(e.tinycolor)}(this,function(l){"use strict";l="default"in l?l.default:l;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)})(a,[{key:"watchNgModel",value:function(e,t){var n,i,r=this;this.colorMouse||(void 0===e||void 0===t||this.hasOwnProperty("initialNgModel")||(this.initialNgModel=e),this.hasOwnProperty("initialNgModel")&&(e===this.initialNgModel?"function"==typeof this.$scope.control[0].$setPristine&&this.$scope.control[0].$setPristine():"function"==typeof this.$scope.control[0].$setDirty&&this.$scope.control[0].$setDirty()),null!=e?((n=(t=l(e)).isValid()&&(!this.options.restrictToFormat||t.getFormat()===this.options.format))&&(this.options.round?(i=t.toHsl(),this.lightness=100*i.l):(i=t.toHsv(),this.lightness=100*i.v),this.hue=i.h,this.saturation=100*i.s,this.updateModel=!1,this.options.alpha&&(this.opacity=100*i.a),this.$timeout(function(){r.updateModel=!0})),this.$scope.control[0].$setValidity(this.$element.attr("name"),n)):(null!==e&&""!==e||(this.hue=0,this.saturation=void 0,this.lightness=void 0,this.opacity=void 0),this.swatchColor=""))}},{key:"watchSwatchPos",value:function(e){var t=this;void 0!==e&&(this.initConfig(),this.$timeout(function(){t.updateSwatchBackground()}))}},{key:"setupApi",value:function(){var t=this;this.api||(this.api={}),this.api.open=function(e){if(t.is_open)return!0;t.is_open=!0,t.hueMouse=!1,t.opacityMouse=!1,t.colorMouse=!1,t.hueUpdate(),t.saturationUpdate(),t.lightnessUpdate(),t.opacityUpdate(),t.eventApiDispatch("onOpen",[e])},this.api.close=function(e){t.options.inline||!t.is_open&&null===t.$element[0].querySelector(".color-picker-panel").offsetParent||(t.is_open=!1,t.$scope.$applyAsync(),t.eventApiDispatch("onClose",[e]))},this.api.clear=function(e){""!==t.ngModel&&(t.ngModel="",t.eventApiDispatch("onClear",[e]))},this.api.reset=function(e){t.ngModel!==t.initialNgModel&&(t.ngModel=t.initialNgModel,t.eventApiDispatch("onReset",[e]))},this.api.getElement=function(){return t.$element},this.api.getScope=function(){return t.$scope}}},{key:"reInit",value:function(e){void 0!==e&&this.initConfig()}},{key:"reInitAndUpdate",value:function(e){void 0!==e&&(this.initConfig(),this.update())}},{key:"init",value:function(){var e=this,t=(this.chrome=Boolean(window.chrome),window.navigator.userAgent.match(/Android\s([0-9\.]*)/i)),n=(this.android_version=t&&1<t.length?parseFloat(t[1]):NaN,{mouseDown:this.onMouseDown.bind(this),mouseUp:this.onMouseUp.bind(this),mouseMove:this.onMouseMove.bind(this),keyUp:this.onKeyUp.bind(this)});this.updateModel=!0,this.$scope.$watch("AngularColorPickerController.ngModel",this.watchNgModel.bind(this)),this.$scope.$watch("AngularColorPickerController.options.swatchPos",this.watchSwatchPos.bind(this)),this.$scope.$watchGroup(["AngularColorPickerController.options.format","AngularColorPickerController.options.alpha","AngularColorPickerController.options.case","AngularColorPickerController.options.round"],this.reInitAndUpdate.bind(this)),this.$scope.$watchGroup(["AngularColorPickerController.options.disabled","AngularColorPickerController.options.swatchBootstrap","AngularColorPickerController.options.swatchOnly","AngularColorPickerController.options.swatch","AngularColorPickerController.options.pos","AngularColorPickerController.options.inline","AngularColorPickerController.options.placeholder"],this.reInit.bind(this)),this.$scope.$watch("AngularColorPickerController.api",this.setupApi.bind(this)),this.$scope.$watch("AngularColorPickerController.swatchColor",this.updateSwatchBackground.bind(this)),this.$scope.$watch("AngularColorPickerController.hue",this.hueUpdate.bind(this)),this.$scope.$watch("AngularColorPickerController.saturation",this.saturationUpdate.bind(this)),this.$scope.$watch("AngularColorPickerController.lightness",this.lightnessUpdate.bind(this)),this.$scope.$watch("AngularColorPickerController.opacity",this.opacityUpdate.bind(this)),this.$scope.$on("$destroy",function(){e.$document.off("mousedown",n.mouseDown),e.$document.off("mouseup",n.mouseUp),e.$document.off("mousemove",n.mouseMove),e.$document.off("touchstart",n.mouseDown),e.$document.off("touchend",n.mouseUp),e.$document.off("touchmove",n.mouseMove),e.$document.off("keyup",n.keyUp),e.eventApiDispatch("onDestroy")}),this.initConfig(),this.$document.on("mousedown",n.mouseDown),this.$document.on("mouseup",n.mouseUp),this.$document.on("mousemove",n.mouseMove),this.$document.on("touchstart",n.mouseDown),this.$document.on("touchend",n.mouseUp),this.$document.on("touchmove",n.mouseMove),this.$document.on("keyup",n.keyUp),this.find(".color-picker-grid").on("click",this.onColorClick.bind(this)),this.find(".color-picker-grid").on("touchend",this.onColorClick.bind(this)),this.find(".color-picker-hue").on("click",this.onHueClick.bind(this)),this.find(".color-picker-hue").on("touchend",this.onHueClick.bind(this)),this.find(".color-picker-saturation").on("click",this.onSaturationClick.bind(this)),this.find(".color-picker-saturation").on("touchend",this.onSaturationClick.bind(this)),this.find(".color-picker-lightness").on("click",this.onLightnessClick.bind(this)),this.find(".color-picker-lightness").on("touchend",this.onLightnessClick.bind(this)),this.find(".color-picker-opacity").on("click",this.onOpacityClick.bind(this)),this.find(".color-picker-opacity").on("touchend",this.onOpacityClick.bind(this))}},{key:"onMouseDown",value:function(e){this.has_moused_moved=!1,!this.options.disabled&&0<this.find(e.target).length&&(e.target.classList.contains("color-picker-grid-inner")||e.target.classList.contains("color-picker-picker")||e.target.parentNode.classList.contains("color-picker-picker")?(this.colorDown(e),this.$scope.$apply()):e.target.classList.contains("color-picker-hue")||e.target.parentNode.classList.contains("color-picker-hue")?(this.hueDown(e),this.$scope.$apply()):e.target.classList.contains("color-picker-saturation")||e.target.parentNode.classList.contains("color-picker-saturation")?(this.saturationDown(e),this.$scope.$apply()):e.target.classList.contains("color-picker-lightness")||e.target.parentNode.classList.contains("color-picker-lightness")?(this.lightnessDown(e),this.$scope.$apply()):(e.target.classList.contains("color-picker-opacity")||e.target.parentNode.classList.contains("color-picker-opacity"))&&(this.opacityDown(e),this.$scope.$apply()))}},{key:"onMouseUp",value:function(e){this.colorMouse||this.hueMouse||this.opacityMouse||0!==this.find(e.target).length?this.colorMouse&&this.has_moused_moved?(this.colorUp(e),this.$scope.$apply(),this.onChange(e)):this.hueMouse&&this.has_moused_moved?(this.hueUp(e),this.$scope.$apply(),this.onChange(e)):this.saturationMouse&&this.has_moused_moved?(this.saturationUp(e),this.$scope.$apply(),this.onChange(e)):this.lightnessMouse&&this.has_moused_moved?(this.lightnessUp(e),this.$scope.$apply(),this.onChange(e)):this.opacityMouse&&this.has_moused_moved&&(this.opacityUp(e),this.$scope.$apply(),this.onChange(e)):(this.setupApi(),this.options.hide.click&&this.api.close(e),this.$scope.$apply())}},{key:"onMouseMove",value:function(e){this.colorMouse?(this.has_moused_moved=!0,this.colorChange(e),this.$scope.$apply()):this.hueMouse?(this.has_moused_moved=!0,this.hueChange(e),this.$scope.$apply()):this.saturationMouse?(this.has_moused_moved=!0,this.saturationChange(e),this.$scope.$apply()):this.lightnessMouse?(this.has_moused_moved=!0,this.lightnessChange(e),this.$scope.$apply()):this.opacityMouse&&(this.has_moused_moved=!0,this.opacityChange(e),this.$scope.$apply())}},{key:"onKeyUp",value:function(e){this.options.hide.escape&&27===e.keyCode&&this.api.close(e)}},{key:"onColorClick",value:function(e){this.options.disabled||this.has_moused_moved||(this.colorChange(e),this.colorUp(e),this.$scope.$apply(),this.onChange(e))}},{key:"onHueClick",value:function(e){this.options.disabled||this.has_moused_moved||(this.hueChange(e),this.hueUp(e),this.$scope.$apply(),this.onChange(e))}},{key:"onSaturationClick",value:function(e){this.options.disabled||this.has_moused_moved||(this.saturationChange(e),this.saturationUp(e),this.$scope.$apply(),this.onChange(e))}},{key:"onLightnessClick",value:function(e){this.options.disabled||this.has_moused_moved||(this.lightnessChange(e),this.lightnessUp(e),this.$scope.$apply(),this.onChange(e))}},{key:"onOpacityClick",value:function(e){this.options.disabled||this.has_moused_moved||(this.opacityChange(e),this.opacityUp(e),this.$scope.$apply(),this.onChange(e))}},{key:"onChange",value:function(e){this.ngModel!==this.onChangeValue&&(this.onChangeValue=this.ngModel,this.eventApiDispatch("onChange",[e]))}},{key:"onBlur",value:function(e){this.ngModel!==this.onChangeValue&&(this.updateModel=!0,this.update()),this.$scope.control[0].$setTouched(),this.eventApiDispatch("onBlur",[e]),this.options.hide.blur&&0===this.find(e.relatedTarget).length&&this.api.close(e)}},{key:"initConfig",value:function(){this.options||(this.options={}),this.mergeOptions(this.options,this.ColorPickerOptions),this.is_open=this.options.inline,this.options.inline&&(this.options.close.show=!1)}},{key:"mergeOptions",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e&&e.hasOwnProperty(n)?"object"===i(t[n])&&this.mergeOptions(e[n],t[n]):e[n]=t[n])}},{key:"onSwatchClick",value:function(e){this.options.show.swatch&&this.api.open(e)}},{key:"onFocus",value:function(e){this.options.show.focus&&this.api.open(e)}},{key:"update",value:function(){if(void 0===this.hue||void 0===this.saturation||void 0===this.lightness)return!1;var e=this.options.round?l({h:this.hue,s:this.saturation+"%",l:this.lightness+"%"}):l({h:this.hue,s:this.saturation+"%",v:this.lightness+"%"});if(this.options.alpha&&e.setAlpha(this.opacity/100),this.swatchColor=e.toHslString(),this.updateGridBackground(e),this.updateHueBackground(e),this.updateSaturationBackground(e),this.updateLightnessBackground(e),this.updateAlphaBackground(e),this.updateModel)switch(this.options.format){case"rgb":this.ngModel=e.toRgbString();break;case"hex":"lower"===this.options.case?this.ngModel=e.toHexString().toLowerCase():this.ngModel=e.toHexString().toUpperCase();break;case"hex8":"lower"===this.options.case?this.ngModel=e.toHex8String().toLowerCase():this.ngModel=e.toHex8String().toUpperCase();break;case"hsv":this.ngModel=e.toHsvString();break;case"raw":this.ngModel=e.clone();break;default:this.ngModel=e.toHslString()}}},{key:"updateSwatchBackground",value:function(){angular.element(this.$element[0].querySelector(".color-picker-swatch")).css({"background-color":this.swatchColor})}},{key:"huePosUpdate",value:function(){var n=this;this.$timeout(function(){var e=n.$element[0].querySelector(".color-picker-hue"),t=angular.element(n.$element[0].querySelector(".color-picker-hue .color-picker-slider")),e=e.getBoundingClientRect();t.css({top:e.height*n.huePos/100+"px"})})}},{key:"saturationPosUpdate",value:function(){var i=this;this.$timeout(function(){var e,t,n;i.options.round||(e=i.$element[0].querySelector(".color-picker-grid"),t=angular.element(i.$element[0].querySelector(".color-picker-grid .color-picker-picker")),n=e.getBoundingClientRect(),t.css({left:n.width*i.saturationPos/100+"px"})),e=i.$element[0].querySelector(".color-picker-saturation"),t=angular.element(i.$element[0].querySelector(".color-picker-saturation .color-picker-slider")),n=e.getBoundingClientRect(),t.css({top:n.height*(100-i.saturationPos)/100+"px"})})}},{key:"lightnessPosUpdate",value:function(){var i=this;this.$timeout(function(){var e,t,n;i.options.round||(e=i.$element[0].querySelector(".color-picker-grid"),t=angular.element(i.$element[0].querySelector(".color-picker-grid .color-picker-picker")),n=e.getBoundingClientRect(),t.css({top:n.height*i.lightnessPos/100+"px"})),e=i.$element[0].querySelector(".color-picker-lightness"),t=angular.element(i.$element[0].querySelector(".color-picker-lightness .color-picker-slider")),n=e.getBoundingClientRect(),t.css({top:n.height*i.lightnessPos/100+"px"})})}},{key:"opacityPosUpdate",value:function(){var n=this;this.$timeout(function(){var e=n.$element[0].querySelector(".color-picker-opacity"),t=angular.element(n.$element[0].querySelector(".color-picker-opacity .color-picker-slider")),e=e.getBoundingClientRect();t.css({top:e.height*n.opacityPos/100+"px"})})}},{key:"hueDown",value:function(e){e.stopPropagation(),e.preventDefault(),this.hueMouse=!0}},{key:"hueUp",value:function(e){e.stopPropagation(),e.preventDefault(),this.hueMouse=!1}},{key:"hueChange",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.find(".color-picker-hue"),e=this.getEventPos(e);this.hue=Math.round(360*(1-(e.pageY-this.offset(t).top)/t.prop("offsetHeight"))),360<this.hue?this.hue=360:this.hue<0&&(this.hue=0)}},{key:"hueUpdate",value:function(){void 0!==this.hue&&(this.huePos=100*(1-this.hue/360),this.huePos<0?this.huePos=0:100<this.huePos&&(this.huePos=100),this.options.round&&(this.getRoundPos(),this.updateRoundPos()),this.huePosUpdate(),this.update())}},{key:"saturationDown",value:function(e){e.stopPropagation(),e.preventDefault(),this.saturationMouse=!0}},{key:"saturationUp",value:function(e){e.stopPropagation(),e.preventDefault(),this.saturationMouse=!1}},{key:"saturationChange",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.find(".color-picker-saturation"),e=this.getEventPos(e);this.saturation=Math.round(100*(1-(e.pageY-this.offset(t).top)/t.prop("offsetHeight"))),100<this.saturation?this.saturation=100:this.saturation<0&&(this.saturation=0)}},{key:"saturationUpdate",value:function(){void 0!==this.saturation&&(this.options.round&&(this.getRoundPos(),this.updateRoundPos()),this.saturationPos=this.saturation,this.saturationPos<0?this.saturationPos=0:100<this.saturationPos&&(this.saturationPos=100),this.saturationPosUpdate(),this.update())}},{key:"updateGridBackground",value:function(e){var t,n=this.find(".color-picker-grid .color-picker-overlay");this.options.round?((t=e.toHsl()).s=0,t=l(t),n.css({"background-color":t.toRgbString()})):((t=e.toHsv()).s=100,t.v=1,t.a=1,t=l(t),n.css({"background-color":t.toRgbString()})),n.css({opacity:e.getAlpha()}),this.find(".color-picker-grid .color-picker-grid-inner").css({opacity:e.getAlpha()})}},{key:"updateHueBackground",value:function(e){var t=this.find(".color-picker-hue .color-picker-overlay"),e=e.toHsl(),n=(e.h=0,l(e)),i=(e.h=60,l(e)),r=(e.h=120,l(e)),o=(e.h=180,l(e)),a=(e.h=240,l(e)),s=(e.h=300,l(e)),e=(e.h=359,l(e));t.css({background:"linear-gradient(to top, "+n.toRgbString()+" 0%, "+i.toRgbString()+" 17%, "+r.toRgbString()+" 33%, "+o.toRgbString()+" 50%, "+a.toRgbString()+" 67%, "+s.toRgbString()+" 83%, "+e.toRgbString()+" 100%)"})}},{key:"updateSaturationBackground",value:function(e){var t,n,i=this.find(".color-picker-saturation .color-picker-overlay"),e=this.options.round?((n=e.toHsl()).s=100,t=l(n),n.s=0,l(n)):((n=e.toHsv()).s=100,t=l(n),n.s=0,l(n));i.css({background:"linear-gradient(to bottom, "+t.toRgbString()+" 0%, "+e.toRgbString()+" 100%)"})}},{key:"updateLightnessBackground",value:function(e){var t,n,i,r=this.find(".color-picker-lightness .color-picker-overlay");this.options.round?((i=e.toHsl()).l=100,t=l(i),i.l=50,n=l(i),i.l=0,i=l(i),r.css({background:"linear-gradient(to bottom, "+t.toRgbString()+" 0%, "+n.toRgbString()+" 50%, "+i.toRgbString()+" 100%)"})):((t=e.toHsv()).v=100,n=l(t),t.v=0,i=l(t),r.css({background:"linear-gradient(to bottom, "+n.toRgbString()+" 0%, "+i.toRgbString()+" 100%)"}))}},{key:"updateAlphaBackground",value:function(e){var t=this.find(".color-picker-opacity .color-picker-overlay"),n=e.clone().setAlpha(1),e=e.clone().setAlpha(0);t.css({background:"linear-gradient(to bottom, "+n.toRgbString()+" 0%, "+e.toRgbString()+" 100%)"})}},{key:"lightnessDown",value:function(e){e.stopPropagation(),e.preventDefault(),this.lightnessMouse=!0}},{key:"lightnessUp",value:function(e){e.stopPropagation(),e.preventDefault(),this.lightnessMouse=!1}},{key:"lightnessChange",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.find(".color-picker-lightness"),e=this.getEventPos(e);this.lightness=Math.round(100*(1-(e.pageY-this.offset(t).top)/t.prop("offsetHeight"))),100<this.lightness?this.lightness=100:this.lightness<0&&(this.lightness=0)}},{key:"lightnessUpdate",value:function(){void 0!==this.lightness&&(this.lightnessPos=100-this.lightness,this.lightnessPos<0?this.lightnessPos=0:100<this.lightnessPos&&(this.lightnessPos=100),this.lightnessPosUpdate(),this.update())}},{key:"opacityDown",value:function(e){e.stopPropagation(),e.preventDefault(),this.opacityMouse=!0}},{key:"opacityUp",value:function(e){e.stopPropagation(),e.preventDefault(),this.opacityMouse=!1}},{key:"opacityChange",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.find(".color-picker-opacity"),e=this.getEventPos(e);this.opacity=100*(1-(e.pageY-this.offset(t).top)/t.prop("offsetHeight")),100<this.opacity?this.opacity=100:this.opacity<0&&(this.opacity=0)}},{key:"opacityUpdate",value:function(){void 0!==this.opacity&&(this.opacityPos=100*(1-this.opacity/100),this.opacityPos<0?this.opacityPos=0:100<this.opacityPos&&(this.opacityPos=100),this.opacityPosUpdate(),this.update())}},{key:"colorDown",value:function(e){e.stopPropagation(),e.preventDefault(),this.colorMouse=!0}},{key:"colorUp",value:function(e){e.stopPropagation(),e.preventDefault(),this.colorMouse=!1}},{key:"colorChange",value:function(e){e.stopPropagation(),e.preventDefault();var t,n,i,r=this.find(".color-picker-grid-inner"),e=this.getEventPos(e),o=this.offset(r);this.options.round?(t=2*(e.pageX-o.left)/r.prop("offsetWidth")-1,n=1-2*(e.pageY-o.top)/r.prop("offsetHeight"),i=Math.atan2(n,t),(i=Math.round(57.29577951308233*i))<0&&(i+=360),this.hue=i,1<(i=Math.sqrt(t*t+n*n))?i=1:i<0&&(i=0),this.saturation=100*i,void 0===this.lightness&&(this.lightness=50)):(this.saturation=(e.pageX-o.left)/r.prop("offsetWidth")*100,this.lightness=100*(1-(e.pageY-o.top)/r.prop("offsetHeight")),100<this.saturation?this.saturation=100:this.saturation<0&&(this.saturation=0),100<this.lightness?this.lightness=100:this.lightness<0&&(this.lightness=0))}},{key:"getRoundPos",value:function(){var e=.01745329251994*this.hue,t=Math.cos(e)*this.saturation,e=-Math.sin(e)*this.saturation,t=(this.xPos=.5*(100+t),this.yPos=.5*(100+e),Math.pow(50-this.xPos,2)+Math.pow(50-this.yPos,2));Math.pow(50,2)<t&&(e=Math.atan2(this.yPos-50,this.xPos-50),this.xPos=50*Math.cos(e)+50,this.yPos=50*Math.sin(e)+50)}},{key:"updateRoundPos",value:function(){var n=this;this.$timeout(function(){var e=n.$element[0].querySelector(".color-picker-grid"),t=angular.element(n.$element[0].querySelector(".color-picker-grid .color-picker-picker")),e=e.getBoundingClientRect();t.css({left:e.width*n.xPos/100+"px",top:e.height*n.yPos/100+"px"})})}},{key:"getEventPos",value:function(e){if(0===e.type.search("touch")){if(e.originalEvent&&e.originalEvent.changedTouches)return e.originalEvent.changedTouches[0];if(e.changedTouches)return e.changedTouches[0]}return e}},{key:"eventApiDispatch",value:function(e,t){this.eventApi&&"function"==typeof this.eventApi[e]&&((t=t||[]).unshift(this.ngModel),t.unshift(this.api),this.eventApi[e].apply(this,t))}},{key:"find",value:function(e){var t,n=(this.wrapper||this.$element)[0],i=[];if(!e)return i;if("string"==typeof e){if(1!==(t=n.nodeType)&&9!==t)return[];i=n.querySelectorAll(e)}else n.contains(e)&&i.push(e);return angular.element(i)}},{key:"offset",value:function(e){var t,n,e=e[0];if(e)return e.getClientRects().length?(n=e.getBoundingClientRect()).width||n.height?(t=null!==(e=e.ownerDocument)&&e===e.window?e:9===e.nodeType&&e.defaultView,e=e.documentElement,this.chrome&&this.android_version<6&&screen.width<=768?{top:n.top-e.clientTop,left:n.left-e.clientLeft}:{top:n.top+t.pageYOffset-e.clientTop,left:n.left+t.pageXOffset-e.clientLeft}):n:{top:0,left:0}}}]);var e=a;function a(e,t,n,i,r){o(this,a),this.$scope=e,this.$element=t,this.$document=n,this.$timeout=i,this.ColorPickerOptions=r,this.$scope.init=this.init.bind(this),this.hue=0,this.saturation=void 0,this.lightness=void 0,this.opacity=void 0}function t(e){e.put("template/color-picker/directive.html",'<div class="color-picker-wrapper" ng-class="{\'color-picker-disabled\': AngularColorPickerController.options.disabled,\'color-picker-swatch-only\': AngularColorPickerController.options.swatchOnly,\'color-picker-open\': AngularColorPickerController.is_open,\'color-picker-closed\': !AngularColorPickerController.is_open,}"><div class="color-picker-input-wrapper" ng-class="{\'input-group\': AngularColorPickerController.options.swatchBootstrap && AngularColorPickerController.options.swatch}"><span ng-if="AngularColorPickerController.options.swatchPos === \'left\'" class="color-picker-swatch" ng-click="AngularColorPickerController.onSwatchClick($event)" ng-show="AngularColorPickerController.options.swatch" ng-class="{\'color-picker-swatch-left\': AngularColorPickerController.options.swatchPos !== \'right\', \'color-picker-swatch-right\': AngularColorPickerController.options.swatchPos === \'right\', \'input-group-addon\': AngularColorPickerController.options.swatchBootstrap}"></span><input ng-attr-id="{{AngularColorPickerController.options.id}}" ng-attr-name="{{AngularColorPickerController.options.name}}" class="color-picker-input {{AngularColorPickerController.options.inputClass}}" type="text" ng-model="AngularColorPickerController.ngModel" ng-readonly="AngularColorPickerController.options.swatchOnly" ng-disabled="AngularColorPickerController.options.disabled" ng-blur="AngularColorPickerController.onBlur($event)" ng-change="AngularColorPickerController.onChange($event)" size="7" ng-focus="AngularColorPickerController.onFocus($event)" ng-class="{\'color-picker-input-swatch\': AngularColorPickerController.options.swatch && !AngularColorPickerController.options.swatchOnly && AngularColorPickerController.options.swatchPos === \'left\'}" placeholder="{{AngularColorPickerController.options.placeholder}}" ng-required="AngularColorPickerController.options.required"><span ng-if="AngularColorPickerController.options.swatchPos === \'right\'" class="color-picker-swatch" ng-click="AngularColorPickerController.onSwatchClick($event)" ng-show="AngularColorPickerController.options.swatch" ng-class="{\'color-picker-swatch-left\': AngularColorPickerController.options.swatchPos !== \'right\', \'color-picker-swatch-right\': AngularColorPickerController.options.swatchPos === \'right\', \'input-group-addon\': AngularColorPickerController.options.swatchBootstrap}"></span></div><div class="color-picker-panel" ng-class="{\'color-picker-panel-top color-picker-panel-right\': AngularColorPickerController.options.pos === \'top right\',\'color-picker-panel-top color-picker-panel-left\': AngularColorPickerController.options.pos === \'top left\',\'color-picker-panel-bottom color-picker-panel-right\': AngularColorPickerController.options.pos === \'bottom right\',\'color-picker-panel-bottom color-picker-panel-left\': AngularColorPickerController.options.pos === \'bottom left\',\'color-picker-panel-round\': AngularColorPickerController.options.round,\'color-picker-show-hue\': AngularColorPickerController.options.hue,\'color-picker-show-saturation\': AngularColorPickerController.options.saturation,\'color-picker-show-lightness\': AngularColorPickerController.options.lightness,\'color-picker-show-alpha\': AngularColorPickerController.options.alpha && AngularColorPickerController.options.format !== \'hex\',\'color-picker-show-inline\': AngularColorPickerController.options.inline,}"><div class="color-picker-grid-wrapper"><div class="color-picker-row"><div class="color-picker-grid"><div class="color-picker-overlay"></div><div class="color-picker-grid-inner"></div><div class="color-picker-picker"><div></div></div></div><div class="color-picker-hue" ng-show="AngularColorPickerController.options.hue"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div><div class="color-picker-saturation" ng-show="AngularColorPickerController.options.saturation"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div><div class="color-picker-lightness" ng-show="AngularColorPickerController.options.lightness"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div><div class="color-picker-opacity" ng-show="AngularColorPickerController.options.alpha && AngularColorPickerController.options.format !== \'hex\'"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div></div></div><div class="color-picker-actions"><button type="button"class="color-picker-action color-picker-action-clear"tabindex="-1"ng-class="AngularColorPickerController.options.clear.class"ng-show="AngularColorPickerController.options.clear.show"ng-click="AngularColorPickerController.api.clear($event)">{{AngularColorPickerController.options.clear.label}}</button><button type="button"class="color-picker-action color-picker-action-reset"tabindex="-1"ng-class="AngularColorPickerController.options.reset.class"ng-show="AngularColorPickerController.options.reset.show"ng-click="AngularColorPickerController.api.reset($event)">{{AngularColorPickerController.options.reset.label}}</button><button type="button"class="color-picker-action color-picker-action-close"tabindex="-1"ng-class="AngularColorPickerController.options.close.class"ng-show="AngularColorPickerController.options.close.show"ng-click="AngularColorPickerController.api.close($event)">{{AngularColorPickerController.options.close.label}}</button></div></div></div>')}e.$inject=["$scope","$element","$document","$timeout","ColorPickerOptions"],t.$inject=["$templateCache"];function n(){return o(this,n),{id:void 0,name:void 0,required:!1,disabled:!1,placeholder:"",inputClass:"",format:"hsl",restrictToFormat:!1,case:"upper",hue:!0,saturation:!1,lightness:!1,alpha:!0,round:!1,pos:"bottom left",inline:!1,swatch:!0,swatchOnly:!1,swatchPos:"left",swatchBootstrap:!0,show:{swatch:!0,focus:!0},hide:{blur:!0,escape:!0,click:!0},close:{show:!1,label:"Close",class:""},clear:{show:!1,label:"Clear",class:""},reset:{show:!1,label:"Reset",class:""}}}return angular.module("color.picker",[]).service("ColorPickerOptions",n).directive("colorPicker",function(){return{restrict:"E",require:["^ngModel"],scope:{ngModel:"=",options:"=?",api:"=?",eventApi:"=?"},bindToController:!0,templateUrl:"template/color-picker/directive.html",controller:e,controllerAs:"AngularColorPickerController",link:function(e,t,n,i){e.control=i,e.init()}}}).run(t)}),function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{btnCheckboxFalse:!1,btnCheckboxTrue:!0,on:"On",off:"Off",size:"",onClass:"btn-primary",onstyle:"",offClass:"btn-default",offstyle:"",toggleStyle:"",toggleClass:"",style:"",width:"",height:"",disabled:!1}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","$document","toggleConfig","$toggleSuppressError",function(i,r,n,e,o,a,t){var s=this,l=Object.keys(a);angular.forEach(l,function(e,t){if(angular.isDefined(r[e]))switch(typeof a[e]){case"string":s[e]=n(r[e])(i.$parent);break;case"function":break;default:s[e]=i.$parent.$eval(r[e])}else s[e]=a[e]}),s.onstyle&&(s.onClass=s.onstyle),s.offstyle&&(s.offClass=s.offstyle),s.style&&(s.toggleClass=s.style),""===s.on&&(s.on="&nbsp;"),""===s.off&&(s.off="&nbsp;"),this.evaluateSize=function(){var e,t;s.width&&s.height||((e=s.onElement.cloneNode(!0)).style.position="absolute",e.style.display="block",e.style.visibility="hidden",e.style.border="0",e.style.margin="0",o[0].body.appendChild(e),(t=s.offElement.cloneNode(!0)).style.position="absolute",t.style.display="block",t.style.visibility="hidden",t.style.border="0",t.style.margin="0",o[0].body.appendChild(t),s.width||(s.width=Math.max(e.scrollWidth,t.scrollWidth)+2+"px"),s.height||(s.height=Math.max(e.scrollHeight,t.scrollHeight)+2+"px"),o[0].body.removeChild(e),o[0].body.removeChild(t))},this.init=function(){var e=s.element.find("label"),t=s.element.find("span"),n=s.element.find("div"),n=(s.wrapperElement=n[0],s.onElement=e[0],s.offElement=e[1],s.handleElement=t[0],angular.element(s.onElement));n.html(s.on),angular.element(s.offElement).html(s.off),angular.element(s.wrapperElement).addClass(s.size),n.addClass(s.size),angular.element(s.offElement).addClass(s.size),angular.element(s.handleElement).addClass(s.size),angular.element(s.wrapperElement).addClass(s.toggleClass),angular.element(s.onElement).addClass(s.onClass),angular.element(s.offElement).addClass(s.offClass),s.evaluateSize(),angular.element(s.onElement).addClass("toggle-on"),angular.element(s.offElement).addClass("toggle-off"),s.computeStyle(),s.ngModelCtrl.$render=function(){s.toggle()},angular.isDefined(r.ngChange)&&s.ngModelCtrl.$viewChangeListeners.push(function(){i.$eval(r.ngChange)})},this.computeStyle=function(){angular.element(s.onElement).attr("disabled",s.disabled),angular.element(s.offElement).attr("disabled",s.disabled),angular.element(s.handleElement).attr("disabled",s.disabled),i.wrapperStyle=s.toggleStyle?i.$parent.$eval(s.toggleStyle):{},i.wrapperStyle.width=s.width,i.wrapperStyle.height=s.height},this.toggle=function(){s.ngModelCtrl.$viewValue?angular.element(s.wrapperElement).removeClass("off "+s.offClass).addClass(s.onClass):angular.element(s.wrapperElement).addClass("off "+s.offClass).removeClass(s.onClass)},i.onSwitch=function(e){return!s.disabled&&(s.ngModelCtrl.$setViewValue(!s.ngModelCtrl.$viewValue),s.ngModelCtrl.$render(),!0)},angular.forEach(l,function(t,e){r.$observe(t,function(e){s[t]!==e&&(s[t]=e,s.computeStyle())})})}]).directive("toggle",function(){return{restrict:"E",template:'<div ng-cloak class="toggle btn off" ng-style="wrapperStyle"ng-click="onSwitch($event)"><div class="toggle-group"><label class="btn toggle-on-pad"></label><label class="btn toggle-off-pad active"></label><span class="btn btn-default toggle-handle"></span></div></div>',scope:{ngModel:"="},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",compile:function(e,t,n){return{post:function(e,t,n,i){var r=i[0];r.element=t,r.ngModelCtrl=i[1],r.init()},pre:function(){}}}}})}(),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(i){return function(e,t){var n;"__setXHR_"===e?(n=t(this))instanceof Function&&n(this):i.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]),App=(ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(s,e,l){var u=this,h=(u.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice},this.isResumeSupported());function t(n){n.method=n.method||"POST",n.headers=n.headers||{};var i=n._deferred=n._deferred||e.defer(),r=i.promise;function o(e){i.notify&&i.notify(e),r.progressFunc&&l(function(){r.progressFunc(e)})}function t(e){return null!=n._start&&h?{loaded:e.loaded+n._start,total:n._file&&n._file.size||e.total,type:e.type,config:n,lengthComputable:!0,target:e.target}:e}function a(){s(n).then(function(e){var t;h&&n._chunkSize&&!n._finished&&n._file?(t=n._file&&n._file.size||0,o({loaded:Math.min(n._end,t),total:t,config:n,type:"progress"}),u.upload(n,!0)):(n._finished&&delete n._finished,i.resolve(e))},function(e){i.reject(e)},function(e){i.notify(e)})}return n.disableProgress||(n.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,o(t(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,o(t(e)))},!1))}}),h?n._chunkSize&&n._end&&!n._finished?(n._start=n._end,n._end+=n._chunkSize,a()):n.resumeSizeUrl?s.get(n.resumeSizeUrl).then(function(e){n.resumeSizeResponseReader?n._start=n.resumeSizeResponseReader(e.data):n._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),n._chunkSize&&(n._end=n._start+n._chunkSize),a()},function(e){throw e}):n.resumeSize?n.resumeSize().then(function(e){n._start=e,n._chunkSize&&(n._end=n._start+n._chunkSize),a()},function(e){throw e}):(n._chunkSize&&(n._start=0,n._end=n._start+n._chunkSize),a()):a(),r.success=function(t){return r.then(function(e){t(e.data,e.status,e.headers,n)}),r},r.error=function(t){return r.then(null,function(e){t(e.data,e.status,e.headers,n)}),r},r.progress=function(t){return r.progressFunc=t,r.then(null,null,function(e){t(e)}),r},r.abort=r.pause=function(){return n.__XHR&&l(function(){n.__XHR.abort()}),r},r.xhr=function(e){var t;return n.xhrFn=(t=n.xhrFn,function(){t&&t.apply(r,arguments),e.apply(r,arguments)}),r},u.promisesCount++,r.finally&&r.finally instanceof Function&&r.finally(function(){u.promisesCount--}),r}function n(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}this.isUploadInProgress=function(){return 0<u.promisesCount},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));e=new window.Blob([e],{type:"application/json"});return e._ngfBlob=!0,e},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(l,e){function c(e,t,n){if(void 0!==t)if(angular.isDate(t)&&(t=t.toISOString()),angular.isString(t))e.append(n,t);else if(u.isFile(t)){a=e;a=!(o=t)._ngfBlob&&(l._file=l._file||o,null!=l._start&&h)?(l._end&&l._end>=o.size&&(l._finished=!0,l._end=o.size),(s=o.slice(l._start,l._end||o.size)).name=o.name,s.ngfName=o.ngfName,l._chunkSize&&(a.append("_chunkSize",l._chunkSize),a.append("_currentChunkSize",l._end-l._start),a.append("_chunkNumber",Math.floor(l._start/l._chunkSize)),a.append("_totalSize",l._file.size)),s):o,s=n.split(",");s[1]&&(a.ngfName=s[1].replace(/^\s+|\s+$/g,""),n=s[0]),l._fileKey=l._fileKey||n,e.append(n,a,a.ngfName||a.name)}else if(angular.isObject(t)){if(t.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+n;t.$$ngfCircularDetection=!0;try{for(var i in t){var r;t.hasOwnProperty(i)&&"$$ngfCircularDetection"!==i&&(r=null==l.objectKey?"[i]":l.objectKey,t.length&&-1<parseInt(i)&&(r=null==l.arrayKey?r:l.arrayKey),c(e,t[i],n+r.replace(/[ik]/g,i)))}}finally{delete t.$$ngfCircularDetection}}else e.append(n,t);var o,a,s}return(l=e?l:n(l))._isDigested||(l._isDigested=!0,l._chunkSize=u.translateScalars(l.resumeChunkSize),l._chunkSize=l._chunkSize?parseInt(l._chunkSize.toString()):null,l.headers=l.headers||{},l.headers["Content-Type"]=void 0,l.transformRequest=l.transformRequest?angular.isArray(l.transformRequest)?l.transformRequest:[l.transformRequest]:[],l.transformRequest.push(function(e){var t,n,i=new window.FormData;for(t in e=e||l.fields||{},l.file&&(e.file=l.file),e)e.hasOwnProperty(t)&&(n=e[t],l.formDataAppender?l.formDataAppender(i,t,n):c(i,n,t));return i})),t(l)},this.http=function(e){return(e=n(e)).transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:s.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=u.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,t(e)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var i=e.defer();return s({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),e=e.headers("content-type")||"image/WebP",t=new window.Blob([t],{type:e}),e=n.match(/.*\/(.+?)(\?.*)?$/);1<e.length&&(t.name=e[1]),i.resolve(t)},function(e){i.reject(e)}),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(S,E,e,A,t){var M=t;function T(i,r,o,a,s){var l=[M.emptyPromise()];for(var e=0;e<r.length;e++)!function(n,t){var e;0!==n.type.indexOf("image")||i.pattern&&!M.validatePattern(n,i.pattern)||(i.resizeIf=function(e,t){return M.attrGetter("ngfResizeIf",o,a,{$width:e,$height:t,$file:n})},e=M.resize(n,i),l.push(e),e.then(function(e){r.splice(t,1,e)},function(e){n.$error="resize",(n.$errorMessages=n.$errorMessages||{}).resize=!0,n.$errorParam=(e?(e.message||e)+": ":"")+(n&&n.name),s.$ngfValidations.push({name:"resize",valid:!1}),M.applyModelValidation(s,r)}))}(r[e],e);return A.all(l)}return M.getAttrWithDefaults=function(e,t){return null!=e[t]?e[t]:null==(e=M.defaults[t])||angular.isString(e)?e:JSON.stringify(e)},M.attrGetter=function(t,n,e,i){n=this.getAttrWithDefaults(n,t);if(!e)return n;try{return i?S(n)(e,i):S(n)(e)}catch(e){if(t.search(/min|max|pattern/i))return n;throw e}},M.shouldUpdateOn=function(e,t,n){t=M.attrGetter("ngfModelOptions",t,n);return!t||!t.updateOn||-1<t.updateOn.split(" ").indexOf(e)},M.emptyPromise=function(){var e=A.defer(),t=arguments;return E(function(){e.resolve.apply(e,t)}),e.promise},M.rejectPromise=function(){var e=A.defer(),t=arguments;return E(function(){e.reject.apply(e,t)}),e.promise},M.happyPromise=function(e,t){var n=A.defer();return e.then(function(e){n.resolve(e)},function(e){E(function(){throw e}),n.resolve(t)}),n.promise},M.updateModel=function(l,c,u,h,d,p,t){function f(e,t,n,i,r){c.$$ngfPrevValidFiles=e,c.$$ngfPrevInvalidFiles=t;var o=e&&e.length?e[0]:null,a=t&&t.length?t[0]:null,s=(l&&(M.applyModelValidation(l,e),l.$setViewValue(r?o:e)),h&&S(h)(u,{$files:e,$file:o,$newFiles:n,$duplicateFiles:i,$invalidFiles:t,$invalidFile:a,$event:p}),M.attrGetter("ngfModelInvalid",c));s&&E(function(){S(s).assign(u,r?a:t)}),E(function(){})}var g,m,e,v=[],$=[],y=[];function n(){function n(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}if(d){k=[],v=[];for(var e=0;e<d.length;e++)(!function(e){for(var t=0;t<g.length;t++)if(n(e,g[t]))return 1;for(t=0;t<m.length;t++)if(n(e,m[t]))return 1}(d[e])?k:v).push(d[e])}}function a(){function i(){E(function(){f(w?g.concat(y):y,w?m.concat($):$,d,v,x)},C&&C.debounce?C.debounce.change||C.debounce:0)}var t,n,r,o,a,e,s=b?k:y;t=s,n=c,r=u,o=l,((e=M.attrGetter("ngfResize",n,r))&&M.isResizeSupported()&&t.length?e instanceof Function?(a=A.defer(),e(t).then(function(e){T(e,t,n,r,o).then(function(e){a.resolve(e)},function(e){a.reject(e)})},function(e){a.reject(e)})):T(e,t,n,r,o):M.emptyPromise()).then(function(){b?M.validate(k,w?g.length:0,l,c,u).then(function(e){y=e.validsFiles,$=e.invalidsFiles,i()}):i()},function(){for(var e=0;e<s.length;e++){var t,n=s[e];"resize"===n.$error&&(-1<(t=y.indexOf(n))&&(y.splice(t,1),$.push(n)),i())}})}g=c.$$ngfPrevValidFiles||[],m=c.$$ngfPrevInvalidFiles||[],l&&l.$modelValue&&(e=l.$modelValue,g=angular.isArray(e)?e:[e]);var b,C,w=M.attrGetter("ngfKeep",c,u),k=(d||[]).slice(0),x=("distinct"!==w&&!0!==M.attrGetter("ngfKeepDistinct",c,u)||n(),!w&&!M.attrGetter("ngfMultiple",c,u)&&!M.attrGetter("multiple",c));w&&!k.length||(M.attrGetter("ngfBeforeModelChange",c,u,{$files:d,$file:d&&d.length?d[0]:null,$newFiles:k,$duplicateFiles:v,$event:p}),b=M.attrGetter("ngfValidateAfterResize",c,u),C=M.attrGetter("ngfModelOptions",c,u),M.validate(k,w?g.length:0,l,c,u).then(function(e){var n,i,r,o;t?f(k,[],d,v,x):(C&&C.allowInvalid||b?y=k:(y=e.validFiles,$=e.invalidFiles),M.attrGetter("ngfFixOrientation",c,u)&&M.isExifSupported()?(n=y,i=c,r=u,o=[M.emptyPromise()],angular.forEach(n,function(e,t){0===e.type.indexOf("image/jpeg")&&M.attrGetter("ngfFixOrientation",i,r,{$file:e})&&o.push(M.happyPromise(M.applyExifRotation(e),e).then(function(e){n.splice(t,1,e)}))}),A.all(o).then(function(){a()})):a())}))},M}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,r,t,y){var b=[];function o(r,s,l,o,e,t,n,a){var i=function(e,t){return a.attrGetter(e,l,t)};function c(){return"input"===s[0].tagName.toLowerCase()&&l.type&&"file"===l.type.toLowerCase()}function u(){return i("ngfChange")||i("ngfSelect")}function h(e){if(a.shouldUpdateOn("change",l,r)){var t=e.__files_||e.target&&e.target.files,n=[];if(t){for(var i=0;i<t.length;i++)n.push(t[i]);a.updateModel(o,l,r,u(),n.length?n:null,e)}}}a.registerModelChangeValidator(o,l,r);var d=[];function p(){if(c())return s;var e=angular.element('<input type="file">'),t=angular.element("<label>upload</label>"),n=(t.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),e),i=t;function r(e){n.attr("id","ngf-"+e),i.attr("id","ngf-label-"+e)}for(var o=0;o<s[0].attributes.length;o++){var a=s[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(r(a.value),d.push(l.$observe("id",r))):n.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}return b.push({el:s,ref:t}),document.body.appendChild(t.append(e)[0]),e}function f(e){if(s.attr("disabled"))return!1;if(!i("ngfSelectDisabled",r)){var t,n=function(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)m=t[0].clientX,g=t[0].clientY;else if("touchend"===e.type){var n=t[0].clientX,t=t[0].clientY;if(20<Math.abs(n-m)||20<Math.abs(t-g))return e.stopPropagation(),e.preventDefault(),!1}return!0}}(e);if(null!=n)return n;$(e);try{c()||document.body.contains(v[0])||(b.push({el:s,ref:v.parent()}),document.body.appendChild(v.parent()[0]),v.bind("change",h))}catch(e){}return n=navigator.userAgent,((e=n.match(/Android[^\d]*(\d+)\.(\d+)/))&&2<e.length?(t=y.defaults.androidFixMinorVersion||4,parseInt(e[1])<4||parseInt(e[1])===t&&parseInt(e[2])<t):-1===n.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(n))?setTimeout(function(){v[0].click()},0):v[0].click(),!1}}i("ngfMultiple")&&d.push(r.$watch(i("ngfMultiple"),function(){v.attr("multiple",i("ngfMultiple",r))})),i("ngfCapture")&&d.push(r.$watch(i("ngfCapture"),function(){v.attr("capture",i("ngfCapture",r))})),i("ngfAccept")&&d.push(r.$watch(i("ngfAccept"),function(){v.attr("accept",i("ngfAccept",r))})),d.push(l.$observe("accept",function(){v.attr("accept",i("accept"))}));var g=0,m=0;var v=s;function $(e){a.shouldUpdateOn("click",l,r)&&v.val()&&(v.val(null),a.updateModel(o,l,r,u(),null,e,!0))}(v=c()?v:p()).bind("change",h),c()?s.bind("click",$):s.bind("click touchstart touchend",f),-1!==navigator.appVersion.indexOf("MSIE 10")&&v.bind("click",function e(t){if(v&&!v.attr("__ngf_ie10_Fix_")){if(v[0].parentNode)return t.preventDefault(),t.stopPropagation(),v.unbind("click"),t=v.clone(),v.replaceWith(t),(v=t).attr("__ngf_ie10_Fix_","true"),v.bind("change",h),v.bind("click",e),v[0].click(),!1;v=null}else v.removeAttr("__ngf_ie10_Fix_")}),o&&o.$formatters.push(function(e){return null!=e&&0!==e.length||v.val()&&v.val(null),e}),r.$on("$destroy",function(){c()||v.parent().remove(),angular.forEach(d,function(e){e()})}),t(function(){for(var e=0;e<b.length;e++){var t=b[e];document.body.contains(t.el[0])||(b.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(s,v,h)}return{restrict:"AEC",require:"?ngModel",link:function(e,t,n,i){o(e,t,n,i,0,r,0,y)}}}]),!function(){function a(i,e,r,o,a,s,l,c){function u(t){var n=i.attrGetter("ngfNoObjectUrl",a,r);i.dataUrl(t,n).finally(function(){e(function(){var e=(n?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;c?o.css("background-image","url('"+(e||"")+"')"):o.attr("src",e),e?o.removeClass("ng-hide"):o.addClass("ng-hide")})})}e(function(){var e=r.$watch(a[s],function(n){var e,t=l;if("ngfThumbnail"===s&&0===(t=t||{width:o[0].naturalWidth||o[0].clientWidth,height:o[0].naturalHeight||o[0].clientHeight}).width&&window.getComputedStyle&&(e=getComputedStyle(o[0])).width&&-1<e.width.indexOf("px")&&e.height&&-1<e.height.indexOf("px")&&(t={width:parseInt(e.width.slice(0,-2)),height:parseInt(e.height.slice(0,-2))}),angular.isString(n))return o.removeClass("ng-hide"),c?o.css("background-image","url('"+n+"')"):o.attr("src",n);!n||!n.type||0!==n.type.search("img"===(e=o[0]).tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./)||c&&0!==n.type.indexOf("image")?o.addClass("ng-hide"):t&&i.isResizeSupported()?(t.resizeIf=function(e,t){return i.attrGetter("ngfResizeIf",a,r,{$width:e,$height:t,$file:n})},i.resize(n,t).then(function(e){u(e)},function(e){throw e})):u(n)});r.$on("$destroy",function(){e()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,n,s){var l=e;return l.base64DataUrl=function(n){var i,r;return angular.isArray(n)?(i=s.defer(),r=0,angular.forEach(n,function(e){l.dataUrl(e,!0).finally(function(){var t;++r===n.length&&(t=[],angular.forEach(n,function(e){t.push(e.$ngfDataUrl)}),i.resolve(t,n))})}),i.promise):l.dataUrl(n,!0)},l.dataUrl=function(o,t){var e,a;return o?t&&null!=o.$ngfDataUrl||!t&&null!=o.$ngfBlobUrl?l.emptyPromise(t?o.$ngfDataUrl:o.$ngfBlobUrl,o):((e=t?o.$$ngfDataUrlPromise:o.$$ngfBlobUrlPromise)||(a=s.defer(),n(function(){if(window.FileReader&&o&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||o.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||o.size<4e6)){var i,r=window.URL||window.webkitURL;if(r&&r.createObjectURL&&!t){try{i=r.createObjectURL(o)}catch(e){return void n(function(){o.$ngfBlobUrl="",a.reject()})}n(function(){if(o.$ngfBlobUrl=i){a.resolve(i,o),l.blobUrls=l.blobUrls||[],l.blobUrlsTotalSize=l.blobUrlsTotalSize||0,l.blobUrls.push({url:i,size:o.size}),l.blobUrlsTotalSize+=o.size||0;for(var e=l.defaults.blobUrlsMaxMemory||268435456,t=l.defaults.blobUrlsMaxQueueSize||200;(l.blobUrlsTotalSize>e||l.blobUrls.length>t)&&1<l.blobUrls.length;){var n=l.blobUrls.splice(0,1)[0];r.revokeObjectURL(n.url),l.blobUrlsTotalSize-=n.size}}})}else{var e=new FileReader;e.onload=function(e){n(function(){o.$ngfDataUrl=e.target.result,a.resolve(e.target.result,o),n(function(){delete o.$ngfDataUrl},1e3)})},e.onerror=function(){n(function(){o.$ngfDataUrl="",a.reject()})},e.readAsDataURL(o)}}else n(function(){o[t?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),(e=t?o.$$ngfDataUrlPromise=a.promise:o.$$ngfBlobUrlPromise=a.promise).finally(function(){delete o[t?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]})),e):l.emptyPromise(o,o)},l}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(i,r){return{restrict:"AE",link:function(e,t,n){a(i,r,e,t,n,"ngfSrc",i.attrGetter("ngfResize",n,e),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(i,r){return{restrict:"AE",link:function(e,t,n){a(i,r,e,t,n,"ngfBackground",i.attrGetter("ngfResize",n,e),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(r,o){return{restrict:"AE",link:function(e,t,n){var i=r.attrGetter("ngfSize",n,e);a(r,o,e,t,n,"ngfThumbnail",i,r.attrGetter("ngfAsBackground",n,e))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(r,o){return function(e,t,n){var i;return angular.isString(e)?o.trustAsResourceUrl(e):(i=e&&((t?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl),e&&!i?(!e.$ngfDataUrlFilterInProgress&&angular.isObject(e)&&(e.$ngfDataUrlFilterInProgress=!0,r.dataUrl(e,t)),""):(e&&delete e.$ngfDataUrlFilterInProgress,(e&&i?n?o.trustAsResourceUrl(i):i:e)||""))}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,$,s){var y=e;return y.validatePattern=function(e,t){if(!t)return!0;for(var n=function e(t){var n="",i=[];if(2<t.length&&"/"===t[0]&&"/"===t[t.length-1])n=t.substring(1,t.length-1);else{var r=t.split(",");if(1<r.length)for(var o=0;o<r.length;o++){var a=e(r[o]);a.regexp?(n+="("+a.regexp+")",o<r.length-1&&(n+="|")):i=i.concat(a.excludes)}else 0===t.indexOf("!")?i.push("^((?!"+e(t.substring(1)).regexp+").)*$"):n=(n="^"+(t=0===t.indexOf(".")?"*"+t:t).replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,".")}return{regexp:n,excludes:i}}(t),i=!0,r=(n.regexp&&n.regexp.length&&(t=new RegExp(n.regexp,"i"),i=null!=e.type&&t.test(e.type)||null!=e.name&&t.test(e.name)),n.excludes.length);r--;){var o=new RegExp(n.excludes[r],"i");i=i&&(null==e.type||o.test(e.type))&&(null==e.name||o.test(e.name))}return i},y.ratioToFloat=function(e){var e=e.toString(),t=e.search(/[x:]/i);return e=-1<t?parseFloat(e.substring(0,t))/parseFloat(e.substring(t+1)):parseFloat(e)},y.registerModelChangeValidator=function(n,i,r){n&&n.$formatters.push(function(e){var t;return n.$dirty&&((t=e)&&!angular.isArray(e)&&(t=[e]),y.validate(t,0,n,i,r).then(function(){y.applyModelValidation(n,t)})),e})},y.applyModelValidation=function(t,e){var n;n=t,null==e||n.$dirty||(n.$setDirty?n.$setDirty():n.$dirty=!0),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},y.getValidationAttr=function(e,t,n,i,r){var o="ngf"+n[0].toUpperCase()+n.substr(1),o=y.attrGetter(o,e,t,{$file:r});return null==o&&(o=y.attrGetter("ngfValidate",e,t,{$file:r}))&&(o=o[(e=(i||n).split("."))[0]],1<e.length&&(o=o&&o[e[1]])),o},y.validate=function(u,i,h,d,p){(h=h||{}).$ngfValidations=h.$ngfValidations||[],angular.forEach(h.$ngfValidations,function(e){e.valid=!0});var f=function(e,t){return y.attrGetter(e,d,p,t)},g=(y.attrGetter("ngfIgnoreInvalid",d,p)||"").split(" "),m=y.attrGetter("ngfRunAllValidations",d,p);if(null==u||0===u.length)return y.emptyPromise({validFiles:u,invalidFiles:[]});u=void 0===u.length?[u]:u.slice(0);var v=[];function t(e,t,n){if(u){for(var i=u.length,r=null;i--;){var o,a=u[i];!a||null==(o=y.getValidationAttr(d,p,e,t,a))||n(a,o,i)||(-1===g.indexOf(e)?(a.$error=e,(a.$errorMessages=a.$errorMessages||{})[e]=!0,a.$errorParam=o,-1===v.indexOf(a)&&v.push(a),m||u.splice(i,1),r=!1):u.splice(i,1))}null!==r&&h.$ngfValidations.push({name:e,valid:r})}}t("pattern",null,y.validatePattern),t("minSize","size.min",function(e,t){return e.size+.1>=y.translateScalars(t)}),t("maxSize","size.max",function(e,t){return e.size-.1<=y.translateScalars(t)});var n,e,r=0;return t("maxTotalSize",null,function(e,t){if(!((r+=e.size)>y.translateScalars(t)))return 1;u.splice(0,u.length)}),t("validateFn",null,function(e,t){return!0===t||null===t||""===t}),u.length?(n=$.defer(),(e=[]).push(o("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),e.push(o("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),e.push(o("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),e.push(o("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),e.push(o("dimensions",null,/image/,function(e,t){return y.emptyPromise(t)},function(e){return e})),e.push(o("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(e.width/e.height-y.ratioToFloat(n[r]))<.01&&(i=!0);return i})),e.push(o("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-y.ratioToFloat(t)<1e-4})),e.push(o("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return-1e-4<e.width/e.height-y.ratioToFloat(t)})),e.push(o("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=y.translateScalars(t)})),e.push(o("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=y.translateScalars(t)})),e.push(o("duration",null,/audio|video/,function(e,t){return y.emptyPromise(t)},function(e){return e})),e.push(o("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),$.all(e).then(function(){if(m)for(var e=0;e<u.length;e++)u[e].$error&&u.splice(e--,1);m=!1,t("maxFiles",null,function(e,t,n){return i+n<t}),n.resolve({validFiles:u,invalidFiles:v})}),n.promise):y.emptyPromise({validFiles:[],invalidFiles:v});function o(o,e,i,a,s){function r(t,n,i){function r(e){e()?-1===g.indexOf(o)?(n.$error=o,(n.$errorMessages=n.$errorMessages||{})[o]=!0,n.$errorParam=i,-1===v.indexOf(n)&&v.push(n),m||-1<(e=u.indexOf(n))&&u.splice(e,1),t.resolve(!1)):(-1<(e=u.indexOf(n))&&u.splice(e,1),t.resolve(!0)):t.resolve(!0)}null!=i?a(n,i).then(function(e){r(function(){return!s(e,i)})},function(){r(function(){return f("ngfValidateForce",{$file:n})})}):t.resolve(!0)}var l=[y.emptyPromise(!0)],c=(u&&(u=void 0===u.length?[u]:u,angular.forEach(u,function(t){var n=$.defer();l.push(n.promise),!i||null!=t.type&&0===t.type.search(i)?"dimensions"===o&&null!=y.attrGetter("ngfDimensions",d)?y.imageDimensions(t).then(function(e){r(n,t,f("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){n.resolve(!1)}):"duration"===o&&null!=y.attrGetter("ngfDuration",d)?y.mediaDuration(t).then(function(e){r(n,t,f("ngfDuration",{$file:t,$duration:e}))},function(){n.resolve(!1)}):r(n,t,y.getValidationAttr(d,p,o,e,t)):n.resolve(!0)})),$.defer());return $.all(l).then(function(e){for(var t=!0,n=0;n<e.length;n++)if(!e[n]){t=!1;break}h.$ngfValidations.push({name:o,valid:t}),c.resolve(t)}),c.promise}},y.imageDimensions=function(o){var e,a;return o.$ngfWidth&&o.$ngfHeight?(e=$.defer(),s(function(){e.resolve({width:o.$ngfWidth,height:o.$ngfHeight})}),e.promise):(o.$ngfDimensionPromise||(a=$.defer(),s(function(){0!==o.type.indexOf("image")?a.reject("not image"):y.dataUrl(o).then(function(e){var n=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");function t(){var e=n[0].naturalWidth||n[0].clientWidth,t=n[0].naturalHeight||n[0].clientHeight;n.remove(),o.$ngfWidth=e,o.$ngfHeight=t,a.resolve({width:e,height:t})}function i(){n.remove(),a.reject("load error")}n.on("load",t),n.on("error",i);var r=0;!function e(){s(function(){n[0].parentNode&&(n[0].clientWidth?t:10<r++?i:e)()},1e3)}(),angular.element(document.getElementsByTagName("body")[0]).append(n)},function(){a.reject("load error")})}),o.$ngfDimensionPromise=a.promise,o.$ngfDimensionPromise.finally(function(){delete o.$ngfDimensionPromise})),o.$ngfDimensionPromise)},y.mediaDuration=function(r){var e,o;return r.$ngfDuration?(e=$.defer(),s(function(){e.resolve(r.$ngfDuration)}),e.promise):(r.$ngfDurationPromise||(o=$.defer(),s(function(){0!==r.type.indexOf("audio")&&0!==r.type.indexOf("video")?o.reject("not media"):y.dataUrl(r).then(function(e){var t=angular.element(0===r.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");function n(){var e=t[0].duration;r.$ngfDuration=e,t.remove(),o.resolve(e)}function i(){t.remove(),o.reject("load error")}t.on("loadedmetadata",n),t.on("error",i);!function e(){s(function(){t[0].parentNode&&(t[0].duration?n:e)()},1e3)}(),angular.element(document.body).append(t)},function(){o.reject("load error")})}),r.$ngfDurationPromise=o.promise,r.$ngfDurationPromise.finally(function(){delete r.$ngfDurationPromise})),r.$ngfDurationPromise)},y}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){function a(e,r,o,a,s,l,c,u){var h=t.defer(),d=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null!=u&&!1===u(e,t))h.reject("resizeIf");else try{l&&(e/t<(n=f.ratioToFloat(l))?o=(r=e)/n:r=(o=t)*n);var n,i=function(e,t,n,i,r){r=r?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*r,height:t*r,marginX:e*r-n,marginY:t*r-i}}(e,t,r=r||e,o=o||t,c);d.width=Math.min(i.width,r),d.height=Math.min(i.height,o),d.getContext("2d").drawImage(p,Math.min(0,-i.marginX/2),Math.min(0,-i.marginY/2),i.width,i.height),h.resolve(d.toDataURL(s||"image/WebP",a||.934))}catch(e){h.reject(e)}},p.onerror=function(){p.parentNode.removeChild(p),h.reject()},p.src=e,h.promise}var f=e;return f.dataUrltoBlob=function(e,t,n){for(var e=e.split(","),i=e[0].match(/:(.*?);/)[1],r=atob(e[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);e=new window.Blob([a],{type:i});return e.name=t,e.$ngfOrigSize=n,e},f.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},f.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),f.resize=function(i,r){var o;return 0!==i.type.indexOf("image")?f.emptyPromise(i):(o=t.defer(),f.dataUrl(i,!0).then(function(n){a(n,r.width,r.height,r.quality,r.type||i.type,r.ratio,r.centerCrop,r.resizeIf).then(function(e){if("image/jpeg"===i.type&&!1!==r.restoreExif)try{e=f.restoreExif(n,e)}catch(e){setTimeout(function(){throw e},1)}try{var t=f.dataUrltoBlob(e,i.name,i.size);o.resolve(t)}catch(e){o.reject(e)}},function(e){"resizeIf"===e&&o.resolve(i),o.reject(e)})},function(e){o.reject(e)}),o.promise)},f}]),!function(){function E(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(l,w,k,x,e,S){return{restrict:"AEC",require:"?ngModel",link:function(e,t,n,i){var c,u,h,d,g=e,p=t,m=n,r=i,e=l,f=w,v=k,$=x,y=S,o=E(),b=function(e,t,n){return $.attrGetter(e,m,t,n)};function C(){return p.attr("disabled")||b("ngfDropDisabled",g)}function a(e,t,n){if(e){var i;try{i=e&&e.getData&&e.getData("text/html")}catch(e){}!function(e,t,n,i){var c=$.getValidationAttr(m,g,"maxFiles");null==c&&(c=Number.MAX_VALUE);var u=$.getValidationAttr(m,g,"maxTotalSize");null==u&&(u=Number.MAX_VALUE);var h=b("ngfIncludeDir",g),d=[],p=0;var r=[$.emptyPromise()];if(e&&0<e.length&&"file:"!==v.location.protocol)for(var o=0;o<e.length;o++){if(e[o].webkitGetAsEntry&&e[o].webkitGetAsEntry()&&e[o].webkitGetAsEntry().isDirectory){var a=e[o].webkitGetAsEntry();if(a.isDirectory&&!n)continue;null!=a&&r.push(function t(n,i){var r,e,o,a,s,l=y.defer();return null!=n&&(n.isDirectory?(r=[$.emptyPromise()],h&&((e={type:"directory"}).name=e.path=(i||"")+n.name,d.push(e)),o=n.createReader(),a=[],(s=function(){o.readEntries(function(e){try{e.length?(a=a.concat(Array.prototype.slice.call(e||[],0)),s()):(angular.forEach(a.slice(0),function(e){d.length<=c&&p<=u&&r.push(t(e,(i||"")+n.name+"/"))}),y.all(r).then(function(){l.resolve()},function(e){l.reject(e)}))}catch(e){l.reject(e)}},function(e){l.reject(e)})})()):n.file(function(e){try{e.path=(i||"")+e.name,h&&(e=$.rename(e,e.path)),d.push(e),p+=e.size,l.resolve()}catch(e){l.reject(e)}},function(e){l.reject(e)})),l.promise}(a))}else{a=e[o].getAsFile();null!=a&&(d.push(a),p+=a.size)}if(d.length>c||u<p||!i&&0<d.length)break}else if(null!=t)for(var s=0;s<t.length;s++){var l=t.item(s);if((l.type||0<l.size)&&(d.push(l),p+=l.size),d.length>c||u<p||!i&&0<d.length)break}var f=y.defer();return y.all(r).then(function(){if(i||h||!d.length)f.resolve(d);else{for(var e=0;d[e]&&"directory"===d[e].type;)e++;f.resolve([d[e]])}},function(e){f.reject(e)}),f.promise}(e.items,e.files,!1!==b("ngfAllowDir",g),b("multiple")||b("ngfMultiple",g)).then(function(e){e.length?s(e,t):function(e,t){if(!$.shouldUpdateOn(e,m,g)||"string"!=typeof t)return $.rejectPromise([]);var i=[],n=(t.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)}),[]),r=[];{var o;if(i.length)return angular.forEach(i,function(e){n.push($.urlToBlob(e).then(function(e){r.push(e)}))}),o=y.defer(),y.all(n).then(function(){o.resolve(r)},function(e){o.reject(e)}),o.promise}return $.emptyPromise()}(n,i).then(function(e){s(e,t)})})}}function s(e,t){$.updateModel(r,m,g,b("ngfChange")||b("ngfDrop"),e,t)}b("dropAvailable")&&f(function(){g[b("dropAvailable")]?g[b("dropAvailable")].value=o:g[b("dropAvailable")]=o}),o?(null==b("ngfSelect")&&$.registerModelChangeValidator(r,m,g),c=null,u=e(b("ngfStopPropagation")),h=1,p[0].addEventListener("dragover",function(t){if(!C()&&$.shouldUpdateOn("drop",m,g)&&(t.preventDefault(),u(g)&&t.stopPropagation(),-1<navigator.userAgent.indexOf("Chrome")&&(e=t.dataTransfer.effectAllowed,t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"),f.cancel(c),!d)){d="C";var e=g,n=t,i=function(e){d=e,p.addClass(d),b("ngfDrag",g,{$isDragging:!0,$class:d,$event:t})},r=b("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(r))o=r;else if(r&&(r.delay&&(h=r.delay),r.accept||r.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=r.pattern||b("ngfPattern",e,{$event:n}),l=a.length;l--;){if(!$.validatePattern(a[l],s)){o=r.reject;break}o=r.accept}else o=r.accept}i(o)}},!1),p[0].addEventListener("dragenter",function(e){!C()&&$.shouldUpdateOn("drop",m,g)&&(e.preventDefault(),u(g)&&e.stopPropagation())},!1),p[0].addEventListener("dragleave",function(e){!C()&&$.shouldUpdateOn("drop",m,g)&&(e.preventDefault(),u(g)&&e.stopPropagation(),c=f(function(){d&&p.removeClass(d),d=null,b("ngfDrag",g,{$isDragging:!1,$event:e})},h||100))},!1),p[0].addEventListener("drop",function(e){!C()&&$.shouldUpdateOn("drop",m,g)&&(e.preventDefault(),u(g)&&e.stopPropagation(),d&&p.removeClass(d),d=null,a(e.dataTransfer,e,"dropUrl"))},!1),p[0].addEventListener("paste",function(e){-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&b("ngfEnableFirefoxPaste",g)&&e.preventDefault(),!C()&&$.shouldUpdateOn("paste",m,g)&&a(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&b("ngfEnableFirefoxPaste",g)&&(p.attr("contenteditable",!0),p.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))):!0===b("ngfHideOnDropNotAvailable",g)&&p.css("display","none")}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,t){E()&&t.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(r,o,a){return function(e,t,n){var i;E()&&(i=r(a.attrGetter("ngfDropAvailable",n)),o(function(){i(e),i.assign&&i.assign(e,!0)}))}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,n){var l=e;return l.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&l.isResizeSupported()},l.readOrientation=function(e){var u=n.defer(),t=new FileReader,e=e.slice?e.slice(0,65536):e;return t.readAsArrayBuffer(e),t.onerror=function(e){return u.reject(e)},t.onload=function(e){var t={orientation:1},n=new DataView(this.result);if(65496===n.getUint16(0,!1))for(var i=n.byteLength,r=2;r<i;){var o=n.getUint16(r,!1);if(r+=2,65505===o){if(1165519206!==n.getUint32(r+=2,!1))return u.resolve(t);var a=18761===n.getUint16(r+=6,!1),s=(r+=n.getUint32(r+4,a),n.getUint16(r,a));r+=2;for(var l,c=0;c<s;c++)if(274===n.getUint16(r+12*c,a))return 2<=(l=n.getUint16(r+12*c+8,a))&&l<=8&&(n.setUint16(r+12*c+8,1,a),t.fixedArrayBuffer=e.target.result),t.orientation=l,u.resolve(t)}else{if(65280!=(65280&o))break;r+=n.getUint16(r,!1)}}return u.resolve(t)},u.promise},l.applyExifRotation=function(a){var s;return 0!==a.type.indexOf("image/jpeg")?l.emptyPromise(a):(s=n.defer(),l.readOrientation(a).then(function(o){if(o.orientation<2||8<o.orientation)return s.resolve(a);l.dataUrl(a,!0).then(function(e){var i=document.createElement("canvas"),r=document.createElement("img");r.onload=function(){try{i.width=4<o.orientation?r.height:r.width,i.height=4<o.orientation?r.width:r.height;var e=i.getContext("2d"),t=(!function(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:e.transform(0,-1,1,0,0,n)}}(e,o.orientation,r.width,r.height),e.drawImage(r,0,0),i.toDataURL(a.type||"image/WebP",.934)),t=l.restoreExif(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}(o.fixedArrayBuffer),t),n=l.dataUrltoBlob(t,a.name);s.resolve(n)}catch(e){return s.reject(e)}},r.onerror=function(){s.reject()},r.src=e},function(e){s.reject(e)})},function(e){s.reject(e)}),s.promise)},l.restoreExif=function(e,t){var n={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){for(var t,n,i,r,o="",a="",s="",l=0;n=(t=e[l++])>>2,i=(3&t)<<4|(t=e[l++])>>4,r=(15&t)<<2|(a=e[l++])>>6,s=63&a,isNaN(t)?r=s=64:isNaN(a)&&(s=64),o=o+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s),r=s=a="",l<e.length;);return o},restore:function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));e=this.decode64(e),e=this.slice2Segments(e),t=this.exifManipulation(t,e);return"data:image/jpeg;base64,"+this.encode64(t)},exifManipulation:function(e,t){t=this.getExifArray(t),e=this.insertExif(e,t);return new Uint8Array(e)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255===(t=e[n])[0]&225===t[1])return t;return[]},insertExif:function(e,t){var e=e.replace("data:image/jpeg;base64,",""),e=this.decode64(e),n=e.indexOf(255,3),i=e.slice(0,n),e=e.slice(n);return i.concat(t).concat(e)},slice2Segments:function(e){for(var t,n,i=0,r=[];!(255===e[i]&218===e[i+1])&&(255===e[i]&216===e[i+1]?i+=2:(t=i+(256*e[i+2]+e[i+3])+2,n=e.slice(i,t),r.push(n),i=t),!(i>e.length)););return r},decode64:function(e){var t,n,i,r,o,a="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");n=this.KEY_STR.indexOf(e.charAt(s++)),t=(15&(i=this.KEY_STR.indexOf(e.charAt(s++))))<<4|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>2,a=(3&r)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(n<<2|i>>4),64!==r&&l.push(t),64!==o&&l.push(a),t=a="",s<e.length;);return l}};return n.restore(e,t)},l}]),!function(e,t){"use strict";var n;"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?((n=angular||require("angular"))&&n.module||"undefined"==typeof angular||(n=angular),module.exports=t(n)):t(e.angular)}(this,function(c){"use strict";var e=c.module("rzModule",[]).factory("RzSliderOptions",function(){var t={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,showOuterSelectionBars:!1,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,reversedControls:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,labelOverlapSeparator:" - ",customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},n={},e={options:function(e){c.extend(n,e)},getOptions:function(e){return c.extend({},t,n,e)}};return e}).factory("rzThrottle",["$timeout",function(d){return function(n,i,r){function o(){h=c(),u=null,l=n.apply(a,s),a=s=null}var a,s,l,c=Date.now||function(){return(new Date).getTime()},u=null,h=0;r=r||{};return function(){var e=c(),t=i-(e-h);return a=this,s=arguments,t<=0?(d.cancel(u),u=null,h=e,l=n.apply(a,s),a=s=null):u||!1===r.trailing||(u=d(o,t)),l}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(i,r,t,e,n,o){function a(e,t){this.scope=e,this.lowValue=0,this.highValue=0,this.sliderElem=t,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()}return a.prototype={init:function(){function e(){r.calcViewDimensions()}var n,i,r=this;this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",e),c.element(t).on("resize",e),this.initHasRun=!0,n=o(function(){r.onLowHandleChange()},r.options.interval),i=o(function(){r.onHighHandleChange()},r.options.interval),this.scope.$on("rzSliderForceRender",function(){r.resetLabelsValue(),n(),r.range&&i(),r.resetSlider()}),this.scope.$watchCollection("rzSliderOptions()",function(e,t){e!==t&&(r.applyOptions(),r.syncLowValue(),r.range&&r.syncHighValue(),r.resetSlider())}),this.scope.$watch("rzSliderModel",function(e,t){r.internalChange||e!==t&&n()}),this.scope.$watch("rzSliderHigh",function(e,t){r.internalChange||e!==t&&(null!=e&&i(),(r.range&&null==e||!r.range&&null!=e)&&(r.applyOptions(),r.resetSlider()))}),this.scope.$on("$destroy",function(){r.unbindEvents(),c.element(t).off("resize",e),r.currentFocusElement=null})},findStepIndex:function(e){for(var t=0,n=0;n<this.options.stepsArray.length;n++){var i=this.options.stepsArray[n];if(i===e){t=n;break}if(c.isDate(i)){if(i.getTime()===e.getTime()){t=n;break}}else if(c.isObject(i)&&(c.isDate(i.value)&&i.value.getTime()===e.getTime()||i.value===e)){t=n;break}}return t},syncLowValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel)},syncHighValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh)},getStepValue:function(e){e=this.options.stepsArray[e];return!c.isDate(e)&&c.isObject(e)?e.value:e},applyLowValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue)},applyHighValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue)},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var e=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{};this.options=n.getOptions(e),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(c.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return String(e)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return this.options.bindIndexForStepsArray?this.getStepValue(e):e},this.getLegend=function(e){e=this.options.stepsArray[e];return c.isObject(e)?e.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){c.forEach(this.sliderElem.children(),function(e,t){var n=c.element(e);switch(t){case 0:this.leftOutSelBar=n;break;case 1:this.rightOutSelBar=n;break;case 2:this.fullBar=n;break;case 3:this.selBar=n;break;case 4:this.minH=n;break;case 5:this.maxH=n;break;case 6:this.flrLab=n;break;case 7:this.ceilLab=n;break;case 8:this.minLab=n;break;case 9:this.maxLab=n;break;case 10:this.cmbLab=n;break;case 11:this.ticks=n}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var e=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,e||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.alwaysHide(this.leftOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.alwaysHide(this.rightOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.range&&this.options.showOuterSelectionBars&&this.fullBar.addClass("rz-transparent"),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(e,t){(e.rzAlwaysHide=t)?this.hideEl(e):this.showEl(e)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(e,t,n,i){i=void 0===i||i;var r="",o=!1,a=t.hasClass("no-label-injection"),r=i?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),String(this.customTrFn(e,this.options.id,n))):String(e);(void 0===t.rzsv||t.rzsv.length!==r.length||0<t.rzsv.length&&0===t.rzsd)&&(o=!0,t.rzsv=r),a||t.html(r),this.scope[n+"Label"]=r,o&&this.getDimension(t)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var e,t=this.getDimension(this.minH);this.handleHalfDim=t/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-t,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles(),e=this,i(function(){e.updateTicksScale()}))},updateTicksScale:function(){var e,n,i;this.options.showTicks&&(e=this.options.ticksArray||this.getTicksArray(),n=this.options.vertical?"translateY":"translateX",(i=this).options.rightToLeft&&e.reverse(),this.scope.ticks=e.map(function(e){var t=i.valueToPosition(e),t=(i.options.vertical&&(t=i.maxPos-t),n+"("+Math.round(t)+"px)"),t={selected:i.isTickSelected(e),style:{"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,"-ms-transform":t,transform:t}};return t.selected&&i.options.getSelectionBarColor&&(t.style["background-color"]=i.getSelectionBarColor()),!t.selected&&i.options.getTickColor&&(t.style["background-color"]=i.getTickColor(e)),i.options.ticksTooltip&&(t.tooltip=i.options.ticksTooltip(e),t.tooltipPlacement=i.options.vertical?"right":"top"),!0!==i.options.showTicksValues&&e%i.options.showTicksValues!=0||(t.value=i.getDisplayValue(e,"tick-value"),i.options.ticksValuesTooltip&&(t.valueTooltip=i.options.ticksValuesTooltip(e),t.valueTooltipPlacement=i.options.vertical?"right":"top")),i.getLegend&&(e=i.getLegend(e,i.options.id))&&(t.legend=e),t}))},getTicksArray:function(){var e=this.step,t=[];this.intermediateTicks&&(e=this.options.showTicks);for(var n=this.minValue;n<=this.maxValue;n+=e)t.push(n);return t},isTickSelected:function(e){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var t=this.options.showSelectionBarFromValue;if(this.lowValue>t&&t<=e&&e<=this.lowValue)return!0;if(this.lowValue<t&&e<=t&&e>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(e>=this.lowValue)return!0}else if(this.options.showSelectionBar&&e<=this.lowValue)return!0;return!!(this.range&&e>=this.lowValue&&e<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var e=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,e)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var e=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,e)},updateHandles:function(e,t){"lowValue"===e?this.updateLowHandle(t):this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(e,t){var n=this[e].rzsd,t=t-n/2+this.handleHalfDim,n=this.barDimension-n;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===e||!this.options.rightToLeft&&"maxLab"===e?Math.min(t,n):Math.min(Math.max(t,0),n):t},updateLowHandle:function(e){this.setPosition(this.minH,e),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",e)),this.options.getPointerColor&&(e=this.getPointerColor("min"),this.scope.minPointerStyle={backgroundColor:e}),this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(e){this.setPosition(this.maxH,e),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",e)),this.options.getPointerColor&&(e=this.getPointerColor("max"),this.scope.maxPointerStyle={backgroundColor:e}),this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){var e,t,n,i,r,o,a;this.options.hidePointerLabels||(t=e=!1,n=this.isLabelBelowFloorLab(this.minLab),o=this.isLabelAboveCeilLab(this.minLab),i=this.isLabelAboveCeilLab(this.maxLab),r=this.isLabelBelowFloorLab(this.cmbLab),a=this.isLabelAboveCeilLab(this.cmbLab),n?(e=!0,this.hideEl(this.flrLab)):(e=!1,this.showEl(this.flrLab)),o?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab)),this.range&&(o=this.cmbLabelShown?a:i,a=this.cmbLabelShown?r:n,o?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),a?this.hideEl(this.flrLab):e||this.showEl(this.flrLab)))},isLabelBelowFloorLab:function(e){var t=this.options.rightToLeft,n=e.rzsp,e=e.rzsd,i=this.flrLab.rzsp,r=this.flrLab.rzsd;return t?i-2<=n+e:n<=i+r+2},isLabelAboveCeilLab:function(e){var t=this.options.rightToLeft,n=e.rzsp,e=e.rzsd,i=this.ceilLab.rzsp,r=this.ceilLab.rzsd;return t?n<=i+r+2:i-2<=n+e},updateSelectionBar:function(){var e,t=0,n=0,i=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,r=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;t=this.range?(n=Math.abs(this.maxH.rzsp-this.minH.rzsp),r):null!==this.options.showSelectionBarFromValue?(r=this.options.showSelectionBarFromValue,e=this.valueToPosition(r),(this.options.rightToLeft?this.lowValue<=r:this.lowValue>r)?(n=this.minH.rzsp-e,e+this.handleHalfDim):(n=e-this.minH.rzsp,this.minH.rzsp+this.handleHalfDim)):i?(n=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,this.minH.rzsp+this.handleHalfDim):(n=this.minH.rzsp+this.handleHalfDim,0),this.setDimension(this.selBar,n),this.setPosition(this.selBar,t),this.range&&this.options.showOuterSelectionBars&&(this.options.rightToLeft?(this.setDimension(this.rightOutSelBar,t),this.setPosition(this.rightOutSelBar,0),this.setDimension(this.leftOutSelBar,this.getDimension(this.fullBar)-(t+n)),this.setPosition(this.leftOutSelBar,t+n)):(this.setDimension(this.leftOutSelBar,t),this.setPosition(this.leftOutSelBar,0),this.setDimension(this.rightOutSelBar,this.getDimension(this.fullBar)-(t+n)),this.setPosition(this.rightOutSelBar,t+n))),this.options.getSelectionBarColor?(r=this.getSelectionBarColor(),this.scope.barStyle={backgroundColor:r}):this.options.selectionBarGradient&&(r=0<(e=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0)-t^i,i=this.options.vertical?r?"bottom":"top":r?"left":"right",this.scope.barStyle={backgroundImage:"linear-gradient(to "+i+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(e+n+t+(r?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=e-t+(r?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%"))},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(e){return"max"===e?this.options.getPointerColor(this.scope.rzSliderHigh,e):this.options.getPointerColor(this.scope.rzSliderModel,e)},getTickColor:function(e){return this.options.getTickColor(e)},updateCmbLabel:function(){var e,t,n;(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp)?(n=this.getDisplayValue(this.lowValue,"model"),e=this.getDisplayValue(this.highValue,"high"),t="",t=this.options.mergeRangeLabelsIfSame&&n===e?n:this.options.rightToLeft?e+this.options.labelOverlapSeparator+n:n+this.options.labelOverlapSeparator+e,this.translateFn(t,this.cmbLab,"cmb",!1),n=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,this.setPosition(this.cmbLab,n),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)):(this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)),this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(e,t){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.customTrFn(e,this.options.id,t)},roundStep:function(e,t){t=t||this.step,e=parseFloat((e-this.minValue)/t).toPrecision(12),e=Math.round(+e)*t;return+(this.minValue+e).toFixed(this.precision)},hideEl:function(e){return e.css({visibility:"hidden"})},showEl:function(e){return e.rzAlwaysHide?e:e.css({visibility:"visible"})},setPosition:function(e,t){e.rzsp=t;var n={};return n[this.positionProperty]=Math.round(t)+"px",e.css(n),t},getDimension:function(e){var t=e[0].getBoundingClientRect();return this.options.vertical?e.rzsd=(t.bottom-t.top)*this.options.scale:e.rzsd=(t.right-t.left)*this.options.scale,e.rzsd},setDimension:function(e,t){e.rzsd=t;var n={};return n[this.dimensionProperty]=Math.round(t)+"px",e.css(n),t},sanitizeValue:function(e){return Math.min(Math.max(e,this.minValue),this.maxValue)},valueToPosition:function(e){var t=this.linearValueToPosition,t=(this.options.customValueToPosition?t=this.options.customValueToPosition:this.options.logScale&&(t=this.logValueToPosition),t(e=this.sanitizeValue(e),this.minValue,this.maxValue)||0);return(t=this.options.rightToLeft?1-t:t)*this.maxPos},linearValueToPosition:function(e,t,n){return(e-t)/(n-t)},logValueToPosition:function(e,t,n){return((e=Math.log(e))-(t=Math.log(t)))/((n=Math.log(n))-t)},positionToValue:function(e){var e=e/this.maxPos,t=(this.options.rightToLeft&&(e=1-e),this.linearPositionToValue);return this.options.customPositionToValue?t=this.options.customPositionToValue:this.options.logScale&&(t=this.logPositionToValue),t(e,this.minValue,this.maxValue)||0},linearPositionToValue:function(e,t,n){return e*(n-t)+t},logPositionToValue:function(e,t,n){return t=Math.log(t),n=Math.log(n),Math.exp(e*(n-t)+t)},getEventAttr:function(e,t){return(void 0===e.originalEvent?e:e.originalEvent)[t]},getEventXY:function(e,t){var n=this.options.vertical?"clientY":"clientX";if(void 0!==e[n])return e[n];var i=this.getEventAttr(e,"touches");if(void 0!==t)for(var r=0;r<i.length;r++)if(i[r].identifier===t)return i[r][n];return i[0][n]},getEventPosition:function(e,t){var n=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(e,t)+n:this.getEventXY(e,t)-n)*this.options.scale-this.handleHalfDim},getEventNames:function(e){var t={moveEvent:"",endEvent:""};return this.getEventAttr(e,"touches")?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t},getNearestHandle:function(e){var t,n;return!this.range||(e=this.getEventPosition(e),(t=Math.abs(e-this.minH.rzsp))<(n=Math.abs(e-this.maxH.rzsp)))?this.minH:n<t?this.maxH:this.options.rightToLeft?e>this.minH.rzsp?this.minH:this.maxH:e<this.minH.rzsp?this.minH:this.maxH},focusElement:function(e){e[0].focus()},bindEvents:function(){var e,t,n=this.options.draggableRange?(e="rzSliderDrag",t=this.onDragStart,this.onDragMove):(e="lowValue",t=this.onStart,this.onMove);this.options.onlyBindHandles||(this.selBar.on("mousedown",c.bind(this,t,null,e)),this.selBar.on("mousedown",c.bind(this,n,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",c.bind(this,t,null,e)),this.maxH.on("mousedown",c.bind(this,t,null,e))):(this.minH.on("mousedown",c.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",c.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",c.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",c.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",c.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",c.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",c.bind(this,t,null,e)),this.selBar.on("touchstart",c.bind(this,n,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",c.bind(this,t,null,e)),this.maxH.on("touchstart",c.bind(this,t,null,e))):(this.minH.on("touchstart",c.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",c.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",c.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",c.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",c.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",c.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",c.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",c.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(e,t,n){var i=this.getEventNames(n),t=(n.preventDefault(),this.calcViewDimensions(),e?this.tracking=t:(e=this.getNearestHandle(n),this.tracking=e===this.minH?"lowValue":"highValue"),e.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(e),t=c.bind(this,this.dragging.active?this.onDragMove:this.onMove,e),e=c.bind(this,this.onEnd,t),r.on(i.moveEvent,t),r.on(i.endEvent,e),this.endHandlerToBeRemovedOnEnd=e,this.callOnStart(),this.getEventAttr(n,"changedTouches"));t&&!this.touchId&&(this.isDragging=!0,this.touchId=t[0].identifier)},onMove:function(e,t,n){var i,r,o,a,s=this.getEventAttr(t,"changedTouches");if(s)for(var l=0;l<s.length;l++)if(s[l].identifier===this.touchId){i=s[l];break}s&&!i||(t=this.getEventPosition(t,i?i.identifier:void 0),r=this.options.rightToLeft?this.minValue:this.maxValue,o=this.options.rightToLeft?this.maxValue:this.minValue,a=t<=0?o:t>=this.maxPos?r:(a=this.positionToValue(t),n&&c.isNumber(this.options.showTicks)?this.roundStep(a,this.options.showTicks):this.roundStep(a)),this.positionTrackingHandle(a))},onEnd:function(e,t){var n=this.getEventAttr(t,"changedTouches");n&&n[0].identifier!==this.touchId||(this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,n=this.getEventNames(t),r.off(n.moveEvent,e),r.off(n.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd())},onTickClick:function(e,t){this.onMove(e,t,!0)},onPointerFocus:function(e,t){this.tracking=t,e.one("blur",c.bind(this,this.onPointerBlur,e)),e.on("keydown",c.bind(this,this.onKeyboardEvent)),e.on("keyup",c.bind(this,this.onKeyUp)),this.firstKeyDown=!0,e.addClass("rz-active"),this.currentFocusElement={pointer:e,ref:t}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(e){e.off("keydown"),e.off("keyup"),e.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},getKeyActions:function(e){var t=e+this.step,n=e-this.step,i=e+this.valueRange/10,r=e-this.valueRange/10,e=(this.options.reversedControls&&(t=e-this.step,n=e+this.step,i=e-this.valueRange/10,r=e+this.valueRange/10),{UP:t,DOWN:n,LEFT:n,RIGHT:t,PAGEUP:i,PAGEDOWN:r,HOME:this.options.reversedControls?this.maxValue:this.minValue,END:this.options.reversedControls?this.minValue:this.maxValue});return this.options.rightToLeft&&(e.LEFT=t,e.RIGHT=n,this.options.vertical&&(e.UP=n,e.DOWN=t)),e},onKeyboardEvent:function(e){var r,t=this[this.tracking],n=e.keyCode||e.which,o=this.getKeyActions(t)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];null!=o&&""!==this.tracking&&(e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart()),r=this,i(function(){var e,t,n,i=r.roundStep(r.sanitizeValue(o));r.options.draggableRangeOnly?(e=r.highValue-r.lowValue,"lowValue"===r.tracking?(n=(t=i)+e)>r.maxValue&&(t=(n=r.maxValue)-e):(t=(n=i)-e)<r.minValue&&(n=(t=r.minValue)+e),r.positionTrackingBar(t,n)):r.positionTrackingHandle(i)}))},onDragStart:function(e,t,n){var i=this.getEventPosition(n);this.dragging={active:!0,value:this.positionToValue(i),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-i:i-this.minH.rzsp,highLimit:this.options.rightToLeft?i-this.maxH.rzsp:this.maxH.rzsp-i},this.onStart(e,t,n)},getValue:function(e,t,n,i){var r=this.options.rightToLeft,o=null,o="min"===e?n?i?r?this.minValue:this.maxValue-this.dragging.difference:r?this.maxValue-this.dragging.difference:this.minValue:r?this.positionToValue(t+this.dragging.lowLimit):this.positionToValue(t-this.dragging.lowLimit):n?i?r?this.minValue+this.dragging.difference:this.maxValue:r?this.maxValue:this.minValue+this.dragging.difference:r?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference;return this.roundStep(o)},onDragMove:function(e,t){var n,i,r,o,t=this.getEventPosition(t),a=this.options.rightToLeft?(s=this.dragging.lowLimit,r=this.dragging.highLimit,o=this.maxH,this.minH):(s=this.dragging.highLimit,r=this.dragging.lowLimit,o=this.minH,this.maxH),s=t>=this.maxPos-s;if(t<=r){if(0===o.rzsp)return;n=this.getValue("min",t,!0,!1),i=this.getValue("max",t,!0,!1)}else if(s){if(a.rzsp===this.maxPos)return;i=this.getValue("max",t,!0,!0),n=this.getValue("min",t,!0,!0)}else n=this.getValue("min",t,!1),i=this.getValue("max",t,!1);this.positionTrackingBar(n,i)},positionTrackingBar:function(e,t){null!=this.options.minLimit&&e<this.options.minLimit&&(t=(e=this.options.minLimit)+this.dragging.difference),null!=this.options.maxLimit&&t>this.options.maxLimit&&(e=(t=this.options.maxLimit)-this.dragging.difference),this.lowValue=e,this.highValue=t,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(e)),this.updateHandles("highValue",this.valueToPosition(t))},positionTrackingHandle:function(e){var t=!1;e=this.applyMinMaxLimit(e),this.range&&(this.options.pushRange?(e=this.applyPushRange(e),t=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&e>this.highValue?e=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&e<this.lowValue&&(e=this.applyMinMaxRange(this.lowValue))),e=this.applyMinMaxRange(e),"lowValue"===this.tracking&&e>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),t=!0):"highValue"===this.tracking&&e<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),t=!0))),this[this.tracking]!==e&&(this[this.tracking]=e,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(e)),this.updateAriaAttributes(),t=!0),t&&this.applyModel(!0)},applyMinMaxLimit:function(e){return null!=this.options.minLimit&&e<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&e>this.options.maxLimit?this.options.maxLimit:e},applyMinMaxRange:function(e){var t="lowValue"===this.tracking?this.highValue:this.lowValue,t=Math.abs(e-t);return null!=this.options.minRange&&t<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&t>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:e},applyPushRange:function(e){var t="lowValue"===this.tracking?this.highValue-e:e-this.lowValue,n=null!==this.options.minRange?this.options.minRange:this.options.step,i=this.options.maxRange;return t<n?("lowValue"===this.tracking?(this.highValue=Math.min(e+n,this.maxValue),e=this.highValue-n,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(e-n,this.minValue),e=this.lowValue+n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==i&&i<t&&("lowValue"===this.tracking?(this.highValue=e+i,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=e-i,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),e},applyModel:function(e){this.internalChange=!0,this.scope.$apply(),e&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){var e,t;this.options.onStart&&(t="lowValue"===(e=this).tracking?"min":"max",this.scope.$evalAsync(function(){e.options.onStart(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)}))},callOnChange:function(){var e,t;this.options.onChange&&(t="lowValue"===(e=this).tracking?"min":"max",this.scope.$evalAsync(function(){e.options.onChange(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)}))},callOnEnd:function(){var e,t;this.options.onEnd&&(t="lowValue"===(e=this).tracking?"min":"max",this.scope.$evalAsync(function(){e.options.onEnd(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})),this.scope.$emit("slideEnded")}},a}]).directive("rzslider",["RzSlider",function(n){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(e,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(e,t){e.slider=new n(e,t)}}}]);return e.run(["$templateCache",function(e){e.put("rzSliderTpl.html",'<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class="rz-bubble rz-model-value"></span> <span class="rz-bubble rz-model-high"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),e.name}),angular.module("google.places",[]).factory("googlePlacesApi",["$window",function(e){if(e.google)return e.google;throw"Global `google` var missing. Did you forget to include the places API script?"}]).directive("gPlacesAutocomplete",["$parse","$compile","$timeout","$document","googlePlacesApi",function(e,b,C,w,k){return{restrict:"A",require:"^ngModel",scope:{model:"=ngModel",options:"=?",forceSelection:"=?",customPlaces:"=?"},controller:["$scope",function(e){}],link:function(o,e,t,n){var i,r,a={tab:9,enter:13,esc:27,up:38,down:40},s=[a.tab,a.enter,a.esc,a.up,a.down],l=new k.maps.places.AutocompleteService,c=new k.maps.places.PlacesService(e[0]);function u(e){0!==o.predictions.length&&-1!==function(e,t){var n,i;if(null!=e)for(i=e.length,n=0;n<i;n++)if(e[n]===t)return n;return-1}(s,e.which)&&(e.preventDefault(),e.which===a.down?(o.active=(o.active+1)%o.predictions.length,o.$digest()):e.which===a.up?(o.active=(o.active||o.predictions.length)-1,o.$digest()):13===e.which||9===e.which?(o.forceSelection&&(o.active=-1===o.active?0:o.active),o.$apply(function(){o.selected=o.active,-1===o.selected&&m()})):27===e.which&&o.$apply(function(){e.stopPropagation(),m()}))}function h(e){0!==o.predictions.length&&(o.forceSelection&&(o.selected=-1===o.selected?0:o.selected),o.$digest(),o.$apply(function(){-1===o.selected&&m()}))}function d(){var e=o.predictions[o.selected];e&&(e.is_custom?o.$apply(function(){o.model=e.place,o.$emit("g-places-autocomplete:select",e.place),C(function(){n.$viewChangeListeners.forEach(function(e){e()})})}):c.getDetails({placeId:e.place_id},function(e,t){t==k.maps.places.PlacesServiceStatus.OK&&o.$apply(function(){o.model=e,o.$emit("g-places-autocomplete:select",e),C(function(){n.$viewChangeListeners.forEach(function(e){e()})})})}),m())}function p(e){var t;return e&&v(e)&&(o.query=e,t=angular.extend({input:e},o.options),l.getPlacePredictions(t,function(t,n){o.$apply(function(){var e;m(),o.customPlaces&&(e=function(e){var t,n,i,r=[];for(i=0;i<o.customPlaces.length;i++)t=o.customPlaces[i],0<(n=function(e,t){var n,i,r,o=e+"",a=[],s=[];for(i=t.formatted_address.split(","),r=0;r<i.length;r++)n=i[r].trim(),0<o.length&&(o=n.length>=o.length?($(n,o)&&s.push({length:o.length,offset:r}),""):$(o,n)?(s.push({length:n.length,offset:r}),o.replace(n,"").trim()):""),a.push({value:n,offset:t.formatted_address.indexOf(n)});return{matched_substrings:s,terms:a}}(e,t)).matched_substrings.length&&r.push({is_custom:!0,custom_prediction_label:t.custom_prediction_label||"(Custom Non-Google Result)",description:t.formatted_address,place:t,matched_substrings:n.matched_substrings,terms:n.terms});return r}(o.query),o.predictions.push.apply(o.predictions,e)),n==k.maps.places.PlacesServiceStatus.OK&&o.predictions.push.apply(o.predictions,t),5<o.predictions.length&&(o.predictions.length=5)})}),o.forceSelection)?n.$modelValue:e}function f(e){var t="";return v(e)?t=e:"[object Object]"==Object.prototype.toString.call(e)&&(t=e.formatted_address),t}function g(){return e.val(n.$viewValue)}function m(){o.active=-1,o.selected=-1,o.predictions=[]}function v(e){return"[object String]"==Object.prototype.toString.call(e)}function $(e,t){return 0===y(e).lastIndexOf(y(t),0)}function y(e){return null==e?"":e.toLowerCase()}o.query="",o.predictions=[],o.input=e,o.options=o.options||{},i=angular.element("<div g-places-autocomplete-drawer></div>"),r=angular.element(w[0].body),i.attr({input:"input",query:"query",predictions:"predictions",active:"active",selected:"selected"}),i=b(i)(o),r.append(i),e.bind("keydown",u),e.bind("blur",h),e.bind("submit",h),o.$watch("selected",d),n.$parsers.push(p),n.$formatters.push(f),n.$render=g}}}]).directive("gPlacesAutocompleteDrawer",["$window","$document",function(r,o){return{restrict:"A",scope:{input:"=",query:"=",predictions:"=",active:"=",selected:"="},template:['<div class="pac-container" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\', width: position.width+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">','  <div class="pac-item" g-places-autocomplete-prediction index="$index" prediction="prediction" query="query"','       ng-repeat="prediction in predictions track by $index" ng-class="{\'pac-item-selected\': isActive($index) }"','       ng-mouseenter="selectActive($index)" ng-click="selectPrediction($index)" role="option" id="{{prediction.id}}">',"  </div>","</div>"].join(""),link:function(t,e){function n(e){var e=e[0].getBoundingClientRect(),t=o[0].documentElement,n=o[0].body,i=r.pageYOffset||t.scrollTop||n.scrollTop,t=r.pageXOffset||t.scrollLeft||n.scrollLeft;return{width:e.width,height:e.height,top:e.top+e.height+i,left:e.left+t}}e.bind("mousedown",function(e){e.preventDefault()}),r.onresize=function(){t.$apply(function(){t.position=n(t.input)})},t.isOpen=function(){return 0<t.predictions.length},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectPrediction=function(e){t.selected=e},t.$watch("predictions",function(){t.position=n(t.input)},!0)}}}]).directive("gPlacesAutocompletePrediction",[function(){return{restrict:"A",scope:{index:"=",prediction:"=",query:"="},template:['<span class="pac-icon pac-icon-marker"></span>','<span class="pac-item-query" ng-bind-html="prediction | highlightMatched"></span>','<span ng-repeat="term in prediction.terms | unmatchedTermsOnly:prediction">{{term.value | trailingComma:!$last}}&nbsp;</span>','<span class="custom-prediction-label" ng-if="prediction.is_custom">&nbsp;{{prediction.custom_prediction_label}}</span>'].join("")}}]).filter("highlightMatched",["$sce",function(r){return function(e){var t,n="",i="";return 0<e.matched_substrings.length&&0<e.terms.length&&(t=e.matched_substrings[0],n=e.terms[0].value.substr(t.offset,t.length),i=e.terms[0].value.substr(t.offset+t.length)),r.trustAsHtml('<span class="pac-matched">'+n+"</span>"+i)}}]).filter("unmatchedTermsOnly",[function(){return function(e,t){for(var n,i=[],r=0;r<e.length;r++)n=e[r],0<t.matched_substrings.length&&n.offset>t.matched_substrings[0].length&&i.push(n);return i}}]).filter("trailingComma",[function(){return function(e,t){return t?e+",":e}}]),!function(){var e=angular.module("ngQuickDate",[]);e.provider("ngQuickDateDefaults",function(){return{options:{dateFormat:"M/d/yyyy",timeFormat:"h:mm a",labelFormat:null,placeholder:"Click to Set Date",hoverText:null,buttonIconHtml:null,closeButtonHtml:"&times;",nextLinkHtml:"Next &rarr;",prevLinkHtml:"&larr; Prev",disableTimepicker:!1,disableClearButton:!1,defaultTime:null,dayAbbreviations:["Su","M","Tu","W","Th","F","Sa"],dateFilter:null,parseDateFunction:function(e){e=Date.parse(e);return isNaN(e)?null:new Date(e)}},$get:function(){return this.options},set:function(e,t){var n,i,r;if("object"!=typeof e)return this.options[e]=t;for(n in r=[],e)i=e[n],r.push(this.options[n]=i);return r}}}),e.directive("quickDatepicker",["ngQuickDateDefaults","$filter","$sce",function(v,$,y){return{restrict:"E",require:"?ngModel",scope:{dateFilter:"=?",onChange:"&",required:"@"},replace:!0,link:function(h,n,t,d){var p,r,e,f,o,i,a,s,l,c,u=function(){var e;return g(),h.toggleCalendar(!1),h.weeks=[],h.inputDate=null,h.inputTime=null,h.invalid=!0,"string"==typeof t.initValue&&d.$setViewValue(t.initValue),h.defaultTime||(e=new Date(2013,0,1,12,0),h.datePlaceholder=$("date")(e,h.dateFormat),h.timePlaceholder=$("date")(e,h.timeFormat)),a(),i()},g=function(){for(var e in v)v[e],e.match(/[Hh]tml/)?h[e]=y.trustAsHtml(v[e]||""):!h[e]&&t[e]?h[e]=t[e]:h[e]||(h[e]=v[e]);if(h.labelFormat||(h.labelFormat=h.dateFormat,h.disableTimepicker||(h.labelFormat+=" "+h.timeFormat)),t.iconClass&&t.iconClass.length)return h.buttonIconHtml=y.trustAsHtml("<i ng-show='iconClass' class='"+t.iconClass+"'></i>")},m=!1;return window.document.addEventListener("click",function(e){return h.calendarShown&&!m&&(h.toggleCalendar(!1),h.$apply()),m=!1}),angular.element(n[0])[0].addEventListener("click",function(e){return m=!0}),i=function(){var e=d.$modelValue?o(d.$modelValue):null;return l(),s(e),h.mainButtonStr=e?$("date")(e,h.labelFormat):h.placeholder,h.invalid=d.$invalid},s=function(e){return null!=e?(h.inputDate=$("date")(e,h.dateFormat),h.inputTime=$("date")(e,h.timeFormat)):(h.inputDate=null,h.inputTime=null)},a=function(e){return(e="Invalid Date"===(e=null!=(e=null==e?null:e)?new Date(e):new Date).toString()?new Date:e).setDate(1),h.calendarDate=new Date(e)},l=function(){var e,t,n,i,r,o,a,s=h.calendarDate.getDay(),l=f(h.calendarDate.getFullYear(),h.calendarDate.getMonth()),l=Math.ceil((s+l)/7),c=[],u=new Date(h.calendarDate);for(u.setDate(u.getDate()+-1*s),t=r=0,a=l-1;0<=a?r<=a:a<=r;t=0<=a?++r:--r)for(c.push([]),o=0;o<=6;++o)e=new Date(u),h.defaultTime&&(n=h.defaultTime.split(":"),e.setHours(n[0]||0),e.setMinutes(n[1]||0),e.setSeconds(n[2]||0)),n=d.$modelValue&&e&&p(e,d.$modelValue),i=p(e,new Date),c[t].push({date:e,selected:n,disabled:"function"==typeof h.dateFilter&&!h.dateFilter(e),other:e.getMonth()!==h.calendarDate.getMonth(),today:i}),u.setDate(u.getDate()+1);return h.weeks=c},d.$parsers.push(function(e){return h.required&&null==e?(d.$setValidity("required",!1),null):angular.isDate(e)?(d.$setValidity("required",!0),e):angular.isString(e)?(d.$setValidity("required",!0),h.parseDateFunction(e)):null}),d.$formatters.push(function(e){return angular.isDate(e)?e:angular.isString(e)?h.parseDateFunction(e):void 0}),c=function(e){return"string"==typeof e?o(e):e},o=v.parseDateFunction,p=function(e,t,n){return(n=null==n?!1:n)?e-t==0:(e=c(e),t=c(t),e&&t&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},r=function(e,t){return!(!e||!t)&&parseInt(e.getTime()/6e4)===parseInt(t.getTime()/6e4)},f=function(e,t){return[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31][t]},e=function(e,t){var n,i,r,o,a=n=i=o=r=null,s=function(){var e=+new Date-o;return a=e<t&&0<e?setTimeout(s,t-e):null};return function(){return i=this,n=arguments,o=+new Date,a||(a=setTimeout(s,t),r=e.apply(i,n),i=n=null),r}},d.$render=function(){return a(d.$viewValue),i()},d.$viewChangeListeners.unshift(function(){if(a(d.$viewValue),i(),h.onChange)return h.onChange()}),h.$watch("calendarShown",function(e,t){if(e)return angular.element(n[0].querySelector(".quickdate-date-input"))[0].select()}),h.toggleCalendar=e(function(e){return isFinite(e)?h.calendarShown=e:h.calendarShown=!h.calendarShown},150),h.selectDate=function(e,t){return null==t&&(t=!0),!d.$viewValue&&e||d.$viewValue&&!e||e&&d.$viewValue&&(e.getTime(),d.$viewValue.getTime()),!("function"==typeof h.dateFilter&&!h.dateFilter(e))&&(d.$setViewValue(e),t&&h.toggleCalendar(!1),!0)},h.selectDateFromInput=function(e){var t,n,i;null==e&&(e=!1);try{if(t=o(h.inputDate)){if(!h.disableTimepicker&&h.inputTime&&h.inputTime.length&&t){if(i=h.disableTimepicker?"00:00:00":h.inputTime,!(n=o(h.inputDate+" "+i)))throw"Invalid Time";t=n}if(r(d.$viewValue,t)||h.selectDate(t,!1))return e&&h.toggleCalendar(!1),h.inputDateErr=!1,h.inputTimeErr=!1}throw"Invalid Date"}catch(e){return"Invalid Date"===(i=e)?h.inputDateErr=!0:"Invalid Time"===i?h.inputTimeErr=!0:void 0}},h.onDateInputTab=function(){return h.disableTimepicker&&h.toggleCalendar(!1),!0},h.onTimeInputTab=function(){return h.toggleCalendar(!1),!0},h.nextMonth=function(){return a(new Date(new Date(h.calendarDate).setMonth(h.calendarDate.getMonth()+1))),i()},h.prevMonth=function(){return a(new Date(new Date(h.calendarDate).setMonth(h.calendarDate.getMonth()-1))),i()},h.clear=function(){return h.selectDate(null,!0)},u()},template:"<div class='quickdate'>\n  <a href='' ng-focus='toggleCalendar()' class='quickdate-button' title='{{hoverText}}'><div ng-hide='iconClass' ng-bind-html='buttonIconHtml'></div>{{mainButtonStr}}</a>\n  <div class='quickdate-popup' ng-class='{open: calendarShown}'>\n    <a href='' tabindex='-1' class='quickdate-close' ng-click='toggleCalendar()'><div ng-bind-html='closeButtonHtml'></div></a>\n    <div class='quickdate-text-inputs'>\n      <div class='quickdate-input-wrapper'>\n        <label>Date</label>\n        <input class='quickdate-date-input' ng-class=\"{'ng-invalid': inputDateErr}\" name='inputDate' type='text' ng-model='inputDate' placeholder='{{ datePlaceholder }}' ng-enter=\"selectDateFromInput(true)\" ng-blur=\"selectDateFromInput(false)\" on-tab='onDateInputTab()' />\n      </div>\n      <div class='quickdate-input-wrapper' ng-hide='disableTimepicker'>\n        <label>Time</label>\n        <input class='quickdate-time-input' ng-class=\"{'ng-invalid': inputTimeErr}\" name='inputTime' type='text' ng-model='inputTime' placeholder='{{ timePlaceholder }}' ng-enter=\"selectDateFromInput(true)\" ng-blur=\"selectDateFromInput(false)\" on-tab='onTimeInputTab()'>\n      </div>\n    </div>\n    <div class='quickdate-calendar-header'>\n      <a href='' class='quickdate-prev-month quickdate-action-link' tabindex='-1' ng-click='prevMonth()'><div ng-bind-html='prevLinkHtml'></div></a>\n      <span class='quickdate-month'>{{calendarDate | date:'MMMM yyyy'}}</span>\n      <a href='' class='quickdate-next-month quickdate-action-link' ng-click='nextMonth()' tabindex='-1' ><div ng-bind-html='nextLinkHtml'></div></a>\n    </div>\n    <table class='quickdate-calendar'>\n      <thead>\n        <tr>\n          <th ng-repeat='day in dayAbbreviations'>{{day}}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat='week in weeks'>\n          <td ng-mousedown='selectDate(day.date, true, true)' ng-click='$event.preventDefault()' ng-class='{\"other-month\": day.other, \"disabled-date\": day.disabled, \"selected\": day.selected, \"is-today\": day.today}' ng-repeat='day in week'>{{day.date | date:'d'}}</td>\n        </tr>\n      </tbody>\n    </table>\n    <div class='quickdate-popup-footer'>\n      <a href='' class='quickdate-clear' tabindex='-1' ng-hide='disableClearButton' ng-click='clear()'>Clear</a>\n    </div>\n  </div>\n</div>"}}]),e.directive("ngEnter",function(){return function(t,e,n){return e.bind("keydown keypress",function(e){if(13===e.which)return t.$apply(n.ngEnter),e.preventDefault()})}}),e.directive("onTab",function(){return{restrict:"A",link:function(t,e,n){return e.bind("keydown keypress",function(e){if(9===e.which&&!e.shiftKey)return t.$apply(n.onTab)})}}})}.call(this),!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function t(e,n,i){function r(e){return String(e)}var o=window,a="application/octet-stream",s=i||a,l=e,e=!n&&!i&&l,c=document.createElement("a"),u=o.Blob||o.MozBlob||o.WebKitBlob||r,h=n||"download",u=u.call?u.bind(o):Blob;if("true"===String(this)&&(s=(l=[l,s])[0],l=l[1]),e&&e.length<2048){var d,h=e.split("/").pop().split("?")[0];if(c.href=e,-1!==c.href.indexOf(e))return(d=new XMLHttpRequest).open("GET",e,!0),d.responseType="blob",d.onload=function(e){t(e.target.response,h,a)},setTimeout(function(){d.send()},0),d}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(2096103.424<l.length&&u!==r))return navigator.msSaveBlob?navigator.msSaveBlob(m(l),h):v(l);s=(l=m(l)).type||a}else if(/([\x80-\xff])/.test(l)){for(var p=0,f=new Uint8Array(l.length),g=f.length;p<g;++p)f[p]=l.charCodeAt(p);l=new u([f],{type:s})}function m(e){for(var e=e.split(/[:;,]/),t=e[1],n=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),i=n.length,r=0,o=new Uint8Array(i);r<i;++r)o[r]=n.charCodeAt(r);return new u([o],{type:t})}function v(e,t){var n;return"download"in c?(c.href=e,c.setAttribute("download",h),c.className="download-js-link",c.innerHTML="downloading...",c.style.display="none",document.body.appendChild(c),setTimeout(function(){c.click(),document.body.removeChild(c),!0===t&&setTimeout(function(){o.URL.revokeObjectURL(c.href)},250)},66),!0):/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)?(/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0):(n=document.createElement("iframe"),document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),n.src=e,void setTimeout(function(){document.body.removeChild(n)},333))}if(i=l instanceof u?l:new u([l],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(i,h);if(o.URL)v(o.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===r)try{return v("data:"+s+";base64,"+o.btoa(i))}catch(e){return v("data:"+s+","+encodeURIComponent(i))}(n=new FileReader).onload=function(e){v(this.result)},n.readAsDataURL(i)}return!0}}),angular.module("angularLazyImg",[]),angular.module("angularLazyImg").factory("LazyImgMagic",["$window","lazyImgConfig","lazyImgHelpers",function(e,t,i){"use strict";var r,n,o,a,s,l,c,u;function h(){for(var e=0,t=o.length;e<t;e++){var n=o[e];n&&i.isElementInView(n.$elem[0],s.offset,r)&&(!function(n){var e=new Image;e.onerror=function(){s.errorClass&&n.$elem.addClass(s.errorClass),s.onError(n)},e.onload=function(){var e,t;e=n.$elem,t=n.src,"img"===e[0].nodeName.toLowerCase()?e[0].src=t:e.css("background-image",'url("'+t+'")'),s.successClass&&n.$elem.addClass(s.successClass),s.onSuccess(n)},e.src=n.src}(n),g(n),e--)}0===o.length&&f()}function d(t){u.forEach(function(e){e[t]("scroll",l),e[t]("touchmove",l)}),n[t]("resize",l),n[t]("resize",c)}function p(){a=!0,setTimeout(function(){h(),d("on")},1)}function f(){a=!1,d("off")}function g(e){e=o.indexOf(e);-1!==e&&o.splice(e,1)}function m(e){this.$elem=e}return a=!(o=[]),s=t.getOptions(),n=angular.element(e),r=i.getWinDimensions(),c=i.throttle(function(){r=i.getWinDimensions()},60),u=[s.container||n],l=i.throttle(h,30),m.prototype.setSource=function(e){this.src=e,o.push(this),a||p()},m.prototype.removeImage=function(){g(this),0===o.length&&f()},m.prototype.checkImages=function(){h()},m.addContainer=function(e){f(),u.push(e),p()},m.removeContainer=function(e){f(),u.splice(u.indexOf(e),1),p()},m}]),angular.module("angularLazyImg").provider("lazyImgConfig",function(){"use strict";this.options={offset:100,errorClass:null,successClass:null,onError:function(){},onSuccess:function(){}},this.$get=function(){var e=this.options;return{getOptions:function(){return e}}},this.setOptions=function(e){angular.extend(this.options,e)}}),angular.module("angularLazyImg").factory("lazyImgHelpers",["$window",function(e){"use strict";return{isElementInView:function(e,t,n){var e=e.getBoundingClientRect(),i=n.height+t;return 0<=e.left&&e.right<=n.width+t&&(0<=e.top&&e.top<=i||e.bottom<=i&&e.bottom>=0-t)},getWinDimensions:function(){return{height:e.innerHeight,width:e.innerWidth}},throttle:function(i,r,o){var a,s;return function(){var e=o||this,t=+new Date,n=arguments;a&&t<a+r?(clearTimeout(s),s=setTimeout(function(){a=t,i.apply(e,n)},r)):(a=t,i.apply(e,n))}}}}]),angular.module("angularLazyImg").directive("lazyImg",["$rootScope","LazyImgMagic",function(r,o){"use strict";return{link:function(e,t,n){var i=new o(t);n.$observe("lazyImg",function(e){e&&i.setSource(e)}),e.$on("$destroy",function(){i.removeImage()}),r.$on("lazyImg.runCheck",function(){i.checkImages()})},restrict:"A"}}]).directive("lazyImgContainer",["LazyImgMagic",function(n){"use strict";return{link:function(e,t){n.addContainer(t),e.$on("$destroy",function(){n.removeContainer(t)})},restrict:"A"}}]),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Cropper=t()}(this,function(){"use strict";var i={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=/^data:.*,/,R=/([a-z\d])([A-Z])/g,H=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,_=/\s+/,U=/^(width|height|left|top|marginLeft|marginTop)$/,z=/^\s+(.*)\s+$/,e="undefined"!=typeof window?window.navigator:null,N=e&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(e.userAgent),e=Object.prototype,I=e.toString,j=e.hasOwnProperty,W=String.fromCharCode;function Y(e){return I.call(e).slice(8,-1).toLowerCase()}function y(e){return"number"==typeof e&&!isNaN(e)}function r(e){return void 0===e}function o(e){return"object"===(void 0===e?"undefined":B(e))&&null!==e}function $(e){if(!o(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&j.call(n,"isPrototypeOf")}catch(e){return!1}}function u(e){return"function"===Y(e)}function s(e){return e="string"==typeof e?e.trim?e.trim():e.replace(z,"$1"):e}function S(t,n){if(t&&u(n)){var e=void 0;if(r=t,(Array.isArray?Array.isArray(r):"array"===Y(r))||y(t.length))for(var i=t.length,e=0;e<i&&!1!==n.call(t,t[e],e,t);e+=1);else o(t)&&Object.keys(t).forEach(function(e){n.call(t,t[e],e,t)})}var r;return t}function E(n){for(var e=arguments.length,t=Array(1<e?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];if(o(n)&&0<t.length){if(Object.assign)return Object.assign.apply(Object,[n].concat(t));t.forEach(function(t){o(t)&&Object.keys(t).forEach(function(e){n[e]=t[e]})})}return n}function a(i,r){for(var e=arguments.length,o=Array(2<e?e-2:0),t=2;t<e;t++)o[t-2]=arguments[t];return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(r,o.concat(t))}}function p(e,t){var n=e.style;S(t,function(e,t){U.test(t)&&y(e)&&(e+="px"),n[t]=e})}function h(e,t){var n;t&&(y(e.length)?S(e,function(e){h(e,t)}):e.classList?e.classList.add(t):(n=s(e.className))?n.indexOf(t)<0&&(e.className=n+" "+t):e.className=t)}function A(e,t){t&&(y(e.length)?S(e,function(e){A(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function l(e,t,n){t&&(y(e.length)?S(e,function(e){l(e,t,n)}):(n?h:A)(e,t))}function c(e){return e.replace(R,"$1-$2").toLowerCase()}function f(e,t){return o(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+c(t))}function d(e,t,n){o(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-"+c(t),n)}function G(t,n){if(o(t[n]))delete t[n];else if(t.dataset)try{delete t.dataset[n]}catch(e){t.dataset[n]=null}else t.removeAttribute("data-"+c(n))}function g(t,e,n){var i=s(e).split(_);1<i.length?S(i,function(e){g(t,e,n)}):t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}function m(i,r,o,e){var t=s(r).split(_),a=o;1<t.length?S(t,function(e){m(i,e,o)}):(e&&(o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(i,r,o),a.apply(i,t)}),i.addEventListener?i.addEventListener(r,o,!1):i.attachEvent&&i.attachEvent("on"+r,o))}function v(e,t,n){var i;return e.dispatchEvent?(i=void 0,u(Event)&&u(CustomEvent)?i=r(n)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):r(n)?(i=document.createEvent("Event")).initEvent(t,!0,!0):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)):!e.fireEvent||e.fireEvent("on"+t)}function b(e){var t,n=e||window.event;return n.target||(n.target=n.srcElement||document),!y(n.pageX)&&y(n.clientX)&&(t=(e=e.target.ownerDocument||document).documentElement,e=e.body,n.pageX=n.clientX+((t&&t.scrollLeft||e&&e.scrollLeft||0)-(t&&t.clientLeft||e&&e.clientLeft||0)),n.pageY=n.clientY+((t&&t.scrollTop||e&&e.scrollTop||0)-(t&&t.clientTop||e&&e.clientTop||0))),n}function X(e){var t=document.documentElement,e=e.getBoundingClientRect();return{left:e.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:e.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function K(e,t){return e.getElementsByTagName(t)}function C(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function w(e){return document.createElement(e)}function k(e,t){e.appendChild(t)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function Q(e){e=e.match(H);return e&&(e[1]!==location.protocol||e[2]!==location.hostname||e[3]!==location.port)}function Z(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function M(e){var t=[],n=e.translateX,i=e.translateY,r=e.rotate,o=e.scaleX,e=e.scaleY,n=(y(n)&&0!==n&&t.push("translateX("+n+"px)"),y(i)&&0!==i&&t.push("translateY("+i+"px)"),y(r)&&0!==r&&t.push("rotate("+r+"deg)"),y(o)&&1!==o&&t.push("scaleX("+o+")"),y(e)&&1!==e&&t.push("scaleY("+e+")"),t.length?t.join(" "):"none");return{WebkitTransform:n,msTransform:n,transform:n}}function T(e,t){var n=Math.abs(e.degree)%180,n=(90<n?180-n:n)*Math.PI/180,i=Math.sin(n),n=Math.cos(n),r=e.width,o=e.height,e=e.aspectRatio,a=void 0,s=void 0,s=t?(a=r/(n+i/e))/e:(a=r*n+o*i,r*i+o*n);return{width:a,height:s}}function J(e,t,n){var i,r=w("canvas"),o=r.getContext("2d"),a=0,s=0,l=t.naturalWidth,c=t.naturalHeight,u=t.rotate,h=t.scaleX,t=t.scaleY,d=y(h)&&y(t)&&(1!==h||1!==t),p=y(u)&&0!==u,f=p||d,g=l*Math.abs(h||1),m=c*Math.abs(t||1),v=void 0,$=void 0;return d&&(v=g/2,$=m/2),p&&(v=(g=(i=T({width:g,height:m,degree:u})).width)/2,$=(m=i.height)/2),r.width=g,r.height=m,n.fillColor&&(o.fillStyle=n.fillColor,o.fillRect(0,0,g,m)),f&&(a=-l/2,s=-c/2,o.save(),o.translate(v,$)),p&&o.rotate(u*Math.PI/180),d&&o.scale(h,t),o.imageSmoothingEnabled=!!n.imageSmoothingEnabled,n.imageSmoothingQuality&&(o.imageSmoothingQuality=n.imageSmoothingQuality),o.drawImage(e,Math.floor(a),Math.floor(s),Math.floor(l),Math.floor(c)),f&&o.restore(),r}function ee(e){var t,n=new DataView(e),i=n.byteLength,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(l=2;l<i;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){a=l;break}l+=1}if(a&&(e=a+10,"Exif"===function(e,t,n){var i="",r=t;for(n+=t;r<n;r+=1)i+=W(e.getUint8(r));return i}(n,a+4,4)&&((o=18761===(t=n.getUint16(e)))||19789===t)&&42===n.getUint16(e+2,o)&&8<=(t=n.getUint32(e+4,o))&&(s=e+t)),s)for(i=n.getUint16(s,o),c=0;c<i;c+=1)if(274===n.getUint16(l=s+12*c+2,o)){l+=8,r=n.getUint16(l,o),N&&n.setUint16(l,1,o);break}return r}var e={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.options,t=this.element,n=this.container,i=this.cropper,r="cropper-hidden",n=(h(i,r),A(t,r),{width:Math.max(n.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(e.minContainerHeight)||100)});p(i,{width:(this.containerData=n).width,height:n.height}),h(t,r),A(i,r)},initCanvas:function(){var e=this.options.viewMode,t=this.containerData,n=this.imageData,i=Math.abs(n.rotate)%180==90,r=i?n.naturalHeight:n.naturalWidth,i=i?n.naturalWidth:n.naturalHeight,o=r/i,a=t.width,s=t.height,r=(t.height*o>t.width?3===e?a=t.height*o:s=t.width/o:3===e?s=t.width/o:a=t.height*o,{naturalWidth:r,naturalHeight:i,aspectRatio:o,width:a,height:s});r.left=(t.width-a)/2,r.top=(t.height-s)/2,r.oldLeft=r.left,r.oldTop=r.top,this.canvasData=r,this.limited=1===e||2===e,this.limitCanvas(!0,!0),this.initialImageData=E({},n),this.initialCanvasData=E({},r)},limitCanvas:function(e,t){var n=this.options,i=n.viewMode,r=this.containerData,o=this.canvasData,a=o.aspectRatio,s=this.cropBoxData,l=this.cropped&&s;e&&(e=Number(n.minCanvasWidth)||0,n=Number(n.minCanvasHeight)||0,1<i?(e=Math.max(e,r.width),n=Math.max(n,r.height),3===i&&(e<n*a?e=n*a:n=e/a)):0<i&&(e?e=Math.max(e,l?s.width:0):n?n=Math.max(n,l?s.height:0):l&&((e=s.width)<(n=s.height)*a?e=n*a:n=e/a)),e&&n?e<n*a?n=e/a:e=n*a:e?n=e/a:n&&(e=n*a),o.minWidth=e,o.minHeight=n,o.maxWidth=1/0,o.maxHeight=1/0),t&&(i?(a=r.width-o.width,e=r.height-o.height,o.minLeft=Math.min(0,a),o.minTop=Math.min(0,e),o.maxLeft=Math.max(0,a),o.maxTop=Math.max(0,e),l&&this.limited&&(o.minLeft=Math.min(s.left,s.left+(s.width-o.width)),o.minTop=Math.min(s.top,s.top+(s.height-o.height)),o.maxLeft=s.left,o.maxTop=s.top,2===i&&(o.width>=r.width&&(o.minLeft=Math.min(0,a),o.maxLeft=Math.max(0,a)),o.height>=r.height&&(o.minTop=Math.min(0,e),o.maxTop=Math.max(0,e))))):(o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height))},renderCanvas:function(e){var t,n,i,r=this,o=r.canvasData,a=r.imageData,s=a.rotate;r.rotated&&(r.rotated=!1,t=(i=T({width:a.width,height:a.height,degree:s})).width/i.height,!(n=1===a.aspectRatio)&&t===o.aspectRatio||(o.left-=(i.width-o.width)/2,o.top-=(i.height-o.height)/2,o.width=i.width,o.height=i.height,o.aspectRatio=t,o.naturalWidth=a.naturalWidth,o.naturalHeight=a.naturalHeight,(n&&s%90||s%180)&&(i=T({width:a.naturalWidth,height:a.naturalHeight,degree:s}),o.naturalWidth=i.width,o.naturalHeight=i.height),r.limitCanvas(!0,!1))),(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),r.limitCanvas(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,p(r.canvas,E({width:o.width,height:o.height},M({translateX:o.left,translateY:o.top}))),r.renderImage(),r.cropped&&r.limited&&r.limitCropBox(!0,!0),e&&r.output()},renderImage:function(e){var t,n,i=this.canvasData,r=this.imageData,o=void 0;E(r,(o=r.rotate?{width:t=(n=T({width:i.width,height:i.height,degree:r.rotate,aspectRatio:r.aspectRatio},!0)).width,height:n=n.height,left:(i.width-t)/2,top:(i.height-n)/2}:o)||{width:i.width,height:i.height,left:0,top:0}),p(this.image,E({width:r.width,height:r.height},M(E({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,t=e.aspectRatio,e=Number(e.autoCropArea)||.8,n=this.canvasData,i={width:n.width,height:n.height};t&&(n.height*t>n.width?i.height=i.width/t:i.width=i.height*t),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*e),i.height=Math.max(i.minHeight,i.height*e),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=E({},i)},limitCropBox:function(e,t){var n,i,r=this.options,o=r.aspectRatio,a=this.containerData,s=this.canvasData,l=this.cropBoxData,c=this.limited;e&&(e=Number(r.minCropBoxWidth)||0,r=Number(r.minCropBoxHeight)||0,n=Math.min(a.width,(c?s:a).width),i=Math.min(a.height,(c?s:a).height),e=Math.min(e,a.width),r=Math.min(r,a.height),o&&(e&&r?e<r*o?r=e/o:e=r*o:e?r=e/o:r&&(e=r*o),n<i*o?i=n/o:n=i*o),l.minWidth=Math.min(e,n),l.minHeight=Math.min(r,i),l.maxWidth=n,l.maxHeight=i),t&&(c?(l.minLeft=Math.max(0,s.left),l.minTop=Math.max(0,s.top),l.maxLeft=Math.min(a.width,s.left+s.width)-l.width,l.maxTop=Math.min(a.height,s.top+s.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=a.width-l.width,l.maxTop=a.height-l.height))},renderCropBox:function(){var e=this,t=e.options,n=e.containerData,i=e.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),e.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&d(e.face,"action",i.width===n.width&&i.height===n.height?"move":"all"),p(e.cropBox,E({width:i.width,height:i.height},M({translateX:i.left,translateY:i.top}))),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){this.preview(),this.complete&&v(this.element,"crop",this.getData())}},D="preview",te={initPreview:function(){var e=this.options.preview,t=w("img"),i=this.crossOrigin,r=i?this.crossOriginUrl:this.url;i&&(t.crossOrigin=i),t.src=r,k(this.viewBox,t),this.image2=t,e&&(t=e.querySelector?[e]:document.querySelectorAll(e),S(this.previews=t,function(e){for(var t=w("img"),n=(d(e,D,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),i&&(t.crossOrigin=i),t.src=r,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e);n.firstChild;)n.removeChild(n.firstChild);k(e,t)}))},resetPreview:function(){S(this.previews,function(e){var t=f(e,D);p(e,{width:t.width,height:t.height}),e.innerHTML=t.html,G(e,D)})},preview:function(){var a=this.imageData,e=this.canvasData,t=this.cropBoxData,s=t.width,l=t.height,c=a.width,u=a.height,h=t.left-e.left-a.left,d=t.top-e.top-a.top;this.cropped&&!this.disabled&&(p(this.image2,E({width:c,height:u},M(E({translateX:-h,translateY:-d},a)))),S(this.previews,function(e){var t=f(e,D),n=t.width,t=t.height,i=n,r=t,o=1;s&&(r=l*(o=n/s)),l&&t<r&&(i=s*(o=t/l),r=t),p(e,{width:i,height:r}),p(K(e,"img")[0],E({width:c*o,height:u*o},M(E({translateX:-h*o,translateY:-d*o},a))))}))}},t="undefined"!=typeof window?window.PointerEvent:null,ne=t?"pointerdown":"touchstart mousedown",ie=t?"pointermove":"touchmove mousemove",re=t?" pointerup pointercancel":"touchend touchcancel mouseup",oe="wheel mousewheel DOMMouseScroll",t={bind:function(){var e=this,t=e.options,n=e.element,i=e.cropper;u(t.cropstart)&&m(n,"cropstart",t.cropstart),u(t.cropmove)&&m(n,"cropmove",t.cropmove),u(t.cropend)&&m(n,"cropend",t.cropend),u(t.crop)&&m(n,"crop",t.crop),u(t.zoom)&&m(n,"zoom",t.zoom),m(i,ne,e.onCropStart=a(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&m(i,oe,e.onWheel=a(e.wheel,e)),t.toggleDragModeOnDblclick&&m(i,"dblclick",e.onDblclick=a(e.dblclick,e)),m(document,ie,e.onCropMove=a(e.cropMove,e)),m(document,re,e.onCropEnd=a(e.cropEnd,e)),t.responsive&&m(window,"resize",e.onResize=a(e.resize,e))},unbind:function(){var e=this.options,t=this.element,n=this.cropper;u(e.cropstart)&&g(t,"cropstart",e.cropstart),u(e.cropmove)&&g(t,"cropmove",e.cropmove),u(e.cropend)&&g(t,"cropend",e.cropend),u(e.crop)&&g(t,"crop",e.crop),u(e.zoom)&&g(t,"zoom",e.zoom),g(n,ne,this.onCropStart),e.zoomable&&e.zoomOnWheel&&g(n,oe,this.onWheel),e.toggleDragModeOnDblclick&&g(n,"dblclick",this.onDblclick),g(document,ie,this.onCropMove),g(document,re,this.onCropEnd),e.responsive&&g(window,"resize",this.onResize)}},ae=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;function P(e,t){var n=e.pageX,e=e.pageY,i={endX:n,endY:e};return t?i:E({startX:n,startY:e},i)}var se={resize:function(){var n,i,r,e=this.options,t=this.container,o=this.containerData,a=Number(e.minContainerWidth)||200,s=Number(e.minContainerHeight)||100;this.disabled||o.width===a||o.height===s||(1==(n=t.offsetWidth/o.width)&&t.offsetHeight===o.height||(r=i=void 0,e.restore&&(i=this.getCanvasData(),r=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(S(i,function(e,t){i[t]=e*n})),this.setCropBoxData(S(r,function(e,t){r[t]=e*n})))))},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t="cropper-crop",(e.classList?e.classList.contains(t):-1<e.className.indexOf(t))?"move":"crop"))},wheel:function(e){var t=this,e=b(e),n=Number(t.options.wheelZoomRatio)||.1,i=1;t.disabled||(e.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?i=0<e.deltaY?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=0<e.detail?1:-1),t.zoom(-i*n,e)))},cropStart:function(e){var t,n,i;this.disabled||(t=this.options,n=this.pointers,i=void 0,(e=b(e)).changedTouches?S(e.changedTouches,function(e){n[e.identifier]=P(e)}):n[e.pointerId||0]=P(e),i=1<Object.keys(n).length&&t.zoomable&&t.zoomOnTouch?"zoom":f(e.target,"action"),ae.test(i)&&!1!==v(this.element,"cropstart",{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,h(this.dragBox,"cropper-modal"))))},cropMove:function(e){var t,n=this.action;!this.disabled&&n&&(t=this.pointers,(e=b(e)).preventDefault(),!1!==v(this.element,"cropmove",{originalEvent:e,action:n})&&(e.changedTouches?S(e.changedTouches,function(e){E(t[e.identifier],P(e,!0))}):E(t[e.pointerId||0],P(e,!0)),this.change(e)))},cropEnd:function(e){var t,n;this.disabled||(t=this.action,n=this.pointers,(e=b(e)).changedTouches?S(e.changedTouches,function(e){delete n[e.identifier]}):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,l(this.dragBox,"cropper-modal",this.cropped&&this.options.modal)),v(this.element,"cropend",{originalEvent:e,action:t})))}};var le={change:function(e){var t,n,o,i=this,r=i.options,a=i.containerData,s=i.canvasData,l=i.cropBoxData,c=r.aspectRatio,u=i.action,h=l.width,d=l.height,p=l.left,f=l.top,g=p+h,m=f+d,v=0,$=0,y=a.width,b=a.height,C=!0,w=(!c&&e.shiftKey&&(c=h&&d?h/d:1),i.limited&&(v=l.minLeft,$=l.minTop,y=v+Math.min(a.width,s.width,s.left+s.width),b=$+Math.min(a.height,s.height,s.top+s.height)),i.pointers),k=w[Object.keys(w)[0]],x={x:k.endX-k.startX,y:k.endY-k.startY};switch(u){case"all":p+=x.x,f+=x.y;break;case"e":0<=x.x&&(y<=g||c&&(f<=$||b<=m))?C=!1:(g+x.x>y&&(x.x=y-g),h+=x.x,c&&(d=h/c,f-=x.x/c/2),h<0&&(u="w",h=0));break;case"n":x.y<=0&&(f<=$||c&&(p<=v||y<=g))?C=!1:(f+x.y<$&&(x.y=$-f),d-=x.y,f+=x.y,c&&(h=d*c,p+=x.y*c/2),d<0&&(u="s",d=0));break;case"w":x.x<=0&&(p<=v||c&&(f<=$||b<=m))?C=!1:(p+x.x<v&&(x.x=v-p),h-=x.x,p+=x.x,c&&(d=h/c,f+=x.x/c/2),h<0&&(u="e",h=0));break;case"s":0<=x.y&&(b<=m||c&&(p<=v||y<=g))?C=!1:(m+x.y>b&&(x.y=b-m),d+=x.y,c&&(h=d*c,p-=x.y*c/2),d<0&&(u="n",d=0));break;case"ne":if(c){if(x.y<=0&&(f<=$||y<=g)){C=!1;break}d-=x.y,f+=x.y,h=d*c}else!(0<=x.x)||g<y?h+=x.x:x.y<=0&&f<=$&&(C=!1),(!(x.y<=0)||$<f)&&(d-=x.y,f+=x.y);h<0&&d<0?(u="sw",h=d=0):h<0?(u="nw",h=0):d<0&&(u="se",d=0);break;case"nw":if(c){if(x.y<=0&&(f<=$||p<=v)){C=!1;break}d-=x.y,f+=x.y,h=d*c,p+=x.y*c}else!(x.x<=0)||v<p?(h-=x.x,p+=x.x):x.y<=0&&f<=$&&(C=!1),(!(x.y<=0)||$<f)&&(d-=x.y,f+=x.y);h<0&&d<0?(u="se",h=d=0):h<0?(u="ne",h=0):d<0&&(u="sw",d=0);break;case"sw":if(c){if(x.x<=0&&(p<=v||b<=m)){C=!1;break}h-=x.x,p+=x.x,d=h/c}else!(x.x<=0)||v<p?(h-=x.x,p+=x.x):0<=x.y&&b<=m&&(C=!1),(!(0<=x.y)||m<b)&&(d+=x.y);h<0&&d<0?(u="ne",h=d=0):h<0?(u="se",h=0):d<0&&(u="nw",d=0);break;case"se":if(c){if(0<=x.x&&(y<=g||b<=m)){C=!1;break}d=(h+=x.x)/c}else!(0<=x.x)||g<y?h+=x.x:0<=x.y&&b<=m&&(C=!1),(!(0<=x.y)||m<b)&&(d+=x.y);h<0&&d<0?(u="nw",h=d=0):h<0?(u="sw",h=0):d<0&&(u="ne",d=0);break;case"move":i.move(x.x,x.y),C=!1;break;case"zoom":i.zoom((n=E({},t=w),o=[],S(t,function(r,e){delete n[e],S(n,function(e){var t=Math.abs(r.startX-e.startX),n=Math.abs(r.startY-e.startY),i=Math.abs(r.endX-e.endX),e=Math.abs(r.endY-e.endY),t=Math.sqrt(t*t+n*n),n=Math.sqrt(i*i+e*e);o.push((n-t)/t)})}),o.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),o[0]),e),C=!1;break;case"crop":x.x&&x.y?(t=X(i.cropper),p=k.startX-t.left,f=k.startY-t.top,h=l.minWidth,d=l.minHeight,0<x.x?u=0<x.y?"se":"ne":x.x<0&&(p-=h,u=0<x.y?"sw":"nw"),x.y<0&&(f-=d),i.cropped||(A(i.cropBox,"cropper-hidden"),i.cropped=!0,i.limited&&i.limitCropBox(!0,!0))):C=!1}C&&(l.width=h,l.height=d,l.left=p,l.top=f,i.action=u,i.renderCropBox()),S(w,function(e){e.startX=e.endX,e.startY=e.endY})}};var ce={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&h(e.dragBox,"cropper-modal"),A(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=E({},e.initialImageData),e.canvasData=E({},e.initialCanvasData),e.cropBoxData=E({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(E(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(!0,!0),e.renderCanvas(),A(e.dragBox,"cropper-modal"),h(e.cropBox,"cropper-hidden")),e},replace:function(t,e){var n=this;return!n.disabled&&t&&(n.isImg&&(n.element.src=t),e?(n.url=t,n.image.src=t,n.ready&&(n.image2.src=t,S(n.previews,function(e){K(e,"img")[0].src=t}))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(t))),n},enable:function(){return this.ready&&(this.disabled=!1,A(this.cropper,"cropper-disabled")),this},disable:function(){return this.ready&&(this.disabled=!0,h(this.cropper,"cropper-disabled")),this},destroy:function(){var e=this,t=e.element,n=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),A(t,"cropper-hidden")):e.isImg?g(t,"load",e.onStart):n&&x(n),G(t,"cropper"),e},move:function(e,t){var n=this.canvasData;return this.moveTo(r(e)?e:n.left+Number(e),r(t)?t:n.top+Number(t))},moveTo:function(e,t){var n=this.canvasData,i=!1;return r(t)&&(t=e),e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(y(e)&&(n.left=e,i=!0),y(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=Number(e),this.zoomTo(n.width*(e=e<0?1/(1-e):1+e)/n.naturalWidth,t)},zoomTo:function(e,t){var n,i,r,o=this,a=o.options,s=o.canvasData,l=s.width,c=s.height,u=s.naturalWidth,h=s.naturalHeight;if(0<=(e=Number(e))&&o.ready&&!o.disabled&&a.zoomable){a=u*e,h=h*e;if(!1===v(o.element,"zoom",{originalEvent:t,oldRatio:l/u,ratio:a/u}))return o;t?(e=o.pointers,u=X(o.cropper),e=e&&Object.keys(e).length?(r=i=n=0,S(e,function(e){var t=e.startX,e=e.startY;n+=t,i+=e,r+=1}),{pageX:n/=r,pageY:i/=r}):{pageX:t.pageX,pageY:t.pageY},s.left-=(a-l)*((e.pageX-u.left-s.left)/l),s.top-=(h-c)*((e.pageY-u.top-s.top)/c)):(s.left-=(a-l)/2,s.top-=(h-c)/2),s.width=a,s.height=h,o.renderCanvas(!0)}return o},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return y(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.rotated=!0,this.renderCanvas(!0)),this},scale:function(e,t){var n=this.imageData,i=!1;return r(t)&&(t=e),e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(y(e)&&(n.scaleX=e,i=!0),y(t)&&(n.scaleY=t,i=!0),i&&this.renderImage(!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,y(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(y(t)?t:1,e)},getData:function(n){var i,e=this.options,t=this.imageData,r=this.canvasData,o=this.cropBoxData,a=void 0;return this.ready&&this.cropped?(a={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height},i=t.width/t.naturalWidth,S(a,function(e,t){e/=i,a[t]=n?Math.round(e):e})):a={x:0,y:0,width:0,height:0},e.rotatable&&(a.rotate=t.rotate||0),e.scalable&&(a.scaleX=t.scaleX||1,a.scaleY=t.scaleY||1),a},setData:function(e){var t=this,n=t.options,i=t.imageData,r=t.canvasData,o={},a=void 0,s=void 0;return u(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&$(e)&&(n.rotatable&&y(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,t.rotated=a=!0),n.scalable&&(y(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,s=!0),y(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,s=!0)),a?t.renderCanvas():s&&t.renderImage(),n=i.width/i.naturalWidth,y(e.x)&&(o.left=e.x*n+r.left),y(e.y)&&(o.top=e.y*n+r.top),y(e.width)&&(o.width=e.width*n),y(e.height)&&(o.height=e.height*n),t.setCropBoxData(o)),t},getContainerData:function(){return this.ready?this.containerData:{}},getImageData:function(){return this.loaded?this.imageData:{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&S(["left","top","width","height","naturalWidth","naturalHeight"],function(e){n[e]=t[e]}),n},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return u(e)&&(e=e.call(this.element)),this.ready&&!this.disabled&&$(e)&&(y(e.left)&&(t.left=e.left),y(e.top)&&(t.top=e.top),y(e.width)?(t.width=e.width,t.height=e.width/n):y(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,t=void 0;return(t=this.ready&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:t)||{}},setCropBoxData:function(e){var t=this.cropBoxData,n=this.options.aspectRatio,i=void 0,r=void 0;return u(e)&&(e=e.call(this.element)),this.ready&&this.cropped&&!this.disabled&&$(e)&&(y(e.left)&&(t.left=e.left),y(e.top)&&(t.top=e.top),y(e.width)&&e.width!==t.width&&(i=!0,t.width=e.width),y(e.height)&&e.height!==t.height&&(r=!0,t.height=e.height),n&&(i?t.height=t.width/n:r&&(t.width=t.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(e){var t,n,i,r,o,a,s,l,c,u,h,d,p,f,g,m,v=this;return v.ready&&window.HTMLCanvasElement?($(e)||(e={}),v.cropped?(h=v.getData(),o=h.width,t=h.height,a=o/t,n=i=s=void 0,$(e)&&(s=e.width,i=e.height,s?(i=s/a,n=s/o):i&&(s=i*a,n=i/t)),a=Math.floor(s||o),s=Math.floor(i||t),r=(i=w("canvas")).getContext("2d"),i.width=a,i.height=s,e.fillColor&&(r.fillStyle=e.fillColor,r.fillRect(0,0,a,s)),a=J(v.image,v.imageData,e),s=a.width,l=a.height,c=v.canvasData,a=[a],u=h.x+c.naturalWidth*(Math.abs(h.scaleX||1)-1)/2,c=h.y+c.naturalHeight*(Math.abs(h.scaleY||1)-1)/2,m=g=f=p=d=h=void 0,u<=-o||s<u?g=p=h=u=0:u<=0?(p=-u,u=0,g=h=Math.min(s,o+u)):u<=s&&(p=0,g=h=Math.min(o,s-u)),h<=0||c<=-t||l<c?m=f=d=c=0:c<=0?(f=-c,c=0,m=d=Math.min(l,t+c)):c<=l&&(f=0,m=d=Math.min(t,l-c)),a.push(Math.floor(u),Math.floor(c),Math.floor(h),Math.floor(d)),n&&(p*=n,f*=n,g*=n,m*=n),0<g&&0<m&&a.push(Math.floor(p),Math.floor(f),Math.floor(g),Math.floor(m)),o=a,r.imageSmoothingEnabled=!!e.imageSmoothingEnabled,e.imageSmoothingQuality&&(r.imageSmoothingQuality=e.imageSmoothingQuality),r.drawImage.apply(r,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o)),i):J(v.image,v.imageData,e)):null},setAspectRatio:function(e){var t=this.options;return this.disabled||r(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t,n,i=this.options,r=this.dragBox,o=this.face;return this.loaded&&!this.disabled&&(n=i.movable&&"move"===e,d(r,"action",e=(t="crop"===e)||n?e:"none"),l(r,"cropper-crop",t),l(r,"cropper-move",n),i.cropBoxMovable||(d(o,"action",e),l(o,"cropper-crop",t),l(o,"cropper-move",n))),this}};function ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O="cropper",L=O+"-hidden",V="load",he=/^data:/,de=/^data:image\/jpeg;base64,/,pe=void 0,n=(function(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),e}(q,[{key:"init",value:function(){var e=this.element,t=e.tagName.toLowerCase(),n=void 0;if(!f(e,O)){if(d(e,O,this),"img"===t){if(this.isImg=!0,n=e.getAttribute("src"),!(this.originalUrl=n))return;n=e.src}else"canvas"===t&&window.HTMLCanvasElement&&(n=e.toDataURL());this.load(n)}}},{key:"load",value:function(e){var t,n=this,i=n.options,r=n.element;e&&(n.url=e,n.imageData={},i.checkOrientation&&window.ArrayBuffer?he.test(e)?de.test(e)?n.read(function(e){for(var e=e.replace(F,""),t=atob(e),n=t.length,e=new ArrayBuffer(n),i=new Uint8Array(e),r=void 0,r=0;r<n;r+=1)i[r]=t.charCodeAt(r);return e}(e)):n.clone():((t=new XMLHttpRequest).onerror=function(){n.clone()},t.onload=function(){n.read(t.response)},i.checkCrossOrigin&&Q(e)&&r.crossOrigin&&(e=Z(e)),t.open("get",e),t.responseType="arraybuffer",t.withCredentials="use-credentials"===r.crossOrigin,t.send()):n.clone())}},{key:"read",value:function(e){var t=this.options,n=ee(e),i=this.imageData,r=0,o=1,a=1;if(1<n)switch(this.url=function(e){for(var t=new Uint8Array(e),n=t.length,i="",r=void 0,r=0;r<n;r+=1)i+=W(t[r]);return"data:image/jpeg;base64,"+btoa(i)}(e),n){case 2:o=-1;break;case 3:r=-180;break;case 4:a=-1;break;case 5:r=90,a=-1;break;case 6:r=90;break;case 7:r=90,o=-1;break;case 8:r=-90}t.rotatable&&(i.rotate=r),t.scalable&&(i.scaleX=o,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this,t=e.element,n=e.url,i=void 0,r=void 0,o=(e.options.checkCrossOrigin&&Q(n)&&(r=(i=t.crossOrigin)?n:(i="anonymous",Z(n))),e.crossOrigin=i,e.crossOriginUrl=r,w("img")),i=(i&&(o.crossOrigin=i),o.src=r||n,a(e.start,e)),r=a(e.stop,e);e.image=o,e.onStart=i,e.onStop=r,e.isImg?t.complete?e.start():m(t,V,i):(m(o,V,i),m(o,"error",r),h(o,"cropper-hide"),t.parentNode.insertBefore(o,t.nextSibling))}},{key:"start",value:function(e){var t,n=this,i=n.isImg?n.element:n.image;e&&(g(i,V,n.onStart),g(i,"error",n.onStop)),t=function(e,t){E(n.imageData,{naturalWidth:e,naturalHeight:t,aspectRatio:e/t}),n.loaded=!0,n.build()},(e=i).naturalWidth&&!N?t(e.naturalWidth,e.naturalHeight):((i=w("img")).onload=function(){t(this.width,this.height)},i.src=e.src)}},{key:"stop",value:function(){var e=this.image;g(e,V,this.onStart),g(e,"error",this.onStop),x(e),this.image=null}},{key:"build",value:function(){var e,t,n,i,r,o,a=this,s=a.options,l=a.element,c=a.image;a.loaded&&(a.ready&&a.unbuild(),e=l.parentNode,(t=w("div")).innerHTML='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',t=C(t,"cropper-container")[0],n=C(t,"cropper-canvas")[0],i=C(t,"cropper-drag-box")[0],r=C(t,"cropper-crop-box")[0],o=C(r,"cropper-face")[0],a.container=e,a.cropper=t,a.canvas=n,a.dragBox=i,a.cropBox=r,a.viewBox=C(t,"cropper-view-box")[0],a.face=o,k(n,c),h(l,L),e.insertBefore(t,l.nextSibling),a.isImg||A(c,"cropper-hide"),a.initPreview(),a.bind(),s.aspectRatio=Math.max(0,s.aspectRatio)||NaN,s.viewMode=Math.max(0,Math.min(3,Math.round(s.viewMode)))||0,a.cropped=s.autoCrop,s.autoCrop?s.modal&&h(i,"cropper-modal"):h(r,L),s.guides||h(C(r,"cropper-dashed"),L),s.center||h(C(r,"cropper-center"),L),s.background&&h(t,"cropper-bg"),s.highlight||h(o,"cropper-invisible"),s.cropBoxMovable&&(h(o,"cropper-move"),d(o,"action","all")),s.cropBoxResizable||(h(C(r,"cropper-line"),L),h(C(r,"cropper-point"),L)),a.setDragMode(s.dragMode),a.render(),a.ready=!0,a.setData(s.data),a.completing=setTimeout(function(){u(s.ready)&&m(l,"ready",s.ready,!0),v(l,"ready"),v(l,"crop",a.getData()),a.complete=!0},0))}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.complete||clearTimeout(e.completing),e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,x(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=pe,q}},{key:"setDefaults",value:function(e){E(i,$(e)&&e)}}]),q);function q(e,t){if(!(this instanceof q))throw new TypeError("Cannot call a class as a function");var n=this;n.element=e,n.options=E({},i,$(t)&&t),n.loaded=!1,n.ready=!1,n.complete=!1,n.rotated=!1,n.cropped=!1,n.disabled=!1,n.replaced=!1,n.limited=!1,n.wheeling=!1,n.isImg=!1,n.originalUrl="",n.canvasData=null,n.cropBoxData=null,n.previews=null,n.pointers={},n.init()}return E(n.prototype,e),E(n.prototype,te),E(n.prototype,t),E(n.prototype,se),E(n.prototype,le),E(n.prototype,ce),"undefined"!=typeof window&&(pe=window.Cropper,window.Cropper=n),n}),angular.module("app",["color.picker","ngFileUpload","rzModule","ngAnimate","google.places","ngQuickDate","angularLazyImg"]).controller("MainCtrl",["$scope","PresetService",function(e,t){e.mobileMenu=!1,e.PresetService=t,e.setMobileMenu=function(){e.mobileMenu=!e.mobileMenu}}]).controller("NewsletterCtrl",["$scope","$http",function(n,i){n.email="",n.result=null,n.subscribe=function(e,t){i({method:"post",url:"https://app.qrcode.studio/newsletter/subscribe",data:{email:e,language:t}}).then(function(e){n.result=e.data},function(e){})}}])),apiDomain=(App.config(["$httpProvider",function(e){e.defaults.headers.common={},e.defaults.headers.post={},e.defaults.headers.put={},e.defaults.headers.patch={}}]),window.GLOBAL_API_ENDPOINT);function analyticsEvent(e,t,n){ga("send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:n})}App.controller("GeneratorCtrl",["$scope","$http","Upload","PresetService","TemplateService","$filter","$timeout",function(o,n,r,t,i,a,s){o.PresetService=t,o.TemplateService=i;function l(e){return void 0===e?"":e}o.sliderOptions={floor:200,ceil:2e3,step:25,hidePointerLabels:!0,hideLimitLabels:!0},o.colorPickerOptions={format:"hex",alpha:!1,swatch:!0,swatchPos:"left",swatchBootstrap:!0,inputClass:"form-control",swatchOnly:!1,pos:"bottom left",case:"upper"},o.colorPickerApiEye={onChange:function(e,t,n){o.qrcode.config.eye2Color=t,o.qrcode.config.eye3Color=t}},o.colorPickerApiEyeBall={onChange:function(e,t,n){o.qrcode.config.eyeBall2Color=t,o.qrcode.config.eyeBall3Color=t}},o.setTab=function(e){o.qrcode.type=e,o.currentForm=o[o.qrcode.type+"Form"],o.editView="content","maps"===e&&null==o.map&&"undefined"!=typeof google&&(e={zoom:3,center:new google.maps.LatLng(51.049259,13.73836),mapTypeId:google.maps.MapTypeId.TERRAIN},o.map=new google.maps.Map(document.getElementById("map"),e),o.marker=new google.maps.Marker({map:o.map,position:new google.maps.LatLng(51.049259,13.73836),title:"Location",draggable:!0}),google.maps.event.addListener(o.marker,"dragend",function(e){o.qrcode.data.mapsLatitude=o.marker.getPosition().lat(),o.qrcode.data.mapsLongitude=o.marker.getPosition().lng(),o.$apply()}),google.maps.event.addListener(o.map,"click",function(e){o.marker.setPosition(e.latLng),o.qrcode.data.mapsLatitude=o.marker.getPosition().lat(),o.qrcode.data.mapsLongitude=o.marker.getPosition().lng(),o.$apply()}))},o.setEditView=function(e){o.editView!==e?o.editView=e:o.editView=""},o.editView="content",o.showTemplates=!1,o.colorMode="single",o.showDownloadModal=!1,o.isGeneratingModal=!1,o.isPrintModal=!1,o.isStatisticsModal=!1,o.isLogoModal=!1,o.isTypesModal=!1,o.downloadTimeout=null,o.qrcode={},-1<["url","text","email","phone","sms","vcard","mecard","maps","facebook","twitter","youtube","wifi","event","bitcoin"].indexOf(window.location.hash.substring(1))?o.setTab(window.location.hash.substring(1)):o.setTab("url"),o.qrcode.size=1e3,o.qrcode.data={},o.qrcode.data.url="https://www.qrcode-monkey.com",o.qrcode.data.vcardVersion="3",o.qrcode.data.facebookType="url",o.qrcode.data.twitterType="url",o.qrcode.data.mapsLatitude=51.049259,o.qrcode.data.mapsLongitude=13.73836,o.qrcode.data.eventStarttime=new Date,o.qrcode.data.eventEndtime=new Date,o.qrcode.data.bitcoinType="bitcoin",o.qrcode.data.bitcoinAddress="1FwFqqh71mUTENcRe9q4s9AWFgoc8BA9ZU",o.qrcode.config={body:"square",eye:"frame0",eyeBall:"ball0",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#000000",bgColor:"#FFFFFF",eye1Color:"#000000",eye2Color:"#000000",eye3Color:"#000000",eyeBall1Color:"#000000",eyeBall2Color:"#000000",eyeBall3Color:"#000000",gradientColor1:"",gradientColor2:"",gradientType:"linear",gradientOnEyes:"true",logo:"",logoMode:"default"},o.gradientColor1="#0F8EAA",o.gradientColor2="#0277bd",o.customEyeColor=!1,o.logoMode=!1,o.qrcodePreview="/img/default-preview-qr.svg",o.generateActive=!0,o.$watch("qrcode",function(){o.generateActive=!0},!0),o.getTypeData=function(e){var t,n=" ";switch(e){case"url":n=l(o.qrcode.data.url);break;case"text":n=l(o.qrcode.data.text);break;case"email":n=function(){var e="mailto:"+o.qrcode.data.email;if(o.qrcode.data.emailSubject&&o.qrcode.data.emailMessage)return e+"?subject="+o.qrcode.data.emailSubject+"&body="+o.qrcode.data.emailMessage;if(o.qrcode.data.emailSubject)return e+"?subject="+o.qrcode.data.emailSubject;if(o.qrcode.data.emailMessage)return e+"?body="+o.qrcode.data.emailMessage;return e}();break;case"phone":n="tel:"+l(o.qrcode.data.phone);break;case"sms":n="SMSTO:"+l(o.qrcode.data.smsPhone)+":"+l(o.qrcode.data.smsText);break;case"vcard":n=function(){vCardTitle=l(o.qrcode.data.vcardTitle),vCardName=l(o.qrcode.data.vcardLastname),vCardFirstname=l(o.qrcode.data.vcardFirstname),vCardTelWork=l(o.qrcode.data.vcardPhoneWork),vCardCell=l(o.qrcode.data.vcardPhoneMobile),vCardTelPrivat=l(o.qrcode.data.vcardPhonePrivate),vCardFaxWork=l(o.qrcode.data.vcardFaxWork),vCardFaxPrivat=l(o.qrcode.data.vcardFaxPrivate),vCardEmail=l(o.qrcode.data.vcardEmail),vCardUrl=l(o.qrcode.data.vcardUrl),vCardOrg=l(o.qrcode.data.vcardOrganization),vCardStreet=l(o.qrcode.data.vcardStreet),vCardZip=l(o.qrcode.data.vcardZipcode),vCardCity=l(o.qrcode.data.vcardCity),vCardCountry=l(o.qrcode.data.vcardCountry),vCardState=l(o.qrcode.data.vcardState),"3"===o.qrcode.data.vcardVersion?(vCardString="BEGIN:VCARD\n",vCardString+="VERSION:3.0\n",""==vCardName&&""==vCardFirstname||(vCardString=(vCardString+="N:"+vCardName+";"+vCardFirstname+"\n")+"FN:"+vCardFirstname+" "+vCardName+"\n"),""!=vCardTitle&&(vCardString+="TITLE:"+vCardTitle+"\n"),""!=vCardOrg&&(vCardString+="ORG:"+vCardOrg+"\n"),""!=vCardUrl&&(vCardString+="URL:"+vCardUrl+"\n"),""!=vCardEmail&&(vCardString+="EMAIL;TYPE=INTERNET:"+vCardEmail+"\n"),""!=vCardTelWork&&(vCardString+="TEL;TYPE=voice,work,pref:"+vCardTelWork+"\n"),""!=vCardTelPrivat&&(vCardString+="TEL;TYPE=voice,home,pref:"+vCardTelPrivat+"\n"),""!=vCardCell&&(vCardString+="TEL;TYPE=voice,cell,pref:"+vCardCell+"\n"),""!=vCardFaxWork&&(vCardString+="TEL;TYPE=fax,work,pref:"+vCardFaxWork+"\n"),""!=vCardFaxPrivat&&(vCardString+="TEL;TYPE=fax,home,pref:"+vCardFaxPrivat+"\n")):(vCardString="BEGIN:VCARD\n",vCardString+="VERSION:2.1\n",""==vCardName&&""==vCardFirstname||(vCardString+="N:"+vCardName+";"+vCardFirstname+"\n"),""!=vCardTitle&&(vCardString+="TITLE:"+vCardTitle+"\n"),""!=vCardOrg&&(vCardString+="ORG:"+vCardOrg+"\n"),""!=vCardUrl&&(vCardString+="URL:"+vCardUrl+"\n"),""!=vCardEmail&&(vCardString+="EMAIL;TYPE=INTERNET:"+vCardEmail+"\n"),""!=vCardCell&&(vCardString+="TEL;CELL:"+vCardCell+"\n"),""!=vCardTelWork&&(vCardString+="TEL;WORK;VOICE:"+vCardTelWork+"\n"),""!=vCardTelPrivat&&(vCardString+="TEL;HOME;VOICE:"+vCardTelPrivat+"\n"),""!=vCardFaxWork&&(vCardString+="TEL;WORK;FAX:"+vCardFaxWork+"\n"),""!=vCardFaxPrivat&&(vCardString+="TEL;HOME;FAX:"+vCardFaxPrivat+"\n")),""==vCardStreet&&""==vCardCity&&""==vCardZip&&""==vCardCountry||(vCardString+="ADR:;;"+vCardStreet+";"+vCardCity+";"+vCardState+";"+vCardZip+";"+vCardCountry+"\n"),vCardString+="END:VCARD";return vCardString}();break;case"mecard":n=function(){meCardNickname=l(o.qrcode.data.mecardNickname),meCardName=l(o.qrcode.data.mecardLastname),meCardFirstname=l(o.qrcode.data.mecardFirstname),meCardTel1=l(o.qrcode.data.mecardPhone1),meCardTel2=l(o.qrcode.data.mecardPhone2),meCardTel3=l(o.qrcode.data.mecardPhone3),meCardEmail=l(o.qrcode.data.mecardEmail),meCardUrl=l(o.qrcode.data.mecardUrl),meCardStreet=l(o.qrcode.data.mecardStreet),meCardState=l(o.qrcode.data.mecardState),meCardBirthday="",o.qrcode.data.mecardBirthday&&(meCardBirthday=o.qrcode.data.mecardBirthday.replace(/-/g,""));meCardZip=l(o.qrcode.data.mecardZipcode),meCardCity=l(o.qrcode.data.mecardCity),meCardCountry=l(o.qrcode.data.mecardCountry),meCardNotes="",o.qrcode.data.mecardNotes&&(meCardNotes=o.qrcode.data.mecardNotes.replace(/;/g,","));meCardString="MECARD:",""==meCardName&&""==meCardFirstname||(meCardString+="N:"+meCardName+","+meCardFirstname+";");""!=meCardNickname&&(meCardString+="NICKNAME:"+meCardNickname+";");""!=meCardTel1&&(meCardString+="TEL:"+meCardTel1+";");""!=meCardTel2&&(meCardString+="TEL:"+meCardTel2+";");""!=meCardTel3&&(meCardString+="TEL:"+meCardTel3+";");""!=meCardUrl&&(meCardString+="URL:"+meCardUrl+";");""!=meCardEmail&&(meCardString+="EMAIL:"+meCardEmail+";");""!=meCardBirthday&"YYYYMMDD"!=meCardBirthday&&(meCardString+="BDAY:"+meCardBirthday+";");""!=meCardNotes&&(meCardString+="NOTE:"+meCardNotes+";");""==meCardStreet&&""==meCardCity&&""==meCardZip&&""==meCardCountry&&""==meCardState||(meCardString+="ADR:,,"+meCardStreet+","+meCardCity+","+meCardState+","+meCardZip+","+meCardCountry+";");return meCardString+=";"}();break;case"maps":n="https://maps.google.com/local?q="+l(o.qrcode.data.mapsLatitude)+","+l(o.qrcode.data.mapsLongitude);break;case"facebook":n="share"===o.qrcode.data.facebookType?"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(l(o.qrcode.data.facebookShare)):l(o.qrcode.data.facebookUrl);break;case"twitter":n="tweet"===o.qrcode.data.twitterType?"https://twitter.com/intent/tweet?text="+encodeURIComponent(o.qrcode.data.twitterTweet):l(o.qrcode.data.twitterUrl);break;case"youtube":n=l(o.qrcode.data.youtubeUrl);break;case"wifi":n="WIFI:S:"+l(o.qrcode.data.wifiSsid)+";T:"+l(o.qrcode.data.wifiEncryption)+";P:"+l(o.qrcode.data.wifiPassword)+";;";break;case"event":t="BEGIN:VEVENT\n",n=t=(t=(t=(t+="SUMMARY:"+l(o.qrcode.data.eventTitle)+"\n")+"LOCATION:"+l(o.qrcode.data.eventLocation)+"\n")+"DTSTART:"+i(l(o.qrcode.data.eventStarttime))+"\n")+"DTEND:"+i(l(o.qrcode.data.eventEndtime))+"\nEND:VEVENT\n";break;case"banking":n="";break;case"bitcoin":n=function(){var e="";o.qrcode.data.bitcoinAmount&&(e="?amount="+o.qrcode.data.bitcoinAmount);return o.qrcode.data.bitcoinType+":"+o.qrcode.data.bitcoinAddress+e}()}function i(e){return a("date")(e,"yyyyMMddTHHmm00")}return n},o.getContentIcon=function(e){switch(e){case"url":return"fa-globe";case"text":return"fa-file-text";case"email":return"fa-envelope";case"phone":return"fa-phone";case"sms":return"fa-commenting";case"vcard":return"fa-address-card";case"mecard":return"fa-address-book";case"maps":return"fa-map-marker";case"facebook":return"fa-facebook-official";case"twitter":return"fa-twitter";case"youtube":return"fa-youtube";case"wifi":return"fa-wifi";case"event":return"fa-calendar";case"banking":return"fa-credit-card";case"bitcoin":return"fa-btc";default:return"fa-globe"}},o.setLogoMode=function(){o.logoMode?o.qrcode.config.logoMode="clean":o.qrcode.config.logoMode="default"},o.setColorMode=function(){"single"===o.colorMode?(o.qrcode.config.bodyColor=o.qrcode.config.gradientColor1,o.gradientColor2=o.qrcode.config.gradientColor2,o.qrcode.config.gradientColor1=null,o.qrcode.config.gradientColor2=null):(o.qrcode.config.gradientColor1=o.qrcode.config.bodyColor,o.qrcode.config.gradientColor2=o.gradientColor2),o.setGradientOnEyes()},o.swapGradient=function(){var e=o.qrcode.config.gradientColor1,t=o.qrcode.config.gradientColor2;o.qrcode.config.gradientColor1=t,o.qrcode.config.gradientColor2=e,o.qrcode.config.bodyColor=t},o.swapEyeColor=function(){var e=o.qrcode.config.eyeBall1Color,t=o.qrcode.config.eye1Color;o.qrcode.config.eye1Color=e,o.qrcode.config.eye2Color=e,o.qrcode.config.eye3Color=e,o.qrcode.config.eyeBall1Color=t,o.qrcode.config.eyeBall2Color=t,o.qrcode.config.eyeBall3Color=t},o.copyForeground=function(){eyeBallColor=o.qrcode.config.gradientColor1?(frameColor=o.qrcode.config.gradientColor1,o.qrcode.config.gradientColor2):(frameColor=o.qrcode.config.bodyColor,o.qrcode.config.bodyColor),o.qrcode.config.eye1Color=frameColor,o.qrcode.config.eye2Color=frameColor,o.qrcode.config.eye3Color=frameColor,o.qrcode.config.eyeBall1Color=eyeBallColor,o.qrcode.config.eyeBall2Color=eyeBallColor,o.qrcode.config.eyeBall3Color=eyeBallColor},o.setGradientOnEyes=function(){var e,t;!o.qrcode.config.gradientOnEyes||null!==o.qrcode.config.gradientColor1&&""!==o.qrcode.config.gradientColor1||(e=o.qrcode.config.bodyColor,t=o.qrcode.config.bodyColor,o.qrcode.config.eye1Color=e,o.qrcode.config.eye2Color=e,o.qrcode.config.eye3Color=e,o.qrcode.config.eyeBall1Color=t,o.qrcode.config.eyeBall2Color=t,o.qrcode.config.eyeBall3Color=t)},o.setBodyShape=function(e){o.qrcode.config.body=e},o.setEyeBallShape=function(e){o.qrcode.config.eyeBall=e;e=t.getDefaultBallRotation(e);o.qrcode.config.brf1=e.brf1,o.qrcode.config.brf2=e.brf2,o.qrcode.config.brf3=e.brf3},o.setEyeFrameShape=function(e){o.qrcode.config.eye=e;e=t.getDefaultFrameRotation(e);o.qrcode.config.erf1=e.erf1,o.qrcode.config.erf2=e.erf2,o.qrcode.config.erf3=e.erf3},o.setLogo=function(e){o.qrcode.config.logo="#"+e,o.logoPreview="/img/qr/logos/"+e+".svg",analyticsEvent("UI","set logo",e)},o.setTemplate=function(e){var t;o.qrcode.config=angular.copy(i.templates[e].config),o.qrcode.config.logoMode||(o.logoMode=!1,o.setLogoMode()),null!==i.templates[e].config.gradientColor1&&""!==i.templates[e].config.gradientColor1?(o.gradientColor1=angular.copy(i.templates[e].config.gradientColor1),o.gradientColor2=angular.copy(i.templates[e].config.gradientColor2),o.colorMode="gradient"):o.colorMode="single",""!==i.templates[e].config.logo&&(t=i.templates[e].config.logo,o.setLogo(t.replace("#",""))),o.setCustomEyeColorMode(),o.showTemplates=!1,o.qrcodeGenerator(),analyticsEvent("templates","select",i.templates[e].name)},o.setCustomEyeColorMode=function(){o.qrcode.config.gradientOnEyes?o.customEyeColor=!1:o.customEyeColor=!0},o.onLogoSelect=function(e){if(e&&e[0])if(2145800<e[0].size)o.fileSizeError=!0;else if(o.fileSizeError=!1,0===e[0].type.indexOf("image")){var t=new FileReader;t.onload=function(){o.logoPreview=t.result},e[0]&&t.readAsDataURL(e[0]),analyticsEvent("API","uploadImage",e[0].type);for(var n=0;n<e.length;n++){var i=e[n];o.upload=r.upload({url:apiDomain+"/qr/uploadimage",data:{myObj:o.myModelObj},file:i}).progress(function(e){o.uploadProgress=100*e.loaded/e.total+"%"}).success(function(e,t,n,i){o.qrcode.config.logo=e.file,o.generateActive=!0}).error(function(e,t,n,i){analyticsEvent("Errors","upload image api",t)})}}},o.setLocation=function(){"object"==typeof o.mapsSearch&&(o.qrcode.data.mapsLatitude=o.mapsSearch.geometry.location.lat(),o.qrcode.data.mapsLongitude=o.mapsSearch.geometry.location.lng(),o.updateMap())},o.updateMap=function(){o.marker.setPosition(new google.maps.LatLng(o.qrcode.data.mapsLatitude,o.qrcode.data.mapsLongitude)),o.map.setCenter(new google.maps.LatLng(o.qrcode.data.mapsLatitude,o.qrcode.data.mapsLongitude))},o.qrcodeGenerator=function(){var e,t;o.currentForm=o[o.qrcode.type+"Form"],o.isLoading||(o.currentForm.$invalid?(o.currentForm.$setSubmitted(),o.editView="content"):(o.isLoading=!0,o.generateActive=!1,console.log(JSON.stringify(o.qrcode.config)),o.tempQrcode=angular.copy(o.qrcode),!o.tempQrcode.config.gradientOnEyes||null!==o.tempQrcode.config.gradientColor1&&""!==o.tempQrcode.config.gradientColor1||(e=o.tempQrcode.config.bodyColor,t=o.tempQrcode.config.bodyColor,o.tempQrcode.config.eye1Color=e,o.tempQrcode.config.eye2Color=e,o.tempQrcode.config.eye3Color=e,o.tempQrcode.config.eyeBall1Color=t,o.tempQrcode.config.eyeBall2Color=t,o.tempQrcode.config.eyeBall3Color=t),analyticsEvent("API","create","svg-"+o.tempQrcode.size),analyticsEvent("UI","data type",o.tempQrcode.type),o.tempQrcode.config.logo&&analyticsEvent("UI","set logo mode",o.tempQrcode.config.logoMode),n({method:"post",url:apiDomain+"/qr/custom",data:{data:o.getTypeData(o.tempQrcode.type),config:o.tempQrcode.config,size:o.tempQrcode.size,download:"imageUrl",file:"svg"}}).then(function(e){o.qrcodePreview=e.data.imageUrl+"?"+(new Date).getTime(),o.isLoading=!1},function(e){analyticsEvent("Errors","custom qr api",e.status),o.isLoading=!1})))},o.download=function(e){o.showDownloadModal=!0,o.isGeneratingModal=!0,o.downloadTimeout=s(function(){window.location=apiDomain+"/qr/custom?download=true&file="+e+"&data="+encodeURIComponent(o.getTypeData(o.tempQrcode.type))+"&size="+o.tempQrcode.size+"&config="+encodeURIComponent(JSON.stringify(o.tempQrcode.config)),analyticsEvent("API","create",e+"-"+o.tempQrcode.size),analyticsEvent("UI","download",e),o.isGeneratingModal=!1},9500)},o.closeDownloadModal=function(){s.cancel(o.downloadTimeout),o.showDownloadModal=!1},o.openModal=function(e){switch(e){case"download":return o.showDownloadModal=!0;case"print":return o.showPrintModal=!0;case"statistics":return o.showStatisticsModal=!0;case"logo":return o.showLogoModal=!0;case"types":return o.showTypesModal=!0;default:return!1}},o.closeModal=function(e){switch(e){case"download":return!(o.showDownloadModal=!1);case"print":return!(o.showPrintModal=!1);case"statistics":return!(o.showStatisticsModal=!1);case"logo":return!(o.showLogoModal=!1);case"types":return!(o.showTypesModal=!1);default:return!1}},o.getBrightness=function(e){return tinycolor(e).getBrightness()},o.contrastCheck=function(){var e=o.getBrightness(o.qrcode.config.bodyColor),t=o.getBrightness(o.qrcode.config.gradientColor1),n=o.getBrightness(o.qrcode.config.gradientColor2),i=o.getBrightness(o.qrcode.config.eye1Color),r=o.getBrightness(o.qrcode.config.eyeBall1Color);return!(o.getBrightness(o.qrcode.config.bgColor)<210||160<=i||160<=r||180<=e&&!o.colorMode||(180<=t||180<=n)&&o.colorMode)}}]),App.controller("TransparentGeneratorCtrl",["$scope","$http","Upload","PresetService","TemplateService","$filter",function(r,t,o,e,n){r.PresetService=e,r.TemplateService=n;function a(e){return void 0===e?"":e}r.sliderOptions={floor:200,ceil:2e3,step:25,hidePointerLabels:!0,hideLimitLabels:!0},r.setTab=function(e){r.qrcode.type=e,r.currentForm=r[r.qrcode.type+"Form"],r.editView="content","maps"===e&&null==r.map&&"undefined"!=typeof google&&(e={zoom:3,center:new google.maps.LatLng(51.049259,13.73836),mapTypeId:google.maps.MapTypeId.TERRAIN},r.map=new google.maps.Map(document.getElementById("map"),e),r.marker=new google.maps.Marker({map:r.map,position:new google.maps.LatLng(51.049259,13.73836),title:"Location",draggable:!0}),google.maps.event.addListener(r.marker,"dragend",function(e){r.qrcode.data.mapsLatitude=r.marker.getPosition().lat(),r.qrcode.data.mapsLongitude=r.marker.getPosition().lng(),r.$apply()}),google.maps.event.addListener(r.map,"click",function(e){r.marker.setPosition(e.latLng),r.qrcode.data.mapsLatitude=r.marker.getPosition().lat(),r.qrcode.data.mapsLongitude=r.marker.getPosition().lng(),r.$apply()}))},r.setEditView=function(e){r.editView!==e?r.editView=e:r.editView=""},r.editView="content",r.qrcode={},-1<["url","text","email","phone","sms","vcard","mecard","maps","facebook","twitter","youtube","wifi","event"].indexOf(window.location.hash.substring(1))?r.setTab(window.location.hash.substring(1)):r.setTab("url"),r.qrcode.size=200,r.qrcode.x=0,r.qrcode.y=0,r.qrcode.crop=!1,r.qrcode.data={},r.qrcode.data.url="https://www.qrcode-monkey.com",r.qrcode.data.facebookType="url",r.qrcode.data.twitterType="url",r.qrcode.data.mapsLatitude=51.049259,r.qrcode.data.mapsLongitude=13.73836,r.qrcode.data.eventStarttime=new Date,r.qrcode.data.eventEndtime=new Date,r.getTypeData=function(e){var t,n=" ";switch(e){case"url":n=a(r.qrcode.data.url);break;case"text":n=a(r.qrcode.data.text);break;case"email":n=function(){var e="mailto:"+r.qrcode.data.email;if(r.qrcode.data.emailSubject&&r.qrcode.data.emailMessage)return e+"?subject="+r.qrcode.data.emailSubject+"&body="+r.qrcode.data.emailMessage;if(r.qrcode.data.emailSubject)return e+"?subject="+r.qrcode.data.emailSubject;if(r.qrcode.data.emailMessage)return e+"?body="+r.qrcode.data.emailMessage;return e}();break;case"phone":n="tel:"+a(r.qrcode.data.phone);break;case"sms":n="SMSTO:"+a(r.qrcode.data.smsPhone)+":"+a(r.qrcode.data.smsText);break;case"vcard":n=function(){vCardTitle=a(r.qrcode.data.vcardTitle),vCardName=a(r.qrcode.data.vcardLastname),vCardFirstname=a(r.qrcode.data.vcardFirstname),vCardTelWork=a(r.qrcode.data.vcardPhoneWork),vCardCell=a(r.qrcode.data.vcardPhoneMobile),vCardTelPrivat=a(r.qrcode.data.vcardPhonePrivate),vCardFaxWork=a(r.qrcode.data.vcardFaxWork),vCardFaxPrivat=a(r.qrcode.data.vcardFaxPrivate),vCardEmail=a(r.qrcode.data.vcardEmail),vCardUrl=a(r.qrcode.data.vcardUrl),vCardOrg=a(r.qrcode.data.vcardOrganization),vCardStreet=a(r.qrcode.data.vcardStreet),vCardZip=a(r.qrcode.data.vcardZipcode),vCardCity=a(r.qrcode.data.vcardCity),vCardCountry=a(r.qrcode.data.vcardCountry),vCardState=a(r.qrcode.data.vcardState),vCardString="BEGIN:VCARD\n",vCardString+="VERSION:3.0\n",""==vCardName&&""==vCardFirstname||(vCardString=(vCardString+="N:"+vCardName+";"+vCardFirstname+"\n")+"FN:"+vCardFirstname+" "+vCardName+"\n");""!=vCardTitle&&(vCardString+="TITLE:"+vCardTitle+"\n");""!=vCardOrg&&(vCardString+="ORG:"+vCardOrg+"\n");""!=vCardUrl&&(vCardString+="URL:"+vCardUrl+"\n");""!=vCardEmail&&(vCardString+="EMAIL;TYPE=INTERNET:"+vCardEmail+"\n");""!=vCardTelWork&&(vCardString+="TEL;TYPE=voice,work,pref:"+vCardTelWork+"\n");""!=vCardTelPrivat&&(vCardString+="TEL;TYPE=voice,home,pref:"+vCardTelPrivat+"\n");""!=vCardCell&&(vCardString+="TEL;TYPE=voice,cell,pref:"+vCardCell+"\n");""!=vCardFaxWork&&(vCardString+="TEL;TYPE=fax,work,pref:"+vCardFaxWork+"\n");""!=vCardFaxPrivat&&(vCardString+="TEL;TYPE=fax,home,pref:"+vCardFaxPrivat+"\n");""==vCardStreet&&""==vCardCity&&""==vCardZip&&""==vCardCountry||(vCardString+="ADR;TYPE=intl,postal,parcel:;;"+vCardStreet+";"+vCardCity+";"+vCardState+";"+vCardZip+";"+vCardCountry+"\n");return vCardString+="END:VCARD"}();break;case"mecard":n=function(){meCardNickname=a(r.qrcode.data.mecardNickname),meCardName=a(r.qrcode.data.mecardLastname),meCardFirstname=a(r.qrcode.data.mecardFirstname),meCardTel1=a(r.qrcode.data.mecardPhone1),meCardTel2=a(r.qrcode.data.mecardPhone2),meCardTel3=a(r.qrcode.data.mecardPhone3),meCardEmail=a(r.qrcode.data.meCardEmail),meCardUrl=a(r.qrcode.data.mecardUrl),meCardStreet=a(r.qrcode.data.mecardStreet),meCardState=a(r.qrcode.data.mecardState),meCardBirthday="",r.qrcode.data.mecardBirthday&&(meCardBirthday=r.qrcode.data.mecardBirthday.replace(/-/g,""));meCardZip=a(r.qrcode.data.mecardZipcode),meCardCity=a(r.qrcode.data.mecardCity),meCardCountry=a(r.qrcode.data.mecardCountry),meCardNotes="",r.qrcode.data.mecardNotes&&(meCardNotes=r.qrcode.data.mecardNotes.replace(/;/g,","));meCardString="MECARD:",""==meCardName&&""==meCardFirstname||(meCardString+="N:"+meCardName+","+meCardFirstname+";");""!=meCardNickname&&(meCardString+="NICKNAME:"+meCardNickname+";");""!=meCardTel1&&(meCardString+="TEL:"+meCardTel1+";");""!=meCardTel2&&(meCardString+="TEL:"+meCardTel2+";");""!=meCardTel3&&(meCardString+="TEL:"+meCardTel3+";");""!=meCardUrl&&(meCardString+="URL:"+meCardUrl+";");""!=meCardEmail&&(meCardString+="EMAIL:"+meCardEmail+";");""!=meCardBirthday&"YYYYMMDD"!=meCardBirthday&&(meCardString+="BDAY:"+meCardBirthday+";");""!=meCardNotes&&(meCardString+="NOTE:"+meCardNotes+";");""==meCardStreet&&""==meCardCity&&""==meCardZip&&""==meCardCountry&&""==meCardState||(meCardString+="ADR:,,"+meCardStreet+","+meCardCity+","+meCardState+","+meCardZip+","+meCardCountry+";");return meCardString+=";"}();break;case"maps":n="https://maps.google.com/local?q="+a(r.qrcode.data.mapsLatitude)+","+a(r.qrcode.data.mapsLongitude);break;case"facebook":n="share"===r.qrcode.data.facebookType?"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(a(r.qrcode.data.facebookShare)):a(r.qrcode.data.facebookUrl);break;case"twitter":n="tweet"===r.qrcode.data.twitterType?"https://twitter.com/intent/tweet?text="+encodeURIComponent(r.qrcode.data.twitterTweet):a(r.qrcode.data.twitterUrl);break;case"youtube":n=a(r.qrcode.data.youtubeUrl);break;case"wifi":n="WIFI:S:"+a(r.qrcode.data.wifiSsid)+";T:"+a(r.qrcode.data.wifiEncryption)+";P:"+a(r.qrcode.data.wifiPassword)+";;";break;case"event":t="BEGIN:VEVENT\n",n=t=(t=(t=(t+="SUMMARY:"+a(r.qrcode.data.eventTitle)+"\n")+"LOCATION:"+a(r.qrcode.data.eventLocation)+"\n")+"DTSTART:"+i(a(r.qrcode.data.eventStarttime))+"\n")+"DTEND:"+i(a(r.qrcode.data.eventEndtime))+"\nEND:VEVENT\n";break;case"banking":n=""}function i(e){return $filter("date")(e,"yyyyMMddTHHmm00")}return n},r.getContentIcon=function(e){switch(e){case"url":return"fa-globe";case"text":return"fa-file-text";case"email":return"fa-envelope";case"phone":return"fa-phone";case"sms":return"fa-commenting";case"vcard":return"fa-address-card";case"mecard":return"fa-address-book";case"maps":return"fa-map-marker";case"facebook":return"fa-facebook-official";case"twitter":return"fa-twitter";case"youtube":return"fa-youtube";case"wifi":return"fa-wifi";case"event":return"fa-calendar";case"banking":return"fa-credit-card";default:return"fa-globe"}},r.onImageSelect=function(e){if(e&&e[0])if(12145800<e[0].size)r.fileSizeError=!0;else if(r.fileSizeError=!1,0===e[0].type.indexOf("image")){var t=new FileReader;t.onload=function(){r.imagePreview=t.result},e[0]&&t.readAsDataURL(e[0]);for(var n=0;n<e.length;n++){var i=e[n];r.upload=o.upload({url:apiDomain+"/qr/uploadimage",data:{myObj:r.myModelObj},file:i}).progress(function(e){r.uploadProgress=100*e.loaded/e.total+"%",console.log("percent: "+parseInt(100*e.loaded/e.total))}).success(function(e,t,n,i){r.qrcode.image=e.file,r.cropper?r.cropper.replace(r.imagePreview):r.setCropper()}).error(function(e,t,n,i){console.log(t)})}}},r.setLocation=function(){"object"==typeof r.mapsSearch&&(r.qrcode.data.mapsLatitude=r.mapsSearch.geometry.location.lat(),r.qrcode.data.mapsLongitude=r.mapsSearch.geometry.location.lng(),r.updateMap())},r.updateMap=function(){r.marker.setPosition(new google.maps.LatLng(r.qrcode.data.mapsLatitude,r.qrcode.data.mapsLongitude)),r.map.setCenter(new google.maps.LatLng(r.qrcode.data.mapsLatitude,r.qrcode.data.mapsLongitude))},r.qrcodeGenerator=function(){var e;r.currentForm=r[r.qrcode.type+"Form"],r.isLoading||(r.currentForm.$invalid?(r.currentForm.$setSubmitted(),r.editView="content"):(r.isLoading=!0,e=r.cropper.getData(!0),r.qrcode.x=e.x,r.qrcode.y=e.y,r.qrcode.size=e.width,t({method:"post",url:apiDomain+"/qr/transparent",data:{data:r.getTypeData(r.qrcode.type),image:r.qrcode.image,x:r.qrcode.x,y:r.qrcode.y,size:r.qrcode.size,download:"imageUrl",file:"jpg",crop:r.qrcode.crop}}).then(function(e){r.qrcodePreview=e.data.imageUrl+"?"+(new Date).getTime(),r.isLoading=!1},function(e){r.isLoading=!1})))},r.download=function(e){window.location=apiDomain+"/qr/custom?download=true&file="+e+"&data="+encodeURIComponent(r.getTypeData(r.tempQrcode.type))+"&size="+r.tempQrcode.size+"&config="+encodeURIComponent(JSON.stringify(r.tempQrcode.config))},r.setCropper=function(){var e=document.getElementById("cropImage");console.log(e);r.cropper=new Cropper(e,{aspectRatio:1,viewMode:2,dragMode:"move",autoCropArea:1,cropBoxMovable:!0,cropBoxResizable:!0,zoomable:!1,movable:!1,scalable:!1,guides:!1,center:!1,minCropBoxWidth:100,minCropBoxHeight:100})},r.resetPreview=function(){r.qrcodePreview=null}}]),App.factory("PresetService",function(){return this.designOptions={},this.designOptions.body=[{type:"square"},{type:"mosaic"},{type:"dot"},{type:"circle"},{type:"circle-zebra"},{type:"circle-zebra-vertical"},{type:"circular"},{type:"edge-cut"},{type:"edge-cut-smooth"},{type:"japnese"},{type:"leaf"},{type:"pointed"},{type:"pointed-edge-cut"},{type:"pointed-in"},{type:"pointed-in-smooth"},{type:"pointed-smooth"},{type:"round"},{type:"rounded-in"},{type:"rounded-in-smooth"},{type:"rounded-pointed"},{type:"star"},{type:"diamond"}],this.designOptions.eyeBalls=[{type:"ball0"},{type:"ball1"},{type:"ball2"},{type:"ball3"},{type:"ball5"},{type:"ball6"},{type:"ball7"},{type:"ball8"},{type:"ball10"},{type:"ball11"},{type:"ball12"},{type:"ball13"},{type:"ball14"},{type:"ball15"},{type:"ball16"},{type:"ball17"},{type:"ball18"},{type:"ball19"}],this.designOptions.eyeFrames=[{type:"frame0"},{type:"frame1"},{type:"frame2"},{type:"frame3"},{type:"frame4"},{type:"frame5"},{type:"frame6"},{type:"frame7"},{type:"frame8"},{type:"frame10"},{type:"frame11"},{type:"frame12"},{type:"frame13"},{type:"frame14"},{type:"frame16"}],this.designOptions.logos=[{type:"qrcodemonkey"},{type:"facebook"},{type:"facebook-circle"},{type:"twitter-circle"},{type:"youtube"},{type:"youtube-circle"},{type:"googleplus-circle"},{type:"instagram-circle"},{type:"linkedin-circle"},{type:"xing-circle"},{type:"pinterest-circle"},{type:"vimeo-circle"},{type:"soundcloud-circle"},{type:"vk-circle"},{type:"whatsapp-circle"},{type:"appstore"},{type:"google-play"},{type:"gmail"},{type:"calendar-circle"},{type:"document-circle"},{type:"phone-circle"},{type:"share-circle"},{type:"wifi-circle"},{type:"bitcoin"}],this.getDefaultFrameRotation=function(e){var t={};switch(e){case"frame1":t.erf1=["fh"],t.erf2=[],t.erf3=["fh","fv"];break;case"frame2":t.erf1=["fv"],t.erf2=[],t.erf3=[];break;case"frame3":t.erf1=["fv"],t.erf2=["fv","fh"],t.erf3=[];break;case"frame5":t.erf1=["fh"],t.erf2=[],t.erf3=["fh","fv"];break;case"frame6":t.erf1=["fv"],t.erf2=[],t.erf3=[];break;case"frame8":t.erf1=["fv"],t.erf2=["fh","fv"],t.erf3=[];break;case"frame14":case"frame16":t.erf1=[],t.erf2=["fh"],t.erf3=["fv"];break;case"frame0":case"frame4":case"frame7":case"frame9":case"frame10":case"frame11":case"frame12":case"frame13":t.erf1=[],t.erf2=[],t.erf3=[]}return t},this.getDefaultBallRotation=function(e){var t={};switch(e){case"ball1":t.brf1=["fh"],t.brf2=[],t.brf3=["fh","fv"];break;case"ball2":t.brf1=["fv"],t.brf2=[],t.brf3=[];break;case"ball3":t.brf1=["fv"],t.brf2=["fv","fh"],t.brf3=[];break;case"ball6":case"ball8":t.brf1=["fv"],t.brf2=[],t.brf3=[];break;case"ball11":t.brf1=["fh"],t.brf2=[],t.brf3=["fh","fv"];break;case"ball16":case"ball17":case"ball19":t.brf1=[],t.brf2=["fh"],t.brf3=["fv"];break;case"ball0":case"ball4":case"ball5":case"ball7":case"ball9":case"ball10":case"ball12":case"ball13":case"ball14":case"ball15":case"ball18":t.brf1=[],t.brf2=[],t.brf3=[]}return t},this}),App.factory("TemplateService",function(){return this.templates=[{name:"Classic",thumb:"classic.svg",config:{body:"square",eye:"frame0",eyeBall:"ball0",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#000000",bgColor:"#FFFFFF",eye1Color:"#000000",eye2Color:"#000000",eye3Color:"#000000",eyeBall1Color:"#000000",eyeBall2Color:"#000000",eyeBall3Color:"#000000",gradientColor1:null,gradientColor2:null,gradientType:"linear",gradientOnEyes:!0,logo:""}},{name:"Easy",thumb:"easy.svg",config:{body:"circular",eye:"frame13",eyeBall:"ball15",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#113151",bgColor:"#FFFFFF",eye1Color:"#000000",eye2Color:"#000000",eye3Color:"#000000",eyeBall1Color:"#000000",eyeBall2Color:"#000000",eyeBall3Color:"#000000",gradientColor1:null,gradientColor2:null,gradientType:"linear",gradientOnEyes:!0,logo:""}},{name:"Facebook",thumb:"facebook.svg",config:{body:"pointed-smooth",eye:"frame2",eyeBall:"ball2",erf1:["fv"],erf2:[],erf3:[],brf1:["fv"],brf2:[],brf3:[],bodyColor:"#3b5998",bgColor:"#FFFFFF",eye1Color:"#3B5998",eye2Color:"#3b5998",eye3Color:"#3b5998",eyeBall1Color:"#3b5998",eyeBall2Color:"#3b5998",eyeBall3Color:"#3b5998",gradientColor1:"#2C4270",gradientColor2:"#476CB9",gradientType:"linear",gradientOnEyes:!1,logo:"#facebook"}},{name:"Twitter",thumb:"twitter.svg",config:{body:"circular",eye:"frame5",eyeBall:"ball11",erf1:["fh"],erf2:[],erf3:["fh","fv"],brf1:["fh"],brf2:[],brf3:["fh","fv"],bodyColor:"#55ACEE",bgColor:"#FFFFFF",eye1Color:"#55acee",eye2Color:"#55acee",eye3Color:"#55acee",eyeBall1Color:"#55ACEE",eyeBall2Color:"#55acee",eyeBall3Color:"#55acee",gradientColor1:null,gradientColor2:null,gradientType:"radial",gradientOnEyes:!1,logo:"#twitter-circle"}},{name:"Youtube",thumb:"youtube.svg",config:{body:"circle",eye:"frame13",eyeBall:"ball14",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#EE0F0F",bgColor:"#FFFFFF",eye1Color:"#BF2626",eye2Color:"#BF2626",eye3Color:"#BF2626",eyeBall1Color:"#EE0F0F",eyeBall2Color:"#EE0F0F",eyeBall3Color:"#EE0F0F",gradientColor1:null,gradientColor2:null,gradientType:"linear",gradientOnEyes:!1,logo:"#youtube"}},{name:"Monkey",thumb:"monkey.svg",config:{body:"mosaic",eye:"frame13",eyeBall:"ball15",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#0277BD",bgColor:"#FFFFFF",eye1Color:"#303236",eye2Color:"#303236",eye3Color:"#303236",eyeBall1Color:"#303236",eyeBall2Color:"#303236",eyeBall3Color:"#303236",gradientColor1:"#0277BD",gradientColor2:"309195",gradientType:"linear",gradientOnEyes:!0,logo:"#qrcodemonkey"}},{name:"Rain",thumb:"rain.svg",config:{body:"circle-zebra-vertical",eye:"frame13",eyeBall:"ball15",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#0277BD",bgColor:"#FFFFFF",eye1Color:"#075685",eye2Color:"#075685",eye3Color:"#075685",eyeBall1Color:"#0277BD",eyeBall2Color:"#0277BD",eyeBall3Color:"#0277BD",gradientColor1:"#075685",gradientColor2:"#0277BD",gradientType:"linear",gradientOnEyes:!1,logo:""}},{name:"Jungle",thumb:"jungle.svg",config:{body:"rounded-pointed",eye:"frame14",eyeBall:"ball16",erf1:[],erf2:["fh"],erf3:["fv"],brf1:[],brf2:["fh"],brf3:["fv"],bodyColor:"#5C8B29",bgColor:"#FFFFFF",eye1Color:"#3F6B2B",eye2Color:"#3F6B2B",eye3Color:"#3F6B2B",eyeBall1Color:"#60A541",eyeBall2Color:"#60A541",eyeBall3Color:"#60A541",gradientColor1:"#5C8B29",gradientColor2:"#25492F",gradientType:"radial",gradientOnEyes:!1,logo:""}},{name:"Mosaic",thumb:"mosaic.svg",config:{body:"mosaic",eye:"frame16",eyeBall:"ball8",erf1:[],erf2:[],erf3:[],brf1:["fv"],brf2:[],brf3:[],bodyColor:"#000000",bgColor:"#FFFFFF",eye1Color:"#000000",eye2Color:"#000000",eye3Color:"#000000",eyeBall1Color:"#000000",eyeBall2Color:"#000000",eyeBall3Color:"#000000",gradientColor1:"#A13535",gradientColor2:"#0277bd",gradientType:"linear",gradientOnEyes:"true",logo:""}},{name:"Dot",thumb:"dot.svg",config:{body:"dot",eye:"frame0",eyeBall:"ball14",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#0277bd",bgColor:"#FFFFFF",eye1Color:"#0277bd",eye2Color:"#0277bd",eye3Color:"#0277bd",eyeBall1Color:"#0277bd",eyeBall2Color:"#0277bd",eyeBall3Color:"#0277bd",gradientColor1:null,gradientColor2:null,gradientType:"linear",gradientOnEyes:!0,logo:""}},{name:"Coffee",thumb:"coffee.svg",config:{body:"mosaic",eye:"frame8",eyeBall:"ball19",erf1:["fv"],erf2:[],erf3:[],bodyColor:"#0F8EAA",bgColor:"#FAEDE7",eye1Color:"#303236",eye2Color:"#303236",eye3Color:"#303236",eyeBall1Color:"#303236",eyeBall2Color:"#303236",eyeBall3Color:"#303236",gradientColor1:"#754D32",gradientColor2:"#57503B",gradientType:"linear",gradientOnEyes:!0,logo:""}},{name:"Ninja",thumb:"ninja.svg",config:{body:"japnese",eye:"frame12",eyeBall:"ball14",erf1:[],erf2:[],erf3:[],brf1:[],brf2:[],brf3:[],bodyColor:"#0F8EAA",bgColor:"#FFFFFF",eye1Color:"#303236",eye2Color:"#303236",eye3Color:"#303236",eyeBall1Color:"#303236",eyeBall2Color:"#303236",eyeBall3Color:"#303236",gradientColor1:"#BD1D2B",gradientColor2:"#96207E",gradientType:"linear",gradientOnEyes:!1,logo:""}},{name:"Bitcoin",thumb:"bitcoin.svg",config:{body:"circle",eye:"frame1",eyeBall:"ball1",erf1:["fh"],erf2:[],erf3:["fh","fv"],brf1:["fh"],brf2:[],brf3:["fh","fv"],bodyColor:"#4D4D4D",bgColor:"#FFFFFF",eye1Color:"#4D4D4D",eye2Color:"#4D4D4D",eye3Color:"#4D4D4D",eyeBall1Color:"#F38E14",eyeBall2Color:"#F38E14",eyeBall3Color:"#F38E14",gradientColor1:"",gradientColor2:"",gradientType:"linear",gradientOnEyes:!1,logo:"#bitcoin"}}],this});